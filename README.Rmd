---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r knitr_init, echo=FALSE}
knitr::opts_chunk$set(
  collapse=TRUE,
  warning=FALSE,
  message=FALSE,
  comment="#>",
  fig.path="README-"
);
library(jamba);
```
# jamba

The goal of jamba is to provide useful custom functions for R data
analysis and visualization.

### Notes about functions that create plots

Many of the plotting functions were originally developed with R base
graphics, some but not all of which are transitioning to enable ggplot
output as an option. The initial excitement of producing an interactive
ggplotly plot wears off when rendering more data points than the
plotly system can comfortably handle. Similar ceilings exist with
ggplot, for example the display of gradient and categorical colors on
the same plot.

That said, much of the "work" of the plot functions are intended simply
to make visual settings easier to apply.


A short overview of available methods:

* __plotSmoothScatter__: proper smooth scatter plot with fine detail.
* __imageDefault__: rasterized image plots.
* __imageByColors__: data.frame to image plot, rapidly view a table of
   colors. It displays repeated labels only once in the middle position,
   which makes it useful when displaying statistical groupings. 
* __mixedSort__: efficient alphanumeric sort maintaining proper numeric order.
* __rbindList__: list to data.frame without padding empty cells.
* Also vectorized text styles, stackable color manipulations, vector names
  with versioning.

## plotSmoothScatter example

The plotSmoothScatter() function provides an alternative to the
base smoothScatter() function. It enhances the default bandwidth, which
increases visible detail in the image. It also enables the parameter
useRaster=TRUE which creates a rasterized image instead of using individual
polygons to display each pixel in the plot. The useRaster=TRUE parameter
can vastly decrease file space, memory requirements when opening the file,
and speed of creating and rendering figures.

The panels below compare the default smoothScatter() (left column) to
plotSmoothScatter() using two levels of bandwidth detail.

```{r example1, results="hide", fig.height=8, fig.width=8}
plotSmoothScatter(doTest=TRUE);
```

## mixedSort example

The mixedSort() function is an optimization and extension of a similar
function in the gtools package, called `gtools::mixedsort()`. Due credit to
Gregory R. Barnes for initial implementation, which inspired this function.

The mixedSort() function was driven also by the
desire to sort tens of thousands of gene symbols and micro-RNAs (miRNAs)
efficiently, and based upon a known order. Also, because miRNA nomenclature
includes a dash '-' character, numbers with a preceding "-" are no longer
negative values during this sorting algorithm, unless overridden.
For example "miR-2" should sort before "miR-11", and after "miR-1".

```{r example2, echo=FALSE, results='asis'}
x <- c("miR-12","miR-1","miR-122","miR-1b", "miR-1a", "miR-2");
df <- data.frame(sort=sort(x), mixedSort=mixedSort(x));
knitr::kable(df);
```

Note: it took roughly 12 seconds to sort 43,000 gene symbols using
gtools::mixedsort, and roughly 0.5 seconds using mixedSort.

