<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate row group means, or other statistics — rowGroupMeans • jamba</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Calculate row group means, or other statistics — rowGroupMeans" />

<meta property="og:description" content="Calculate row group means, or other statistics" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jamba</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.25.900</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/jamba-vignette.html">Jamba Overview</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jmw86069/jamba">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate row group means, or other statistics</h1>
    <small class="dont-index">Source: <a href='https://github.com/jmw86069/jamba/blob/master/R/jamba.r'><code>R/jamba.r</code></a></small>
    <div class="hidden name"><code>rowGroupMeans.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Calculate row group means, or other statistics</p>
    
    </div>

    <pre class="usage"><span class='fu'>rowGroupMeans</span>(<span class='no'>x</span>, <span class='no'>groups</span>, <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>useMedian</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>rmOutliers</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>madFactor</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>returnType</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"output"</span>,
  <span class='st'>"input"</span>), <span class='kw'>rowStatsFunc</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>groupOrder</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"same"</span>, <span class='st'>"sort"</span>),
  <span class='kw'>keepNULLlevels</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>numeric data matrix</p></td>
    </tr>
    <tr>
      <th>groups</th>
      <td><p>vector of group labels, either as a character
vector, or a factor. See the parameter <code>groupOrder</code> for
ordering of group labels in the output data matrix.</p></td>
    </tr>
    <tr>
      <th>useMedian</th>
      <td><p>logical indicating whether the default
stat should be "mean" or "median".</p></td>
    </tr>
    <tr>
      <th>rmOutliers</th>
      <td><p>logical indicating whether to apply outlier
detection and removal.</p></td>
    </tr>
    <tr>
      <th>madFactor</th>
      <td><p>numeric value indicating the multiple of the
MAD value to define outliers. For example <code>madFactor=5</code>
will take the MAD value for a group multiplied by 5,
5<em>MAD, as a threshold for outliers. So any points more than
5</em>MAD distance from the median per group are outliers.</p></td>
    </tr>
    <tr>
      <th>returnType</th>
      <td><p>character value indicating the return data
type, <code>"output"</code> returns one summary stat value per group, per row;
<code>"input"</code> is useful when <code>rmOutliers=TRUE</code> in that it returns
a matrix with the same dimensions as the input, except with
outlier points replaced with NA.</p></td>
    </tr>
    <tr>
      <th>rowStatsFunc</th>
      <td><p>optional function which takes a numeric matrix
as input, and returns a numeric vector equal to the number of
rows of the input data matrix. Examples: <code><a href='https://www.rdocumentation.org/packages/base/topics/colSums'>base::rowMeans()</a></code>,
<code>base::rowMedians()</code>, <code><a href='https://www.rdocumentation.org/packages/matrixStats/topics/rowSds'>matrixStats::rowMads</a></code>.</p></td>
    </tr>
    <tr>
      <th>groupOrder</th>
      <td><p>character value indicating how character group
labels are ordered in the final data matrix, when <code>returnType="output"</code>.
Note that when <code>groups</code> is a factor, the factor levels are kept
in that order. Otherwise, <code>"same"</code> keeps groups in the same
order they appear in the input matrix; <code>"sort"</code> applies
<code><a href='mixedSort.html'>jamba::mixedSort()</a></code> to the labels.</p></td>
    </tr>
    <tr>
      <th>keepNULLlevels</th>
      <td><p>logical indicating whether to keep factor
levels even when there are no corresponding columns in <code>x</code>.
When <code>TRUE</code> and <code>returnType="output"</code> the output matrix will
contain one colname for each factor level, with NA values used
to fill empty factor levels. This mechanism can be helpful to
ensure that output matrices have consistent colnames.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical indicating whether to print verbose output.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional parameters are passed to <code>rowStatsFunc</code>,
and if <code>rmOutliers=TRUE</code> to <code><a href='rowRmMadOutliers.html'>jamba::rowRmMadOutliers()</a></code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>When <code>returnType="output"</code> the output is a numeric matrix
with the same number of columns as the number of unique
<code>groups</code> labels. When <code>groups</code> is a factor and
<code>keepNULLlevels=TRUE</code>, the number of columns will be the
number of factor levels, otherwise it will be the number of
factor levels used in <code>groups</code>.</p>
<p>When <code>returnType="input"</code> the output is a numeric matrix
with the same dimensions as the input data. This output is
intended for use with <code>rmOutliers=TRUE</code> which will replace
outlier points with <code>NA</code> values. Therefore, this matrix can
be used to see the location of outliers.</p>
<p>The function also returns attributes that describe the
number of samples per group overall:</p><dl class='dl-horizontal'>
<dt>attr(out, "n")</dt><dd><p>The attribute <code>"n"</code> is used to describe
the number of replicates per group.</p></dd>
<dt>attr(out, "nLabel")</dt><dd><p>The attribute <code>"nLabel"</code> is
a simple text label in the form <code>"n=3"</code>.</p></dd>
</dl><p>Note that when <code>rmOutliers=TRUE</code> the number of replicates per
group will vary depending upon the outliers removed. In that
case, remember that the reported <code>"n"</code> is always the total
possible columns available prior to outlier removal.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function by default calculates group mean values
per row in a numeric matrix. However, the stat function
can be changed to calculate row medians, row MADs, etc.</p>
<p>An added purpose of this function is optional outlier
filtering, via calculation of MAD values and applying
a MAD threshold cutoff. The intention is to identify
technical outliers that otherwise adversely affect the
calculated group mean or median values. To inspect the
data after outlier removal, use the parameter <code>returnType="input"</code>
which will return the input data matrix with <code>NA</code>
substituted for outlier points. Outlier detection and
removal is performed by <code><a href='rowRmMadOutliers.html'>jamba::rowRmMadOutliers()</a></code>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other jam numeric functions: <code><a href='deg2rad.html'>deg2rad</a></code>,
  <code><a href='noiseFloor.html'>noiseFloor</a></code>, <code><a href='normScale.html'>normScale</a></code>,
  <code><a href='rad2deg.html'>rad2deg</a></code>, <code><a href='rowRmMadOutliers.html'>rowRmMadOutliers</a></code>,
  <code><a href='warpAroundZero.html'>warpAroundZero</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/matrix'>matrix</a></span>(<span class='kw'>ncol</span><span class='kw'>=</span><span class='fl'>9</span>, <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/Normal'>rnorm</a></span>(<span class='fl'>90</span>));
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/colnames'>colnames</a></span>(<span class='no'>x</span>) <span class='kw'>&lt;-</span> <span class='no'>LETTERS</span>[<span class='fl'>1</span>:<span class='fl'>9</span>];
<span class='fu'>rowGroupMeans</span>(<span class='no'>x</span>, <span class='kw'>groups</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/rep'>rep</a></span>(<span class='no'>letters</span>[<span class='fl'>1</span>:<span class='fl'>3</span>], <span class='kw'>each</span><span class='kw'>=</span><span class='fl'>3</span>))</div><div class='output co'>#&gt;                 a           b           c
#&gt;  [1,] -0.80872558 -0.36133591 -0.01268363
#&gt;  [2,]  0.26725139 -0.50140561  0.54261729
#&gt;  [3,]  0.77244547 -1.09877057  0.47100369
#&gt;  [4,] -0.14599147 -0.08062094  1.40781676
#&gt;  [5,]  1.20144342 -0.47769907 -0.05634574
#&gt;  [6,]  0.56821705 -0.41458697 -1.25157772
#&gt;  [7,] -0.29270720  0.56848972 -0.30715997
#&gt;  [8,]  0.06286866  0.20294916  0.52037991
#&gt;  [9,]  0.68112330  0.94281434  0.72237094
#&gt; [10,]  0.19438965  0.24682787  0.80867314
#&gt; attr(,"n")
#&gt; a b c 
#&gt; 3 3 3 
#&gt; attr(,"nLabel")
#&gt;     a     b     c 
#&gt; "n=3" "n=3" "n=3" </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

