<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Apply CL color range — applyCLrange • jamba</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Apply CL color range — applyCLrange"><meta property="og:description" content="Restrict chroma (C) and luminance (L) ranges for a vector of R colors"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jamba</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.84.900</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/jamba-vignette.html">Jamba Overview</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="http://github.com/jmw86069/jamba/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Apply CL color range</h1>
    <small class="dont-index">Source: <a href="http://github.com/jmw86069/jamba/blob/HEAD/R/jamba.r" class="external-link"><code>R/jamba.r</code></a></small>
    <div class="hidden name"><code>applyCLrange.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Restrict chroma (C) and luminance (L) ranges for a vector of R colors</p>
    </div>

    <div class="ref-usage sourceCode"><pre class="sourceCode r"><code><span class="fu">applyCLrange</span><span class="op">(</span>
  <span class="va">x</span>,
  lightMode <span class="op">=</span> <span class="cn">NULL</span>,
  Crange <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"jam.Crange"</span><span class="op">)</span>,
  Lrange <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"jam.Lrange"</span><span class="op">)</span>,
  Cgrey <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"jam.Cgrey"</span><span class="op">)</span>,
  fixYellow <span class="op">=</span> <span class="cn">TRUE</span>,
  CLmethod <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"scale"</span>, <span class="st">"floor"</span>, <span class="st">"expand"</span><span class="op">)</span>,
  fixup <span class="op">=</span> <span class="cn">TRUE</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>

    <div id="ref-sections">
    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>vector of R colors</p></dd>
<dt>lightMode</dt>
<dd><p><code>NULL</code> or <code>logical</code>. When <code>lightMode=NULL</code> then
<code>Crange</code> and <code>Lrange</code> values are used as-is; when <code>lightMode=TRUE</code>
or <code>lightMode=FALSE</code> then default values are used for <code>Crange</code> and
<code>Lrange</code> values, where <code>lightMode=TRUE</code> is intended for colors
to have contrast against a light/bright/white background,
and <code>lightMode=FALSE</code> is intended for colors to have contrast
against a dark background.</p></dd>
<dt>Crange</dt>
<dd><p><code>NULL</code> or <code>numeric</code> range with minimum and maximum allowed
values for the chroma (C) component.</p></dd>
<dt>Lrange</dt>
<dd><p><code>NUL</code>L or <code>numeric</code> range with minimum and maximum allowed
values for the luminance (L) component.</p></dd>
<dt>Cgrey</dt>
<dd><p><code>numeric</code> chroma (C) value, which defines grey colors at or
below this chroma. Any colors at or below the grey cutoff will have
their C values unchanged. This mechanism prevents converting black
to red, for example. To disable the effect, set <code>Cgrey=-1</code>.</p></dd>
<dt>fixYellow</dt>
<dd><p><code>logical</code> indicating whether to "fix" the darkening of
yellow, which otherwise turns to green. Instead, since JAM can,
JAM will make the yellow slightly more golden before darkening,
which is achieved by calling <code><a href="fixYellowHue.html">fixYellowHue()</a></code>.</p></dd>
<dt>CLmethod</dt>
<dd><p><code>character</code> string indicating how to alter values
outside the respective <code>Crange</code> and <code>Lrange</code> ranges. "scale" will
rescale values only if any are outside of range, and will rescale
the full range of <code>c(Crange, Cvalues)</code> to <code>c(Crange)</code>. In this way,
only values outside the range are rescaled. "floor" will apply a
fixed cutoff, any values outside the range are set to equal the
range boundary itself. "expand" will rescale all values so the
range is equal to <code>Crange</code>.</p></dd>
<dt>fixup</dt>
<dd><p><code>logical</code> passed to <code><a href="hcl2col.html">hcl2col()</a></code> and subsequently
to <code><a href="https://colorspace.R-Forge.R-project.org/reference/hex.html" class="external-link">colorspace::hex()</a></code> when converting colors outside the color
gamut (visible range.) When <code>fixup</code> is <code>NULL</code>, the <code><a href="hcl2col.html">hcl2col()</a></code>
method applies its own aggressive technique to restrict the color
range.</p></dd>
<dt>...</dt>
<dd><p>additional argyments are passed to <code><a href="fixYellowHue.html">fixYellowHue()</a></code> when
<code>fixYellow</code> is <code>TRUE</code>.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>vector of colors after applying the chroma (C) and luminance (L)
ranges.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function is primarily intended to restrict the range of brightness
values so they contrast with a background color, particularly when the
background color may be bright or dark.</p>
<p>Note that output is slightly different when supplying one color,
compared to supplying a vector of colors. One color is simply
restricted to the <code>Crange</code> and <code>Lrange</code>. However, a vector of colors
is scaled within the ranges so that relative <code>C</code> and <code>L</code> values
are maintained, for visual comparison.</p>
<p>The C and L values are defined by <code><a href="https://colorspace.R-Forge.R-project.org/reference/polarLUV.html" class="external-link">colorspace::polarLUV()</a></code>, where C is
typically restricted to <code>0..100</code> and L is typically <code>0..100</code>. For some
colors, values above 100 are allowed.</p>
<p>Values are restricted to the given numeric range using one of three
methods, set via the <code>CLmethod</code> argument.</p>
<p>As an example, consider what should be done when <code>Crange &lt;- c(10,70)</code>
and the C values are <code>Cvalues &lt;- c(50, 60, 70, 80)</code>.</p><ol><li><p>"floor" uses <code><a href="noiseFloor.html">jamba::noiseFloor()</a></code> to apply fixed cutoffs at the
minimum and maximum range. This method has the effect of making all
values outside the range into an equal final value.</p></li>
<li><p>"scale" will apply <code><a href="normScale.html">jamba::normScale()</a></code> to rescale only values outside
the given range. For example, <code>c(Crange, Cvalues)</code> as the initial range,
it constrains values to <code>c(Crange)</code>.  This method has the effect of
maintaining the relative difference between values.</p></li>
<li><p>"expand" will simply apply <code><a href="normScale.html">jamba::normScale()</a></code> to fit the values
to the minimum and maximum range values. This method has the effect of
forcing colors to fit the full numeric range, even when the original
differences between values were small.</p></li>
</ol><p>In case (1) above, Cvalues will become <code>c(50, 60, 70, 70)</code>.
In case (2) above, Cvalues will become <code>c(44, 53, 61, 70)</code>
In case (3) above, Cvalues will become <code>c(10, 30, 50, 70)</code></p>
<p>Note that colors with C (chroma) values less than <code>Cgrey</code> will not have
the C value changed, in order to maintain colors at a greyscale, without
colorizing them. Particularly for pure <code>grey</code>, which has <code>C=0</code>, but
is still required to have a hue H, it is important not to increase
<code>C</code>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other jam practical functions: 
<code><a href="breakDensity.html">breakDensity</a>()</code>,
<code><a href="checkLightMode.html">checkLightMode</a>()</code>,
<code><a href="check_pkg_installed.html">check_pkg_installed</a>()</code>,
<code><a href="colNum2excelName.html">colNum2excelName</a>()</code>,
<code><a href="color_dither.html">color_dither</a>()</code>,
<code><a href="diff_functions.html">diff_functions</a>()</code>,
<code><a href="exp2signed.html">exp2signed</a>()</code>,
<code><a href="fileInfo.html">fileInfo</a>()</code>,
<code><a href="fixYellowHue.html">fixYellowHue</a>()</code>,
<code><a href="fixYellow.html">fixYellow</a>()</code>,
<code><a href="getAxisLabel.html">getAxisLabel</a>()</code>,
<code><a href="handleArgsText.html">handleArgsText</a>()</code>,
<code><a href="heads.html">heads</a>()</code>,
<code><a href="isFALSEV.html">isFALSEV</a>()</code>,
<code><a href="isTRUEV.html">isTRUEV</a>()</code>,
<code><a href="jamba.html">jamba</a></code>,
<code><a href="jargs.html">jargs</a>()</code>,
<code><a href="kable_coloring.html">kable_coloring</a>()</code>,
<code><a href="lldf.html">lldf</a>()</code>,
<code><a href="log2signed.html">log2signed</a>()</code>,
<code><a href="make_html_styles.html">make_html_styles</a>()</code>,
<code><a href="make_styles.html">make_styles</a>()</code>,
<code><a href="match_unique.html">match_unique</a>()</code>,
<code><a href="mergeAllXY.html">mergeAllXY</a>()</code>,
<code><a href="minorLogTicks.html">minorLogTicks</a>()</code>,
<code><a href="newestFile.html">newestFile</a>()</code>,
<code><a href="printDebugI.html">printDebugI</a>()</code>,
<code><a href="printDebug.html">printDebug</a>()</code>,
<code><a href="renameColumn.html">renameColumn</a>()</code>,
<code><a href="rmInfinite.html">rmInfinite</a>()</code>,
<code><a href="rmNA.html">rmNA</a>()</code>,
<code><a href="rmNULL.html">rmNULL</a>()</code>,
<code><a href="sclass.html">sclass</a>()</code>,
<code><a href="sdima.html">sdima</a>()</code>,
<code><a href="sdim.html">sdim</a>()</code>,
<code><a href="setCLranges.html">setCLranges</a>()</code>,
<code><a href="setPrompt.html">setPrompt</a>()</code>,
<code><a href="ssdima.html">ssdima</a>()</code>,
<code><a href="ssdim.html">ssdim</a>()</code></p>
<p>Other jam color functions: 
<code><a href="alpha2col.html">alpha2col</a>()</code>,
<code><a href="col2alpha.html">col2alpha</a>()</code>,
<code><a href="col2hcl.html">col2hcl</a>()</code>,
<code><a href="col2hsl.html">col2hsl</a>()</code>,
<code><a href="col2hsv.html">col2hsv</a>()</code>,
<code><a href="color2gradient.html">color2gradient</a>()</code>,
<code><a href="fixYellowHue.html">fixYellowHue</a>()</code>,
<code><a href="fixYellow.html">fixYellow</a>()</code>,
<code><a href="getColorRamp.html">getColorRamp</a>()</code>,
<code><a href="hcl2col.html">hcl2col</a>()</code>,
<code><a href="hsl2col.html">hsl2col</a>()</code>,
<code><a href="hsv2col.html">hsv2col</a>()</code>,
<code><a href="isColor.html">isColor</a>()</code>,
<code><a href="kable_coloring.html">kable_coloring</a>()</code>,
<code><a href="makeColorDarker.html">makeColorDarker</a>()</code>,
<code><a href="make_html_styles.html">make_html_styles</a>()</code>,
<code><a href="make_styles.html">make_styles</a>()</code>,
<code><a href="rgb2col.html">rgb2col</a>()</code>,
<code><a href="setCLranges.html">setCLranges</a>()</code>,
<code><a href="setTextContrastColor.html">setTextContrastColor</a>()</code>,
<code><a href="showColors.html">showColors</a>()</code>,
<code><a href="unalpha.html">unalpha</a>()</code>,
<code><a href="warpRamp.html">warpRamp</a>()</code></p></div>
    </div>
    </div>

    <div id="examples">
    <h2>Examples</h2>
    <div class="ref-examples sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">cl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"navy"</span>, <span class="st">"yellow"</span>, <span class="st">"orange"</span><span class="op">)</span>;</span>
<span class="r-in"><span class="va">cl_lite</span> <span class="op">&lt;-</span> <span class="fu">applyCLrange</span><span class="op">(</span><span class="va">cl</span>, lightMode<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>;</span>
<span class="r-in"><span class="va">cl_dark</span> <span class="op">&lt;-</span> <span class="fu">applyCLrange</span><span class="op">(</span><span class="va">cl</span>, lightMode<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>;</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># individual colors</span></span>
<span class="r-in"><span class="va">cl_lite_ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">cl</span>, <span class="va">applyCLrange</span>, lightMode<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>;</span>
<span class="r-in"><span class="va">cl_dark_ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">cl</span>, <span class="va">applyCLrange</span>, lightMode<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>;</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># display colors</span></span>
<span class="r-in"><span class="fu"><a href="showColors.html">showColors</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>`input colors`<span class="op">=</span><span class="va">cl</span>,</span>
<span class="r-in">   `lightMode=TRUE, vector`<span class="op">=</span><span class="va">cl_lite</span>,</span>
<span class="r-in">   `lightMode=TRUE, individual`<span class="op">=</span><span class="va">cl_lite_ind</span>,</span>
<span class="r-in">   `lightMode=FALSE, vector`<span class="op">=</span><span class="va">cl_dark</span>,</span>
<span class="r-in">   `lightMode=FALSE, individual`<span class="op">=</span><span class="va">cl_dark_ind</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-plt img"><img src="applyCLrange-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span class="fu"><a href="printDebug.html">printDebug</a></span><span class="op">(</span><span class="va">cl</span>, lightMode<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ##  (<span style="color: #00D7D7; font-weight: bold;">18:36:42</span>) 31May2022:      <span style="color: #FF0000;">red</span>,<span style="color: #0000FF;">blue</span>,<span style="color: #0000AF;">navy</span>,<span style="color: #D7AF00;">yellow</span>,<span style="color: #FFAF00;">orange</span> </span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.9000.9000.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

