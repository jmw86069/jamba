<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>sort alphanumeric values keeping numeric values in proper order — mixedSort • jamba</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="sort alphanumeric values keeping numeric values in proper order — mixedSort"><meta property="og:description" content="sort alphanumeric values keeping numeric values in proper order"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jamba</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.95.900</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/jamba-vignette.html">Jamba Overview</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="http://github.com/jmw86069/jamba/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>sort alphanumeric values keeping numeric values in proper order</h1>
    <small class="dont-index">Source: <a href="http://github.com/jmw86069/jamba/blob/HEAD/R/jamba-mixedSort.R" class="external-link"><code>R/jamba-mixedSort.R</code></a></small>
    <div class="hidden name"><code>mixedSort.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>sort alphanumeric values keeping numeric values in proper order</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mixedSort</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  blanksFirst <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  na.last <span class="op">=</span> <span class="va">NAlast</span>,</span>
<span>  keepNegative <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  keepInfinite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  keepDecimal <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  ignore.case <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  useCaseTiebreak <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  honorFactor <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  sortByName <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  NAlast <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p><code>vector</code></p></dd>


<dt>blanksFirst</dt>
<dd><p><code>logical</code> whether to order blank entries before entries
containing a value.</p></dd>


<dt>na.last</dt>
<dd><p><code>logical</code> indicating whether to move NA entries at
the end of the sort.</p></dd>


<dt>keepNegative</dt>
<dd><p><code>logical</code> whether to keep '-' associated with adjacent
numeric values, in order to sort them as negative values.</p></dd>


<dt>keepInfinite</dt>
<dd><p><code>logical</code> whether to allow "Inf" to be considered
a numeric infinite value.</p></dd>


<dt>keepDecimal</dt>
<dd><p><code>logical</code> whether to keep the decimal in numbers,
sorting as a true number and not as a version number. By default
keepDecimal=FALSE, which means "v1.200" should be ordered before
"v1.30". When keepDecimal=TRUE, the numeric sort considers only
"1.2" and "1.3" and sorts in that order.</p></dd>


<dt>ignore.case</dt>
<dd><p><code>logical</code> whether to ignore uppercase and lowercase
characters when defining the sort order. Note that when <code>x</code> is
<code>factor</code> the factor levels are converted using
<code>unique(toupper(levels(x)))</code>, therefore the values in <code>x</code> will be
sorted by factor level.</p></dd>


<dt>useCaseTiebreak</dt>
<dd><p><code>logical</code> indicating whether to break ties
when <code>ignore.case=TRUE</code>, using mixed case as a tiebreaker.</p></dd>


<dt>sortByName</dt>
<dd><p><code>logical</code> whether to sort the vector x by names(x) instead
of sorting by x itself.</p></dd>


<dt>verbose</dt>
<dd><p><code>logical</code> whether to print verbose output.</p></dd>


<dt>NAlast</dt>
<dd><p><code>logical</code> deprecated in favor of argument <code>na.last</code>
for consistency with <code><a href="https://rdrr.io/r/base/sort.html" class="external-link">base::sort()</a></code>.</p></dd>


<dt>...</dt>
<dd><p>additional parameters are sent to <code><a href="mixedOrder.html">mixedOrder</a></code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><code>vector</code> of values from argument <code>x</code>, ordered by
<code><a href="mixedOrder.html">mixedOrder()</a></code>. The output class should match <code>class(x)</code>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function is a refactor of <code><a href="https://rdrr.io/pkg/gtools/man/mixedsort.html" class="external-link">gtools::mixedsort()</a></code>, a clever bit of
R coding from the <code>gtools</code> package. It was extended to make it slightly
faster, and to handle special cases slightly differently.
It was driven by the need to sort gene symbols, miRNA symbols, chromosome
names, all with proper numeric order, for example:</p>
<dl><dt>test set:</dt>
<dd><p>miR-12,miR-1,miR-122,miR-1b,mir-1a</p></dd>

<dt><code><a href="https://rdrr.io/pkg/gtools/man/mixedsort.html" class="external-link">gtools::mixedsort</a></code>:</dt>
<dd><p>miR-122,miR-12,miR-1,miR-1a,mir-1b</p></dd>

<dt><code>mixedSort</code>:</dt>
<dd><p>miR-1,miR-1a,miR-1b,miR-12,miR-122</p></dd>


</dl><p>The function does not by default recognize negative numbers as negative,
instead it treats '-' as a delimiter, unless <code>keepNegative=TRUE</code>.</p>
<p>This function also attempts to maintain '.' as part of a decimal number,
which can be problematic when sorting IP addresses, for example.</p>
<p>This function is really just a wrapper function for <code><a href="mixedOrder.html">mixedOrder()</a></code>,
which does the work of defining the appropriate order.</p>
<p>The sort logic is roughly as follows:</p><ul><li><p>Split each term into alternating chunks containing <code>character</code>
or <code>numeric</code> substrings, split across columns in a matrix.</p></li>
<li><p>Apply appropriate <code>ignore.case</code> logic to the character substrings,
effectively applying <code><a href="https://rdrr.io/r/base/chartr.html" class="external-link">toupper()</a></code> on substrings</p></li>
<li><p>Define rank order of character substrings in each matrix column,
maintaining ties to be resolved in subsequent columns.</p></li>
<li><p>Convert <code>character</code> to <code>numeric</code> ranks via <code>factor</code> intermediate,
defined higher than the highest <code>numeric</code> substring value.</p></li>
<li><p>When <code>ignore.case=TRUE</code> and <code>useCaseTiebreak=TRUE</code>, an additional
tiebreaker column is defined using the <code>character</code> substring values
without applying <code><a href="https://rdrr.io/r/base/chartr.html" class="external-link">toupper()</a></code>.</p></li>
<li><p>A final tiebreaker column is the input string itself, with <code><a href="https://rdrr.io/r/base/chartr.html" class="external-link">toupper()</a></code>
applied when <code>ignore.case=TRUE</code>.</p></li>
<li><p>Apply order across all substring columns.</p></li>
</ul><p>Therefore, some expected behaviors:</p><ul><li><p>When <code>ignore.case=TRUE</code> and <code>useCaseTiebreak=TRUE</code> (default for both)
the input data is ordered without regard to case, then the tiebreaker
applies case-specific sort criteria to the final product. This logic
is very close to default <code><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort()</a></code> except for the handling of internal
<code>numeric</code> values inside each string.</p></li>
</ul></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other jam sort functions: 
<code><a href="mixedOrder.html">mixedOrder</a>()</code>,
<code><a href="mixedSortDF.html">mixedSortDF</a>()</code>,
<code><a href="mixedSorts.html">mixedSorts</a>()</code>,
<code><a href="mmixedOrder.html">mmixedOrder</a>()</code></p>
<p>Other jam string functions: 
<code><a href="asSize.html">asSize</a>()</code>,
<code><a href="breaksByVector.html">breaksByVector</a>()</code>,
<code><a href="cPasteSU.html">cPasteSU</a>()</code>,
<code><a href="cPasteS.html">cPasteS</a>()</code>,
<code><a href="cPasteUnique.html">cPasteUnique</a>()</code>,
<code><a href="cPasteU.html">cPasteU</a>()</code>,
<code><a href="cPaste.html">cPaste</a>()</code>,
<code><a href="fillBlanks.html">fillBlanks</a>()</code>,
<code><a href="formatInt.html">formatInt</a>()</code>,
<code><a href="gsubOrdered.html">gsubOrdered</a>()</code>,
<code><a href="gsubs.html">gsubs</a>()</code>,
<code><a href="makeNames.html">makeNames</a>()</code>,
<code><a href="mixedOrder.html">mixedOrder</a>()</code>,
<code><a href="mixedSortDF.html">mixedSortDF</a>()</code>,
<code><a href="mixedSorts.html">mixedSorts</a>()</code>,
<code><a href="mmixedOrder.html">mmixedOrder</a>()</code>,
<code><a href="nameVectorN.html">nameVectorN</a>()</code>,
<code><a href="nameVector.html">nameVector</a>()</code>,
<code><a href="padInteger.html">padInteger</a>()</code>,
<code><a href="padString.html">padString</a>()</code>,
<code><a href="pasteByRowOrdered.html">pasteByRowOrdered</a>()</code>,
<code><a href="pasteByRow.html">pasteByRow</a>()</code>,
<code><a href="sizeAsNum.html">sizeAsNum</a>()</code>,
<code><a href="tcount.html">tcount</a>()</code>,
<code><a href="ucfirst.html">ucfirst</a>()</code>,
<code><a href="uniques.html">uniques</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"miR-12"</span>,<span class="st">"miR-1"</span>,<span class="st">"miR-122"</span>,<span class="st">"miR-1b"</span>, <span class="st">"miR-1a"</span>, <span class="st">"miR-2"</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "miR-1"   "miR-12"  "miR-122" "miR-1a"  "miR-1b"  "miR-2"  </span>
<span class="r-in"><span><span class="fu">mixedSort</span><span class="op">(</span><span class="va">x</span><span class="op">)</span>;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "miR-1"   "miR-1a"  "miR-1b"  "miR-2"   "miR-12"  "miR-122"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># test honorFactor</span></span></span>
<span class="r-in"><span><span class="fu">mixedSort</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Cnot9"</span>, <span class="st">"Cnot8"</span>, <span class="st">"Cnot10"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] Cnot8  Cnot9  Cnot10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: Cnot10 Cnot8 Cnot9</span>
<span class="r-in"><span><span class="fu">mixedSort</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Cnot9"</span>, <span class="st">"Cnot8"</span>, <span class="st">"Cnot10"</span><span class="op">)</span><span class="op">)</span>, honorFactor<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] Cnot10 Cnot8  Cnot9 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: Cnot10 Cnot8 Cnot9</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># test ignore.case</span></span></span>
<span class="r-in"><span><span class="fu">mixedSort</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Cnot9"</span>, <span class="st">"Cnot8"</span>, <span class="st">"CNOT9"</span>, <span class="st">"Cnot10"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] Cnot8  CNOT9  Cnot9  Cnot10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: CNOT9 Cnot10 Cnot8 Cnot9</span>
<span class="r-in"><span><span class="fu">mixedSort</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CNOT9"</span>, <span class="st">"Cnot8"</span>, <span class="st">"Cnot9"</span>, <span class="st">"Cnot10"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] Cnot8  CNOT9  Cnot9  Cnot10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: CNOT9 Cnot10 Cnot8 Cnot9</span>
<span class="r-in"><span><span class="fu">mixedSort</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Cnot9"</span>, <span class="st">"Cnot8"</span>, <span class="st">"CNOT9"</span>, <span class="st">"Cnot10"</span><span class="op">)</span><span class="op">)</span>, ignore.case<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] CNOT9  Cnot8  Cnot9  Cnot10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: CNOT9 Cnot10 Cnot8 Cnot9</span>
<span class="r-in"><span><span class="fu">mixedSort</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Cnot9"</span>, <span class="st">"Cnot8"</span>, <span class="st">"CNOT9"</span>, <span class="st">"Cnot10"</span><span class="op">)</span><span class="op">)</span>, ignore.case<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] Cnot8  CNOT9  Cnot9  Cnot10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: CNOT9 Cnot10 Cnot8 Cnot9</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">mixedSort</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Cnot9"</span>, <span class="st">"Cnot8"</span>, <span class="st">"CNOT9"</span>, <span class="st">"Cnot10"</span><span class="op">)</span><span class="op">)</span>, useCaseTiebreak<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] Cnot8  CNOT9  Cnot9  Cnot10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: CNOT9 Cnot10 Cnot8 Cnot9</span>
<span class="r-in"><span><span class="fu">mixedSort</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CNOT9"</span>, <span class="st">"Cnot8"</span>, <span class="st">"Cnot9"</span>, <span class="st">"Cnot10"</span><span class="op">)</span><span class="op">)</span>, useCaseTiebreak<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] Cnot8  CNOT9  Cnot9  Cnot10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: CNOT9 Cnot10 Cnot8 Cnot9</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

