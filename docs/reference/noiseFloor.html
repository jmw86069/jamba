<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Apply noise floor and ceiling to numeric vector — noiseFloor • jamba</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Apply noise floor and ceiling to numeric vector — noiseFloor" />
<meta property="og:description" content="Apply noise floor and ceiling to numeric vector" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jamba</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.52.900</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/jamba-vignette.html">Jamba Overview</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jmw86069/jamba">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Apply noise floor and ceiling to numeric vector</h1>
    <small class="dont-index">Source: <a href='https://github.com/jmw86069/jamba/blob/master/R/jamba.r'><code>R/jamba.r</code></a></small>
    <div class="hidden name"><code>noiseFloor.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Apply noise floor and ceiling to numeric vector</p>
    </div>

    <pre class="usage"><span class='fu'>noiseFloor</span>(
  <span class='no'>x</span>,
  <span class='kw'>minimum</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>newValue</span> <span class='kw'>=</span> <span class='no'>minimum</span>,
  <span class='kw'>adjustNA</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>ceiling</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>newCeiling</span> <span class='kw'>=</span> <span class='no'>ceiling</span>,
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>numeric vector or matrix</p></td>
    </tr>
    <tr>
      <th>minimum</th>
      <td><p>numeric floor value</p></td>
    </tr>
    <tr>
      <th>newValue</th>
      <td><p>numeric, by default the same as the floor value. Sometimes
it can be useful to define a different value, one example is to define
values as NA, or another distinct number away from the floor.</p></td>
    </tr>
    <tr>
      <th>adjustNA</th>
      <td><p>logical whether to change NA values to the newValue.</p></td>
    </tr>
    <tr>
      <th>ceiling</th>
      <td><p>numeric value, optionally a ceiling. If defined, then values
above the ceiling value are set to newCeiling.</p></td>
    </tr>
    <tr>
      <th>newCeiling</th>
      <td><p>numeric value when ceiling is defined, values above the
ceiling are set to this numeric value.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional parameters are ignored.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A numeric vector or matrix, matching the input type <code>x</code> where numeric
values are fixed to the <code>minimum</code> and <code>ceiling</code> values as defined
by <code>newValue</code> and <code>newCeiling</code>, respectively.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>A noise floor is useful when detected numeric values are sometimes below
a clear noise threshold, and where some downstream ratio may be calculated
using these values. Applying a noise floor ensures the ratios and not
artificially higher, especially in cases where the values involved are
least reliable. This procedure is expected to produce more conservative
and appropriate ratios in that scenario.</p>
<p>A ceiling is similar, values above the ceiling are set to the ceiling,
which is practical when values above a certain threshold are conceptually
similar to those at the threshold. One clear example is plotting
<code>-log10(Pvalue)</code> when the range of P-values might approach 1e-1000.
In this case, setting a ceiling of 50 conceptually equates P-values
below 1e-50, while also restricting the axis range of a plot.</p>
<p>The ability to set values at the floor to a different value, using
<code>newValue</code> different from <code>minimum</code>, is intended to allow separation
of numeric values from the floor for illustrative purposes.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other jam numeric functions: 
<code><a href='deg2rad.html'>deg2rad</a>()</code>,
<code><a href='fix_matrix_ratio.html'>fix_matrix_ratio</a>()</code>,
<code><a href='normScale.html'>normScale</a>()</code>,
<code><a href='rad2deg.html'>rad2deg</a>()</code>,
<code><a href='rowGroupMeans.html'>rowGroupMeans</a>()</code>,
<code><a href='rowRmMadOutliers.html'>rowRmMadOutliers</a>()</code>,
<code><a href='warpAroundZero.html'>warpAroundZero</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># start with some random data</span>
<span class='no'>n</span> <span class='kw'>&lt;-</span> <span class='fl'>2000</span>;
<span class='no'>x1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='no'>n</span>);
<span class='no'>y1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='no'>n</span>);

<span class='co'># apply noise floor and ceiling</span>
<span class='no'>x2</span> <span class='kw'>&lt;-</span> <span class='fu'>noiseFloor</span>(<span class='no'>x1</span>, <span class='kw'>minimum</span><span class='kw'>=</span>-<span class='fl'>2</span>, <span class='kw'>ceiling</span><span class='kw'>=</span><span class='fl'>2</span>);
<span class='no'>y2</span> <span class='kw'>&lt;-</span> <span class='fu'>noiseFloor</span>(<span class='no'>y1</span>, <span class='kw'>minimum</span><span class='kw'>=</span>-<span class='fl'>2</span>, <span class='kw'>ceiling</span><span class='kw'>=</span><span class='fl'>2</span>);

<span class='co'># apply noise floor and ceiling with custom replacement values</span>
<span class='no'>xm</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>x1</span>, <span class='kw'>y</span><span class='kw'>=</span><span class='no'>y1</span>);
<span class='no'>xm3</span> <span class='kw'>&lt;-</span> <span class='fu'>noiseFloor</span>(<span class='no'>xm</span>,
   <span class='kw'>minimum</span><span class='kw'>=</span>-<span class='fl'>2</span>, <span class='kw'>newValue</span><span class='kw'>=</span>-<span class='fl'>3</span>,
   <span class='kw'>ceiling</span><span class='kw'>=</span><span class='fl'>2</span>, <span class='kw'>newCeiling</span><span class='kw'>=</span><span class='fl'>3</span>);

<span class='no'>parMfrow</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span>(<span class='st'>"mfrow"</span>);
<span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span>(<span class='st'>"mfrow"</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2</span>,<span class='fl'>2</span>));
<span class='fu'><a href='plotSmoothScatter.html'>plotSmoothScatter</a></span>(<span class='no'>x1</span>, <span class='no'>y1</span>);
<span class='fu'><a href='plotSmoothScatter.html'>plotSmoothScatter</a></span>(<span class='no'>x2</span>, <span class='no'>y2</span>);
<span class='fu'><a href='plotSmoothScatter.html'>plotSmoothScatter</a></span>(<span class='no'>xm3</span>);
<span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span>(<span class='st'>"mfrow"</span><span class='kw'>=</span><span class='no'>parMfrow</span>);</div><div class='img'><img src='noiseFloor-1.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


