<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Apply noise floor and ceiling to numeric vector — noiseFloor • jamba</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Apply noise floor and ceiling to numeric vector — noiseFloor"><meta property="og:description" content="Apply noise floor and ceiling to numeric vector"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jamba</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.90.900</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/jamba-vignette.html">Jamba Overview</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="http://github.com/jmw86069/jamba/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Apply noise floor and ceiling to numeric vector</h1>
    <small class="dont-index">Source: <a href="http://github.com/jmw86069/jamba/blob/HEAD/R/jamba.r" class="external-link"><code>R/jamba.r</code></a></small>
    <div class="hidden name"><code>noiseFloor.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Apply noise floor and ceiling to numeric vector</p>
    </div>

    <div class="ref-usage sourceCode"><pre class="sourceCode r"><code><span class="fu">noiseFloor</span><span class="op">(</span>
  <span class="va">x</span>,
  minimum <span class="op">=</span> <span class="fl">0</span>,
  newValue <span class="op">=</span> <span class="va">minimum</span>,
  adjustNA <span class="op">=</span> <span class="cn">FALSE</span>,
  ceiling <span class="op">=</span> <span class="cn">NULL</span>,
  newCeiling <span class="op">=</span> <span class="va">ceiling</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>

    <div id="ref-sections">
    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>numeric vector or matrix</p></dd>
<dt>minimum</dt>
<dd><p>numeric floor value</p></dd>
<dt>newValue</dt>
<dd><p>numeric, by default the same as the floor value. Sometimes
it can be useful to define a different value, one example is to define
values as NA, or another distinct number away from the floor.</p></dd>
<dt>adjustNA</dt>
<dd><p>logical whether to change NA values to the newValue.</p></dd>
<dt>ceiling</dt>
<dd><p>numeric value, optionally a ceiling. If defined, then values
above the ceiling value are set to newCeiling.</p></dd>
<dt>newCeiling</dt>
<dd><p>numeric value when ceiling is defined, values above the
ceiling are set to this numeric value.</p></dd>
<dt>...</dt>
<dd><p>additional parameters are ignored.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A numeric vector or matrix, matching the input type <code>x</code> where numeric
values are fixed to the <code>minimum</code> and <code>ceiling</code> values as defined
by <code>newValue</code> and <code>newCeiling</code>, respectively.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>A noise floor is useful when detected numeric values are sometimes below
a clear noise threshold, and where some downstream ratio may be calculated
using these values. Applying a noise floor ensures the ratios and not
artificially higher, especially in cases where the values involved are
least reliable. This procedure is expected to produce more conservative
and appropriate ratios in that scenario.</p>
<p>A ceiling is similar, values above the ceiling are set to the ceiling,
which is practical when values above a certain threshold are conceptually
similar to those at the threshold. One clear example is plotting
<code>-log10(Pvalue)</code> when the range of P-values might approach 1e-1000.
In this case, setting a ceiling of 50 conceptually equates P-values
below 1e-50, while also restricting the axis range of a plot.</p>
<p>The ability to set values at the floor to a different value, using
<code>newValue</code> different from <code>minimum</code>, is intended to allow separation
of numeric values from the floor for illustrative purposes.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other jam numeric functions: 
<code><a href="deg2rad.html">deg2rad</a>()</code>,
<code><a href="fix_matrix_ratio.html">fix_matrix_ratio</a>()</code>,
<code><a href="normScale.html">normScale</a>()</code>,
<code><a href="rad2deg.html">rad2deg</a>()</code>,
<code><a href="rowGroupMeans.html">rowGroupMeans</a>()</code>,
<code><a href="rowRmMadOutliers.html">rowRmMadOutliers</a>()</code>,
<code><a href="warpAroundZero.html">warpAroundZero</a>()</code></p></div>
    </div>
    </div>

    <div id="examples">
    <h2>Examples</h2>
    <div class="ref-examples sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># start with some random data</span></span>
<span class="r-in"><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">2000</span>;</span>
<span class="r-in"><span class="va">x1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span>;</span>
<span class="r-in"><span class="va">y1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span>;</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># apply noise floor and ceiling</span></span>
<span class="r-in"><span class="va">x2</span> <span class="op">&lt;-</span> <span class="fu">noiseFloor</span><span class="op">(</span><span class="va">x1</span>, minimum<span class="op">=</span><span class="op">-</span><span class="fl">2</span>, ceiling<span class="op">=</span><span class="fl">2</span><span class="op">)</span>;</span>
<span class="r-in"><span class="va">y2</span> <span class="op">&lt;-</span> <span class="fu">noiseFloor</span><span class="op">(</span><span class="va">y1</span>, minimum<span class="op">=</span><span class="op">-</span><span class="fl">2</span>, ceiling<span class="op">=</span><span class="fl">2</span><span class="op">)</span>;</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># apply noise floor and ceiling with custom replacement values</span></span>
<span class="r-in"><span class="va">xm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">x1</span>, y<span class="op">=</span><span class="va">y1</span><span class="op">)</span>;</span>
<span class="r-in"><span class="va">xm3</span> <span class="op">&lt;-</span> <span class="fu">noiseFloor</span><span class="op">(</span><span class="va">xm</span>,</span>
<span class="r-in">   minimum<span class="op">=</span><span class="op">-</span><span class="fl">2</span>, newValue<span class="op">=</span><span class="op">-</span><span class="fl">3</span>,</span>
<span class="r-in">   ceiling<span class="op">=</span><span class="fl">2</span>, newCeiling<span class="op">=</span><span class="fl">3</span><span class="op">)</span>;</span>
<span class="r-in"></span>
<span class="r-in"><span class="va">parMfrow</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"mfrow"</span><span class="op">)</span>;</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"mfrow"</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span>;</span>
<span class="r-in"><span class="fu"><a href="plotSmoothScatter.html">plotSmoothScatter</a></span><span class="op">(</span><span class="va">x1</span>, <span class="va">y1</span><span class="op">)</span>;</span>
<span class="r-in"><span class="fu"><a href="plotSmoothScatter.html">plotSmoothScatter</a></span><span class="op">(</span><span class="va">x2</span>, <span class="va">y2</span><span class="op">)</span>;</span>
<span class="r-in"><span class="fu"><a href="plotSmoothScatter.html">plotSmoothScatter</a></span><span class="op">(</span><span class="va">xm3</span><span class="op">)</span>;</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"mfrow"</span><span class="op">=</span><span class="va">parMfrow</span><span class="op">)</span>;</span>
<span class="r-plt img"><img src="noiseFloor-1.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
1.9000.9000.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

