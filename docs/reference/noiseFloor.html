<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Apply noise floor and ceiling to numeric vector — noiseFloor • jamba</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Apply noise floor and ceiling to numeric vector — noiseFloor"><meta name="description" content="Apply noise floor and ceiling to numeric vector"><meta property="og:description" content="Apply noise floor and ceiling to numeric vector"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">jamba</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/jamba-vignette.html">Jamba Overview</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jmw86069/jamba/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Apply noise floor and ceiling to numeric vector</h1>
      <small class="dont-index">Source: <a href="https://github.com/jmw86069/jamba/blob/HEAD/R/jamba.r" class="external-link"><code>R/jamba.r</code></a></small>
      <div class="d-none name"><code>noiseFloor.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Apply noise floor and ceiling to numeric vector</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">noiseFloor</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  minimum <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  newValue <span class="op">=</span> <span class="va">minimum</span>,</span>
<span>  adjustNA <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  ceiling <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  newCeiling <span class="op">=</span> <span class="va">ceiling</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p><code>numeric</code> vector or matrix</p></dd>


<dt id="arg-minimum">minimum<a class="anchor" aria-label="anchor" href="#arg-minimum"></a></dt>
<dd><p><code>numeric</code> floor value</p></dd>


<dt id="arg-newvalue">newValue<a class="anchor" aria-label="anchor" href="#arg-newvalue"></a></dt>
<dd><p><code>numeric</code>, by default the same as the floor value. Sometimes
it can be useful to define a different value, one example is to define
values as <code>NA</code>, or another distinct number away from the floor.</p></dd>


<dt id="arg-adjustna">adjustNA<a class="anchor" aria-label="anchor" href="#arg-adjustna"></a></dt>
<dd><p><code>logical</code> whether to change <code>NA</code> values to the <code>newValue.</code></p></dd>


<dt id="arg-ceiling">ceiling<a class="anchor" aria-label="anchor" href="#arg-ceiling"></a></dt>
<dd><p><code>numeric</code> value, optionally a ceiling. If defined, then values
above the ceiling value are set to <code>newCeiling.</code></p></dd>


<dt id="arg-newceiling">newCeiling<a class="anchor" aria-label="anchor" href="#arg-newceiling"></a></dt>
<dd><p><code>numeric</code> value when ceiling is defined, values above the
ceiling are set to this <code>numeric</code> value.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional parameters are ignored.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>numeric</code> vector or <code>matrix</code>, matching the input type <code>x</code>
where numeric values are fixed to the <code>minimum</code> and <code>ceiling</code>
values as defined by <code>newValue</code> and <code>newCeiling</code>, respectively.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>A noise floor is useful when detected numeric values are sometimes below
a clear noise threshold, and where some downstream ratio may be calculated
using these values. Applying a noise floor ensures the ratios and not
artificially higher, especially in cases where the values involved are
least reliable. This procedure is expected to produce more conservative
and appropriate ratios in that scenario.</p>
<p>A ceiling is similar, values above the ceiling are set to the ceiling,
which is practical when values above a certain threshold are conceptually
similar to those at the threshold. One clear example is plotting
<code>-log10(Pvalue)</code> when the range of P-values might approach 1e-1000.
In this case, setting a ceiling of 50 conceptually equates P-values
below 1e-50, while also restricting the axis range of a plot.</p>
<p>The ability to set values at the floor to a different value, using
<code>newValue</code> different from <code>minimum</code>, is intended to allow separation
of numeric values from the floor for illustrative purposes.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other jam numeric functions:
<code><a href="deg2rad.html">deg2rad</a>()</code>,
<code><a href="normScale.html">normScale</a>()</code>,
<code><a href="rad2deg.html">rad2deg</a>()</code>,
<code><a href="rowGroupMeans.html">rowGroupMeans</a>()</code>,
<code><a href="rowRmMadOutliers.html">rowRmMadOutliers</a>()</code>,
<code><a href="warpAroundZero.html">warpAroundZero</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># start with some random data</span></span></span>
<span class="r-in"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">2000</span>;</span></span>
<span class="r-in"><span><span class="va">x1</span> <span class="op">&lt;-</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="va">y1</span> <span class="op">&lt;-</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span>;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># apply noise floor and ceiling</span></span></span>
<span class="r-in"><span><span class="va">x2</span> <span class="op">&lt;-</span> <span class="fu">noiseFloor</span><span class="op">(</span><span class="va">x1</span>, minimum<span class="op">=</span><span class="op">-</span><span class="fl">2</span>, ceiling<span class="op">=</span><span class="fl">2</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="va">y2</span> <span class="op">&lt;-</span> <span class="fu">noiseFloor</span><span class="op">(</span><span class="va">y1</span>, minimum<span class="op">=</span><span class="op">-</span><span class="fl">2</span>, ceiling<span class="op">=</span><span class="fl">2</span><span class="op">)</span>;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># apply noise floor and ceiling with custom replacement values</span></span></span>
<span class="r-in"><span><span class="va">xm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">x1</span>, y<span class="op">=</span><span class="va">y1</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="va">xm3</span> <span class="op">&lt;-</span> <span class="fu">noiseFloor</span><span class="op">(</span><span class="va">xm</span>,</span></span>
<span class="r-in"><span>   minimum<span class="op">=</span><span class="op">-</span><span class="fl">2</span>, newValue<span class="op">=</span><span class="op">-</span><span class="fl">3</span>,</span></span>
<span class="r-in"><span>   ceiling<span class="op">=</span><span class="fl">2</span>, newCeiling<span class="op">=</span><span class="fl">3</span><span class="op">)</span>;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">parMfrow</span> <span class="op">&lt;-</span> <span class="fu">graphics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"mfrow"</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="fu">graphics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"mfrow"</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="fu"><a href="plotSmoothScatter.html">plotSmoothScatter</a></span><span class="op">(</span><span class="va">x1</span>, <span class="va">y1</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="fu"><a href="plotSmoothScatter.html">plotSmoothScatter</a></span><span class="op">(</span><span class="va">x2</span>, <span class="va">y2</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="fu"><a href="plotSmoothScatter.html">plotSmoothScatter</a></span><span class="op">(</span><span class="va">xm3</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="fu">graphics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"mfrow"</span><span class="op">=</span><span class="va">parMfrow</span><span class="op">)</span>;</span></span>
<span class="r-plt img"><img src="noiseFloor-1.png" alt="" width="768" height="768"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

