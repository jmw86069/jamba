<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Warp a vector of numeric values relative to zero — warpAroundZero • jamba</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Warp a vector of numeric values relative to zero — warpAroundZero" />

<meta property="og:description" content="Warp a vector of numeric values relative to zero" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jamba</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.42.900</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/jamba-vignette.html">Jamba Overview</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jmw86069/jamba">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Warp a vector of numeric values relative to zero</h1>
    <small class="dont-index">Source: <a href='https://github.com/jmw86069/jamba/blob/master/R/jamba.r'><code>R/jamba.r</code></a></small>
    <div class="hidden name"><code>warpAroundZero.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Warp a vector of numeric values relative to zero</p>
    
    </div>

    <pre class="usage"><span class='fu'>warpAroundZero</span>(<span class='no'>x</span>, <span class='kw'>lens</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>baseline</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>xCeiling</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>numeric vector</p></td>
    </tr>
    <tr>
      <th>lens</th>
      <td><p>numeric value which defines the lens factor,
where <code>lens &gt; 0</code> will compress values near zero, and
<code>lens &lt; 0</code> will expand values near zero and compress
values near the maximum value. If <code>lens == 0</code> the
numeric values are not changed.</p></td>
    </tr>
    <tr>
      <th>baseline</th>
      <td><p>numeric value describing the baseline, for example
when the central value is non-zero. The baseline is subtracted
from <code>x</code>, the warp is applied, then the baseline is added to
the result.</p></td>
    </tr>
    <tr>
      <th>xCeiling</th>
      <td><p>numeric maximum value used for the color warp range,
useful for consistency. When <code>xCeiling</code> is not supplied, the
maximum difference from <code>baseline</code> is used. When <code>xCeiling</code> is
defined, and <code>baseline</code> is non-zero, the effective value used
is <code>(xCeiling - baseline)</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function warps numeric values using a log curve
transformation, such that values are either more compressed
near zero, or more compressed near the maximum values.
For example, a vector of integers from -10 to 10 would be warped
so the intervals near zero were smaller than 1, and intervals
farthest from zero are greater than 1.</p>
<p>The main driver for this function was the desire to compress
divergent color scales used in heatmaps, in order to enhance
smaller magnitude numeric values. Existing color ramps map the
color gradient in a linear manner relative to the numeric range,
which can cause extreme values to dominate the color scale.
Further, a linear application of colors is not always appropriate.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other jam numeric functions: <code><a href='deg2rad.html'>deg2rad</a></code>,
  <code><a href='noiseFloor.html'>noiseFloor</a></code>, <code><a href='normScale.html'>normScale</a></code>,
  <code><a href='rad2deg.html'>rad2deg</a></code>, <code><a href='rowGroupMeans.html'>rowGroupMeans</a></code>,
  <code><a href='rowRmMadOutliers.html'>rowRmMadOutliers</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(-<span class='fl'>10</span>:<span class='fl'>10</span>);
<span class='no'>xPlus10</span> <span class='kw'>&lt;-</span> <span class='fu'>warpAroundZero</span>(<span class='no'>x</span>, <span class='kw'>lens</span><span class='kw'>=</span><span class='fl'>10</span>);
<span class='no'>xMinus10</span> <span class='kw'>&lt;-</span> <span class='fu'>warpAroundZero</span>(<span class='no'>x</span>, <span class='kw'>lens</span><span class='kw'>=</span>-<span class='fl'>10</span>);

<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>x</span>, <span class='kw'>y</span><span class='kw'>=</span><span class='no'>xPlus10</span>, <span class='kw'>type</span><span class='kw'>=</span><span class='st'>"b"</span>, <span class='kw'>pch</span><span class='kw'>=</span><span class='fl'>20</span>, <span class='kw'>col</span><span class='kw'>=</span><span class='st'>"dodgerblue"</span>,
   <span class='kw'>main</span><span class='kw'>=</span><span class='st'>"Comparison of lens=+10 to lens=-10"</span>);</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/points'>points</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>x</span>, <span class='kw'>y</span><span class='kw'>=</span><span class='no'>xMinus10</span>, <span class='kw'>type</span><span class='kw'>=</span><span class='st'>"b"</span>, <span class='kw'>pch</span><span class='kw'>=</span><span class='fl'>18</span>, <span class='kw'>col</span><span class='kw'>=</span><span class='st'>"orangered"</span>);</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/abline'>abline</a></span>(<span class='kw'>h</span><span class='kw'>=</span><span class='fl'>0</span>, <span class='kw'>v</span><span class='kw'>=</span><span class='fl'>0</span>, <span class='kw'>col</span><span class='kw'>=</span><span class='st'>"grey"</span>, <span class='kw'>lty</span><span class='kw'>=</span><span class='st'>"dashed"</span>, <span class='kw'>a</span><span class='kw'>=</span><span class='fl'>0</span>, <span class='kw'>b</span><span class='kw'>=</span><span class='fl'>1</span>);</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/legend'>legend</a></span>(<span class='st'>"topleft"</span>,
   <span class='kw'>legend</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"lens=+10"</span>, <span class='st'>"lens=-10"</span>),
   <span class='kw'>col</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"dodgerblue"</span>,<span class='st'>"orangered"</span>),
   <span class='kw'>pch</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>20</span>,<span class='fl'>18</span>),
   <span class='kw'>lty</span><span class='kw'>=</span><span class='st'>"solid"</span>,
   <span class='kw'>bg</span><span class='kw'>=</span><span class='st'>"white"</span>);</div><div class='img'><img src='warpAroundZero-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># example showing the effect of a baseline=5</span>
<span class='no'>xPlus10b5</span> <span class='kw'>&lt;-</span> <span class='fu'>warpAroundZero</span>(<span class='no'>x</span>, <span class='kw'>lens</span><span class='kw'>=</span><span class='fl'>10</span>, <span class='kw'>baseline</span><span class='kw'>=</span><span class='fl'>5</span>);
<span class='no'>xMinus10b5</span> <span class='kw'>&lt;-</span> <span class='fu'>warpAroundZero</span>(<span class='no'>x</span>, <span class='kw'>lens</span><span class='kw'>=</span>-<span class='fl'>10</span>, <span class='kw'>baseline</span><span class='kw'>=</span><span class='fl'>5</span>);
<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>x</span>, <span class='kw'>y</span><span class='kw'>=</span><span class='no'>xPlus10b5</span>, <span class='kw'>type</span><span class='kw'>=</span><span class='st'>"b"</span>, <span class='kw'>pch</span><span class='kw'>=</span><span class='fl'>20</span>, <span class='kw'>col</span><span class='kw'>=</span><span class='st'>"dodgerblue"</span>,
   <span class='kw'>main</span><span class='kw'>=</span><span class='st'>"Comparison of lens=+10 to lens=-10"</span>,
   <span class='kw'>ylim</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(-<span class='fl'>10</span>,<span class='fl'>15</span>),
   <span class='kw'>sub</span><span class='kw'>=</span><span class='st'>"baseline=+5"</span>);</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/points'>points</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>x</span>, <span class='kw'>y</span><span class='kw'>=</span><span class='no'>xMinus10b5</span>, <span class='kw'>type</span><span class='kw'>=</span><span class='st'>"b"</span>, <span class='kw'>pch</span><span class='kw'>=</span><span class='fl'>18</span>, <span class='kw'>col</span><span class='kw'>=</span><span class='st'>"orangered"</span>);</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/abline'>abline</a></span>(<span class='kw'>h</span><span class='kw'>=</span><span class='fl'>5</span>, <span class='kw'>v</span><span class='kw'>=</span><span class='fl'>5</span>, <span class='kw'>col</span><span class='kw'>=</span><span class='st'>"grey"</span>, <span class='kw'>lty</span><span class='kw'>=</span><span class='st'>"dashed"</span>, <span class='kw'>a</span><span class='kw'>=</span><span class='fl'>0</span>, <span class='kw'>b</span><span class='kw'>=</span><span class='fl'>1</span>);</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/legend'>legend</a></span>(<span class='st'>"topleft"</span>,
   <span class='kw'>legend</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"lens=+10"</span>, <span class='st'>"lens=-10"</span>),
   <span class='kw'>col</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"dodgerblue"</span>,<span class='st'>"orangered"</span>),
   <span class='kw'>pch</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>20</span>,<span class='fl'>18</span>),
   <span class='kw'>lty</span><span class='kw'>=</span><span class='st'>"solid"</span>,
   <span class='kw'>bg</span><span class='kw'>=</span><span class='st'>"white"</span>);</div><div class='img'><img src='warpAroundZero-2.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

