<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Draw text with shadow border — shadowText • jamba</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Draw text with shadow border — shadowText"><meta name="description" content="Draw text with shadow border"><meta property="og:description" content="Draw text with shadow border"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">jamba</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/jamba-vignette.html">Jamba Overview</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jmw86069/jamba/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Draw text with shadow border</h1>
      <small class="dont-index">Source: <a href="https://github.com/jmw86069/jamba/blob/HEAD/R/jamba-plots.r" class="external-link"><code>R/jamba-plots.r</code></a></small>
      <div class="d-none name"><code>shadowText.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Draw text with shadow border</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">shadowText</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  labels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  col <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>  bg <span class="op">=</span> <span class="fu"><a href="setTextContrastColor.html">setTextContrastColor</a></span><span class="op">(</span><span class="va">col</span><span class="op">)</span>,</span>
<span>  r <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"jam.shadow.r"</span>, <span class="fl">0.15</span><span class="op">)</span>,</span>
<span>  offset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.15</span>, <span class="op">-</span><span class="fl">0.15</span><span class="op">)</span>,</span>
<span>  n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"jam.shadow.n"</span>, <span class="fl">8</span><span class="op">)</span>,</span>
<span>  outline <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"jam.outline"</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  alphaOutline <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"jam.alphaOutline"</span>, <span class="fl">0.4</span><span class="op">)</span>,</span>
<span>  shadow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"jam.shadow"</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  shadowColor <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"jam.shadowColor"</span>, <span class="st">"black"</span><span class="op">)</span>,</span>
<span>  alphaShadow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"jam.alphaShadow"</span>, <span class="fl">0.2</span><span class="op">)</span>,</span>
<span>  shadowOrder <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"each"</span>, <span class="st">"all"</span><span class="op">)</span>,</span>
<span>  cex <span class="op">=</span> <span class="fu">graphics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"cex"</span><span class="op">)</span>,</span>
<span>  font <span class="op">=</span> <span class="fu">graphics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"font"</span><span class="op">)</span>,</span>
<span>  doTest <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x-y">x, y<a class="anchor" aria-label="anchor" href="#arg-x-y"></a></dt>
<dd><p>numeric coordinates, either as vectors x and y, or x as a
two-color matrix recognized by <code><a href="https://rdrr.io/r/grDevices/xy.coords.html" class="external-link">grDevices::xy.coords()</a></code>.</p></dd>


<dt id="arg-labels">labels<a class="anchor" aria-label="anchor" href="#arg-labels"></a></dt>
<dd><p>vector of labels to display at the corresponding xy
coordinates.</p></dd>


<dt id="arg-col-bg-shadowcolor">col, bg, shadowColor<a class="anchor" aria-label="anchor" href="#arg-col-bg-shadowcolor"></a></dt>
<dd><p>the label color, and background (outline) color,
and shadow color (if <code>shadow=TRUE</code>), for each
element in <code>labels</code>. Colors are applied in order, and recycled to
<code>length(labels)</code> as needed. By default <code>bg</code> will choose
a contrasting color, based upon <code><a href="setTextContrastColor.html">setTextContrastColor()</a></code>.
Also by default, the shadow is "black" true to its name, since it is
expected to darken the area around it.</p></dd>


<dt id="arg-r">r<a class="anchor" aria-label="anchor" href="#arg-r"></a></dt>
<dd><p>the outline radius, expressed as a fraction of the width of the
character "A" as returned by <code><a href="https://rdrr.io/r/graphics/strwidth.html" class="external-link">graphics::strwidth()</a></code>.</p></dd>


<dt id="arg-offset">offset<a class="anchor" aria-label="anchor" href="#arg-offset"></a></dt>
<dd><p>the outline offset position in xy coordinates, expressed
as a fraction of the width of the character "A" as returned by
<code><a href="https://rdrr.io/r/graphics/strwidth.html" class="external-link">graphics::strwidth()</a></code>, and <code><a href="https://rdrr.io/r/graphics/strwidth.html" class="external-link">graphics::strheight()</a></code>,
respectively.
The offset is only applied when <code>shadow=TRUE</code> to enable the shadow
effect.</p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p><code>numeric</code> steps around the label used to create the outline.
A higher number may be useful for very large font sizes, otherwise 8
is a reasonably good balance between detail and the number of labels
added.</p></dd>


<dt id="arg-outline">outline<a class="anchor" aria-label="anchor" href="#arg-outline"></a></dt>
<dd><p><code>logical</code> whether to enable outline drawing.</p></dd>


<dt id="arg-alphaoutline-alphashadow">alphaOutline, alphaShadow<a class="anchor" aria-label="anchor" href="#arg-alphaoutline-alphashadow"></a></dt>
<dd><p><code>numeric</code> alpha transparency to use
for the outline and shadow colors, respectively.</p></dd>


<dt id="arg-shadow">shadow<a class="anchor" aria-label="anchor" href="#arg-shadow"></a></dt>
<dd><p><code>logical</code> whether to enable shadow drawing.</p></dd>


<dt id="arg-shadoworder">shadowOrder<a class="anchor" aria-label="anchor" href="#arg-shadoworder"></a></dt>
<dd><p><code>character</code> value indicating when shadows are drawn
relative to drawing labels: <code>"each"</code> draws each shadow with each label,
so that shadows will overlap previous labels; <code>"all"</code> draws all shadows
first then all labels, so labels will always appear above all
shadows. See examples.</p></dd>


<dt id="arg-cex">cex<a class="anchor" aria-label="anchor" href="#arg-cex"></a></dt>
<dd><p><code>numeric</code> scalar applied to font size, default <code>graphics::par("cex")</code>.</p></dd>


<dt id="arg-font">font<a class="anchor" aria-label="anchor" href="#arg-font"></a></dt>
<dd><p><code>character</code> applied to font family, default <code>graphics::par("font")</code>.</p></dd>


<dt id="arg-dotest">doTest<a class="anchor" aria-label="anchor" href="#arg-dotest"></a></dt>
<dd><p><code>logical</code> whether to create a visual example of output. Note
that it calls <code><a href="usrBox.html">usrBox</a></code> to color the plot area, and the
background can be overridden with something like <code>fill="navy"</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>other parameters are passed to <code><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></code>.
Note that certain parameters are not vectorized in that function,
such as <code>srt</code> which requires only a fixed value. To rotate each
label independently, multiple calls to <code><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></code> or
<code>shadowText</code> must be made. Other parameters like <code>adj</code>
only accept up to two values, and those two values affect all label
positioning.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>invisible <code>list</code> of components used to call <code><a href="https://rdrr.io/r/graphics/text.html" class="external-link">graphics::text()</a></code>,
including: x, y, allColors, allLabels, cex, font.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Draws text with the same syntax as <code><a href="https://rdrr.io/r/graphics/text.html" class="external-link">graphics::text()</a></code> except that
this function adds a contrasting color border around the text, which
helps visibility when the background color is either not known, or is
not expected to be a fixed contrasting color.</p>
<p>The function draws the label n times with the chosed background
color, then the label itself atop the background text. It does not
typically have a noticeable effect on rendering time, but it may
impact downstream uses in vector file formats like SVG and PDF, where
text is stored as proper text and font objects. Take care when editing
text that the underlying shadow text is also edited in sync.</p>
<p>The parameter <code>doTest=TRUE</code> will display a visual example. The
background color can be modified with <code>fill="navy"</code> for example.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other jam plot functions:
<code><a href="adjustAxisLabelMargins.html">adjustAxisLabelMargins</a>()</code>,
<code><a href="coordPresets.html">coordPresets</a>()</code>,
<code><a href="decideMfrow.html">decideMfrow</a>()</code>,
<code><a href="drawLabels.html">drawLabels</a>()</code>,
<code><a href="getPlotAspect.html">getPlotAspect</a>()</code>,
<code><a href="groupedAxis.html">groupedAxis</a>()</code>,
<code><a href="imageByColors.html">imageByColors</a>()</code>,
<code><a href="imageDefault.html">imageDefault</a>()</code>,
<code><a href="minorLogTicksAxis.html">minorLogTicksAxis</a>()</code>,
<code><a href="nullPlot.html">nullPlot</a>()</code>,
<code><a href="plotPolygonDensity.html">plotPolygonDensity</a>()</code>,
<code><a href="plotRidges.html">plotRidges</a>()</code>,
<code><a href="plotSmoothScatter.html">plotSmoothScatter</a>()</code>,
<code><a href="shadowText_options.html">shadowText_options</a>()</code>,
<code><a href="showColors.html">showColors</a>()</code>,
<code><a href="sqrtAxis.html">sqrtAxis</a>()</code>,
<code><a href="usrBox.html">usrBox</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">shadowText</span><span class="op">(</span>doTest<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>;</span></span>
<span class="r-plt img"><img src="shadowText-1.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="fu">shadowText</span><span class="op">(</span>doTest<span class="op">=</span><span class="cn">TRUE</span>, fill<span class="op">=</span><span class="st">"navy"</span><span class="op">)</span>;</span></span>
<span class="r-plt img"><img src="shadowText-2.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="fu">shadowText</span><span class="op">(</span>doTest<span class="op">=</span><span class="cn">TRUE</span>, fill<span class="op">=</span><span class="st">"red4"</span><span class="op">)</span>;</span></span>
<span class="r-plt img"><img src="shadowText-3.png" alt="" width="768" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example showing labels with overlapping shadows</span></span></span>
<span class="r-in"><span><span class="fu">withr</span><span class="fu">::</span><span class="fu"><a href="https://withr.r-lib.org/reference/with_par.html" class="external-link">with_par</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"mfrow"</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>, <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="nullPlot.html">nullPlot</a></span><span class="op">(</span>doBoxes<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="fu">graphics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/graphics/title.html" class="external-link">title</a></span><span class="op">(</span>main<span class="op">=</span><span class="st">"shadowOrder='each'"</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="fu">shadowText</span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.5</span>, <span class="fl">1.65</span><span class="op">)</span>, y<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.5</span>, <span class="fl">1.55</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"one"</span>, <span class="st">"two"</span><span class="op">)</span>, cex<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span>, shadowOrder<span class="op">=</span><span class="st">"each"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="nullPlot.html">nullPlot</a></span><span class="op">(</span>doBoxes<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="fu">graphics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/graphics/title.html" class="external-link">title</a></span><span class="op">(</span>main<span class="op">=</span><span class="st">"shadowOrder='all'"</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="fu">shadowText</span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.5</span>, <span class="fl">1.65</span><span class="op">)</span>, y<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.5</span>, <span class="fl">1.55</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"one"</span>, <span class="st">"two"</span><span class="op">)</span>, cex<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span>, shadowOrder<span class="op">=</span><span class="st">"all"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="shadowText-4.png" alt="" width="768" height="768"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

