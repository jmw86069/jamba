<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Draw text with shadow border — shadowText • jamba</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Draw text with shadow border — shadowText"><meta property="og:description" content="Draw text with shadow border"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jamba</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.78.900</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/jamba-vignette.html">Jamba Overview</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="http://github.com/jmw86069/jamba/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Draw text with shadow border</h1>
    <small class="dont-index">Source: <a href="http://github.com/jmw86069/jamba/blob/HEAD/R/jamba-plots.r" class="external-link"><code>R/jamba-plots.r</code></a></small>
    <div class="hidden name"><code>shadowText.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Draw text with shadow border</p>
    </div>

    <div class="ref-usage sourceCode"><pre class="sourceCode r"><code><span class="fu">shadowText</span><span class="op">(</span>
  <span class="va">x</span>,
  y <span class="op">=</span> <span class="cn">NULL</span>,
  labels <span class="op">=</span> <span class="cn">NULL</span>,
  col <span class="op">=</span> <span class="st">"white"</span>,
  bg <span class="op">=</span> <span class="fu"><a href="setTextContrastColor.html">setTextContrastColor</a></span><span class="op">(</span><span class="va">col</span><span class="op">)</span>,
  r <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"jam.shadow.r"</span>, <span class="fl">0.15</span><span class="op">)</span>,
  offset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.15</span>, <span class="op">-</span><span class="fl">0.15</span><span class="op">)</span>,
  n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"jam.shadow.n"</span>, <span class="fl">8</span><span class="op">)</span>,
  outline <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"jam.outline"</span>, <span class="cn">TRUE</span><span class="op">)</span>,
  alphaOutline <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"jam.alphaOutline"</span>, <span class="fl">0.4</span><span class="op">)</span>,
  shadow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"jam.shadow"</span>, <span class="cn">FALSE</span><span class="op">)</span>,
  shadowColor <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"jam.shadowColor"</span>, <span class="st">"black"</span><span class="op">)</span>,
  alphaShadow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"jam.alphaShadow"</span>, <span class="fl">0.2</span><span class="op">)</span>,
  shadowOrder <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"each"</span>, <span class="st">"all"</span><span class="op">)</span>,
  cex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"cex"</span><span class="op">)</span>,
  font <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"font"</span><span class="op">)</span>,
  doTest <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>

    <div id="ref-sections">
    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x, y</dt>
<dd><p>numeric coordinates, either as vectors x and y, or x as a
two-color matrix recognized by <code><a href="https://rdrr.io/r/grDevices/xy.coords.html" class="external-link">xy.coords</a></code>.</p></dd>
<dt>labels</dt>
<dd><p>vector of labels to display at the corresponding xy
coordinates.</p></dd>
<dt>col, bg, shadowColor</dt>
<dd><p>the label color, and background (outline) color,
and shadow color (if <code>shadow=TRUE</code>), for each
element in <code>labels</code>. Colors are applied in order, and recycled to
<code>length(labels)</code> as needed. By default <code>bg</code> will choose
a contrasting color, based upon <code><a href="setTextContrastColor.html">setTextContrastColor</a></code>.
Also by default, the shadow is "black" true to its name, since it is
expected to darken the area around it.</p></dd>
<dt>r</dt>
<dd><p>the outline radius, expressed as a fraction of the width of the
character "A" as returned by <code><a href="https://rdrr.io/r/graphics/strwidth.html" class="external-link">strwidth</a></code>.</p></dd>
<dt>offset</dt>
<dd><p>the outline offset position in xy coordinates, expressed
as a fraction of the width of the character "A" as returned by
<code><a href="https://rdrr.io/r/graphics/strwidth.html" class="external-link">strwidth</a></code>, and <code><a href="https://rdrr.io/r/graphics/strwidth.html" class="external-link">strheight</a></code>,
respectively.
The offset is only applied when <code>shadow=TRUE</code> to enable the shadow
effect.</p></dd>
<dt>n</dt>
<dd><p>the number of steps around the label used to create the outline.
A higher number may be useful for very large font sizes, otherwise 8
is a reasonably good balance between detail and the number of labels
added.</p></dd>
<dt>outline</dt>
<dd><p>logical whether to enable outline drawing.</p></dd>
<dt>alphaOutline, alphaShadow</dt>
<dd><p>alpha transparency to use for the outline
and shadow colors, respectively.</p></dd>
<dt>shadow</dt>
<dd><p>logical whether to enable shadow drawing.</p></dd>
<dt>shadowOrder</dt>
<dd><p><code>character</code> value indicating when shadows are drawn
relative to drawing labels: <code>"each"</code> draws each shadow with each label,
so that shadows will overlap previous labels; <code>"all"</code> draws all shadows
first then all labels, so labels will always appear above all
shadows. See examples.</p></dd>
<dt>doTest</dt>
<dd><p>logical whether to create a visual example of output. Note
that it calls <code><a href="usrBox.html">usrBox</a></code> to color the plot area, and the
background can be overridden with something like <code>fill="navy"</code>.</p></dd>
<dt>...</dt>
<dd><p>other parameters are passed to <code><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></code>.
Note that certain parameters are not vectorized in that function,
such as <code>srt</code> which requires only a fixed value. To rotate each
label independently, multiple calls to <code><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></code> or
<code>shadowText</code> must be made. Other parameters like <code>adj</code>
only accept up to two values, and those two values affect all label
positioning.</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>Draws text with the same syntax as <code><a href="https://rdrr.io/r/graphics/text.html" class="external-link">graphics::text()</a></code> except that
this function adds a contrasting color border around the text, which
helps visibility when the background color is either not known, or is
not expected to be a fixed contrasting color.</p>
<p>The function draws the label n times with the chosed background
color, then the label itself atop the background text. It does not
typically have a noticeable effect on rendering time, but it may
impact downstream uses in vector file formats like SVG and PDF, where
text is stored as proper text and font objects. Take care when editing
text that the underlying shadow text is also edited in sync.</p>
<p>The parameter <code>doTest=TRUE</code> will display a visual example. The
background color can be modified with <code>fill="navy"</code> for example.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other jam plot functions: 
<code><a href="adjustAxisLabelMargins.html">adjustAxisLabelMargins</a>()</code>,
<code><a href="coordPresets.html">coordPresets</a>()</code>,
<code><a href="decideMfrow.html">decideMfrow</a>()</code>,
<code><a href="drawLabels.html">drawLabels</a>()</code>,
<code><a href="getPlotAspect.html">getPlotAspect</a>()</code>,
<code><a href="groupedAxis.html">groupedAxis</a>()</code>,
<code><a href="imageByColors.html">imageByColors</a>()</code>,
<code><a href="imageDefault.html">imageDefault</a>()</code>,
<code><a href="minorLogTicksAxis.html">minorLogTicksAxis</a>()</code>,
<code><a href="nullPlot.html">nullPlot</a>()</code>,
<code><a href="plotPolygonDensity.html">plotPolygonDensity</a>()</code>,
<code><a href="plotRidges.html">plotRidges</a>()</code>,
<code><a href="plotSmoothScatter.html">plotSmoothScatter</a>()</code>,
<code><a href="showColors.html">showColors</a>()</code>,
<code><a href="smoothScatterJam.html">smoothScatterJam</a>()</code>,
<code><a href="sqrtAxis.html">sqrtAxis</a>()</code>,
<code><a href="usrBox.html">usrBox</a>()</code></p></div>
    </div>
    </div>

    <div id="examples">
    <h2>Examples</h2>
    <div class="ref-examples sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="fu">shadowText</span><span class="op">(</span>doTest<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>;</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>data length [48] is not a sub-multiple or multiple of the number of rows [9]</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>data length [48] is not a sub-multiple or multiple of the number of rows [9]</span>
<span class="r-plt img"><img src="shadowText-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span class="fu">shadowText</span><span class="op">(</span>doTest<span class="op">=</span><span class="cn">TRUE</span>, fill<span class="op">=</span><span class="st">"navy"</span><span class="op">)</span>;</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>data length [48] is not a sub-multiple or multiple of the number of rows [9]</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>data length [48] is not a sub-multiple or multiple of the number of rows [9]</span>
<span class="r-plt img"><img src="shadowText-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span class="fu">shadowText</span><span class="op">(</span>doTest<span class="op">=</span><span class="cn">TRUE</span>, fill<span class="op">=</span><span class="st">"red4"</span><span class="op">)</span>;</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>data length [48] is not a sub-multiple or multiple of the number of rows [9]</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>data length [48] is not a sub-multiple or multiple of the number of rows [9]</span>
<span class="r-plt img"><img src="shadowText-3.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># example showing labels with overlapping shadows</span></span>
<span class="r-in"><span class="va">opar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"mfrow"</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="nullPlot.html">nullPlot</a></span><span class="op">(</span>doBoxes<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>;</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/title.html" class="external-link">title</a></span><span class="op">(</span>main<span class="op">=</span><span class="st">"shadowOrder='each'"</span><span class="op">)</span>;</span>
<span class="r-in"><span class="fu">shadowText</span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.5</span>, <span class="fl">1.65</span><span class="op">)</span>, y<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.5</span>, <span class="fl">1.55</span><span class="op">)</span>,</span>
<span class="r-in">   labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"one"</span>, <span class="st">"two"</span><span class="op">)</span>, cex<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span>, shadowOrder<span class="op">=</span><span class="st">"each"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="nullPlot.html">nullPlot</a></span><span class="op">(</span>doBoxes<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>;</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/title.html" class="external-link">title</a></span><span class="op">(</span>main<span class="op">=</span><span class="st">"shadowOrder='all'"</span><span class="op">)</span>;</span>
<span class="r-in"><span class="fu">shadowText</span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.5</span>, <span class="fl">1.65</span><span class="op">)</span>, y<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.5</span>, <span class="fl">1.55</span><span class="op">)</span>,</span>
<span class="r-in">   labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"one"</span>, <span class="st">"two"</span><span class="op">)</span>, cex<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span>, shadowOrder<span class="op">=</span><span class="st">"all"</span><span class="op">)</span></span>
<span class="r-plt img"><img src="shadowText-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="va">opar</span><span class="op">)</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.9000.9000.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

