<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>TODO for jamba • jamba</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="TODO for jamba"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">jamba</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/jamba-vignette.html">Jamba Overview</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jmw86069/jamba/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>TODO for jamba</h1>
      <small class="dont-index">Source: <a href="https://github.com/jmw86069/jamba/blob/HEAD/TODO.md" class="external-link"><code>TODO.md</code></a></small>
    </div>

<div id="todo-for-jamba" class="section level1">

<div class="section level2">
<h2 id="id_05mar2025">05mar2025<a class="anchor" aria-label="anchor" href="#id_05mar2025"></a></h2>
<ul><li>Do not modify <code><a href="https://rdrr.io/r/base/environment.html" class="external-link">globalenv()</a></code>
</li>
<li>Capitalize app names, add tick mark quotes around apps or APIs, e.g. ‘Excel’, ‘Rmarkdown’.</li>
</ul></div>
<div class="section level2">
<h2 id="id_01mar2025">01mar2025<a class="anchor" aria-label="anchor" href="#id_01mar2025"></a></h2>
<ul><li><p>DONE. Fix missing <code>\value()</code> in <code><a href="reference/make_html_styles.html">make_html_styles()</a></code>, <code><a href="reference/provigrep.html">provigrep()</a></code>.</p></li>
<li><p>DONE. Confirm all <code>verbose=FALSE</code> by default.</p></li>
<li><p>DONE. Confirm no bare <code><a href="reference/printDebug.html">printDebug()</a></code> without using <code>if(verbose){}</code></p></li>
<li><p>DONE. Change to use <code>withr</code> equivalent functions for <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par()</a></code>, <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code>, <code><a href="https://rdrr.io/r/base/on.exit.html" class="external-link">on.exit()</a></code>.</p></li>
<li><p>Consider using <code>cli</code> as new dependency as drop-in for <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> inside <code><a href="reference/printDebug.html">printDebug()</a></code> functions.</p></li>
<li><p>DONE. Remove/Confirm <code>\dontrun{}</code> in Examples: <code><a href="reference/writeOpenxlsx.html">writeOpenxlsx()</a></code>, <code><a href="reference/applyXlsxConditionalFormat.html">applyXlsxConditionalFormat()</a></code>, <code><a href="reference/applyXlsxCategoricalFormat.html">applyXlsxCategoricalFormat()</a></code>, <code><a href="reference/set_xlsx_colwidths.html">set_xlsx_colwidths()</a></code>, <code><a href="reference/set_xlsx_rowheights.html">set_xlsx_rowheights()</a></code>, <code><a href="reference/readOpenxlsx.html">readOpenxlsx()</a></code>, <code><a href="reference/setPrompt.html">setPrompt()</a></code>.</p></li>
</ul></div>
<div class="section level2">
<h2 id="id_13feb2025">13feb2025<a class="anchor" aria-label="anchor" href="#id_13feb2025"></a></h2>
<ul><li>
<code><a href="reference/asSize.html">asSize()</a></code> should call <code><a href="https://rdrr.io/r/utils/object.size.html" class="external-link">object.size()</a></code> first when the input object is not already <code>numeric</code>.</li>
</ul></div>
<div class="section level2">
<h2 id="id_27jan2025">27jan2025<a class="anchor" aria-label="anchor" href="#id_27jan2025"></a></h2>
<ul><li>
<p><code><a href="reference/readOpenxlsx.html">readOpenxlsx()</a></code></p>
<ul><li><p>Fix <code>rows</code>,<code>cols</code> arguments to subset rows and columns imported.</p></li>
<li>
<p>Handle multi-row headers formally:</p>
<ul><li><p>Consider method to define specific header rows, instead of hoping they are detected correctly.</p></li>
<li><p>Define multi-row header delimiter, default <code>"_"</code>.</p></li>
<li>
<p>Fix/Improve handling of multi-row headers via <code>check_header=TRUE</code>. Currently doesn’t work as intended.</p>
<ul><li>“default”: When multiple rows are “header”, then delimit each row value into new column header.</li>
<li>“extend”: As above, except when leading fields are <code>NA</code>, use most recent non-NA value as header, thus “extending” that header field to the next column. For example grouped columns, where the group name is only present in the first row,column of the group.</li>
</ul></li>
</ul></li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_11dec2024">11dec2024<a class="anchor" aria-label="anchor" href="#id_11dec2024"></a></h2>
<ul><li>
<p><code><a href="reference/writeOpenxlsx.html">writeOpenxlsx()</a></code></p>
<ul><li>Consider <code>startRow</code>,<code>startCol</code> (<code>startColumn</code>) to define where to begin saving worksheet data.</li>
<li>Related, consider optional multi-row headers. Bonus points: merge cells for consecutive repeated headings, but (probably) not on the lowest/last header row.</li>
</ul></li>
<li>
<p>One more revamp to <code>rainbowJam()</code> to improve default colors. Too much pink, too much “beige”, and too few of the colors we love.</p>
<ul><li>Design idea is to take <code>named_colors</code>, arrayed in rank order of hue (by degrees) and literally reassign color hue by the popularity of named colors. People don’t name nearly as many greens as they name red-orange-yellow, which is partly because green hues are not easily resolved in detail.</li>
<li>(So green should not be nearly 1/3 the color wheel!) RGB wheel: <code>color_pie(jamba::hsv2col(rbind(h=seq(0, to=1, by=0.01), s=1, v=1)))</code>
</li>
</ul></li>
<li><p>Update <code>named_colors</code></p></li>
</ul></div>
<div class="section level2">
<h2 id="id_09dec2024">09dec2024<a class="anchor" aria-label="anchor" href="#id_09dec2024"></a></h2>
<ul><li><p><code><a href="reference/setTextContrastColor.html">setTextContrastColor()</a></code> - consider option <code>jam.hclCutoff</code> or <code>jam.L_threshold</code> to control the breaking point for light/dark text.</p></li>
<li><p><code><a href="reference/hcl2col.html">hcl2col()</a></code> - fix <code>alpha</code> argument input, currently ignored.</p></li>
<li>
<p><code><a href="reference/shadowText.html">shadowText()</a></code></p>
<ul><li>Apply more arguments in vectorized form: pos,adj</li>
</ul></li>
<li>
<p><code><a href="reference/kable_coloring.html">kable_coloring()</a></code></p>
<ul><li>Consider option to hide all borders (top/bottom/left/right).</li>
<li>Consider optional <code>text_color_sub</code> to control the text color, to support <code><a href="https://jmw86069.github.io/venndir/reference/textvenn.html" class="external-link">venndir::textvenn()</a></code> output where some labels use fill color, other labels use font color.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_24nov2024">24nov2024<a class="anchor" aria-label="anchor" href="#id_24nov2024"></a></h2>
<ul><li>Fix error in <code><a href="reference/cPaste.html">cPaste()</a></code> when <code>S4Vectors</code> is not installed.</li>
</ul></div>
<div class="section level2">
<h2 id="id_01nov2024">01nov2024<a class="anchor" aria-label="anchor" href="#id_01nov2024"></a></h2>
<ul><li>
<code><a href="reference/jargs.html">jargs()</a></code> - consider word-wrapping when there are numerous items, see: <code>jargs(multienrichjam::fixSetLabels, "words")</code>.</li>
</ul></div>
<div class="section level2">
<h2 id="id_07oct2024">07oct2024<a class="anchor" aria-label="anchor" href="#id_07oct2024"></a></h2>
<ul><li>
<p>Consider support for <code>Matrix</code> sparse matrix objects, <code>CsparseMatrix</code></p>
<ul><li>specifically for <code><a href="reference/rowGroupMeans.html">rowGroupMeans()</a></code> which causes errors in <code>jamma</code>
</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_13sep2024">13sep2024<a class="anchor" aria-label="anchor" href="#id_13sep2024"></a></h2>
<ul><li>
<p>DONE. <code><a href="reference/kable_coloring.html">kable_coloring()</a></code></p>
<ul><li>Fix bug where HTML tables show the HTML tags with escapes, something to do with <code>format="html"</code> not being included by default.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_04sep2024">04sep2024<a class="anchor" aria-label="anchor" href="#id_04sep2024"></a></h2>
<ul><li>
<code><a href="reference/plotRidges.html">plotRidges()</a></code> - make it work when there is only one column.</li>
<li>
<code><a href="reference/plotPolygonDensity.html">plotPolygonDensity()</a></code> - make it reset the <code>par("mfrow")</code> after plotting.</li>
</ul></div>
<div class="section level2">
<h2 id="id_13aug204">13aug204<a class="anchor" aria-label="anchor" href="#id_13aug204"></a></h2>
<ul><li>
<p><code><a href="reference/reload_rmarkdown_cache.html">reload_rmarkdown_cache()</a></code></p>
<ul><li>The path should accept the base RMarkdown cache and find the proper subdirectory: <code>"./html"</code> or other relevant subdirectory names.</li>
<li>Currently stops with: <code>"No .rdata files found in directory."</code>
</li>
</ul></li>
<li>
<p>Use <code>options</code> package to handle Jam-related package options</p>
<ul><li>See: <a href="https://github.com/dgkf/options" class="external-link uri">https://github.com/dgkf/options</a> <code>options::define_option()</code>
</li>
<li>Manages options, default values, ect.</li>
<li>Also creates documentation for <code><a href="https://rdrr.io/r/base/options.html" class="external-link">jamba::options</a></code> with all options, defaults, and descriptions.</li>
<li>Low overhead dependencies, only imports <code>utils</code>.</li>
<li>Add this stub:</li>
</ul><pre><code><span><span class="co">#' @eval options::as_roxygen_docs()</span></span>
<span><span class="cn">NULL</span></span></code></pre>
<ul><li>
<p>Current options:</p>
<ul><li>
<code><a href="reference/shadowText.html">shadowText()</a></code>: <code>jam.shadow</code>, jam.shadow.r, jam.shadow.n, jam.shadowColor, jam.alphaShadow, <code>jam.outline</code>, jam.alphaOutline</li>
<li>
<code><a href="reference/printDebug.html">printDebug()</a></code>: jam.fgDefault, jam.fgTime, jam.timeStamp, <code>jam.comment</code>, <code>jam.htmlOut</code>,</li>
<li>
<code>jam.formatNumbers</code>, jam.trim, jam.digits, jam.nsmall, jam.big.mark, jam.small.mark</li>
<li>jam.doColor, jam.sep, jam.file, jam.append, jam.invert</li>
<li>color-related: <code>jam.lightMode</code>, jam.Crange, jam.Lrange, jam.Cgrey, jam.adjustRgb, <code>jam.model</code> (hcl, polarLUV, polarLAB)</li>
<li>jam.stopClasses</li>
</ul></li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_31jul2024">31jul2024<a class="anchor" aria-label="anchor" href="#id_31jul2024"></a></h2>
<ul><li>
<p><code><a href="reference/tcount.html">tcount()</a></code></p>
<ul><li>Pass <code>...</code> to <code>table(x)</code>, using <code>table(x, ...)</code> instead. The change will allow things like <code>useNA="ifany"</code>, or custom <code>exclude</code>.</li>
<li>Require input <code>x</code> is atomic <code>is.atomic(x)</code> to prevent weirdness with <code>list</code> or <code>data.frame</code> input.</li>
<li>Consider how to handle <code>table(x, y)</code> or <code>table(data.frame)</code>
</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_09jul2024">09jul2024<a class="anchor" aria-label="anchor" href="#id_09jul2024"></a></h2>
<ul><li>
<p>Consider <code>rsdim()</code> as scalable extension to <code><a href="reference/sdim.html">sdim()</a></code> and <code><a href="reference/sdim.html">ssdim()</a></code></p>
<ul><li>Goal is to permit <code><a href="reference/sdim.html">sdim()</a></code> logic on deeper nested objects than two levels.</li>
<li>Consider <code><a href="reference/sdim.html">sdim()</a></code> new argument <code>indent</code>, to help print nested <code><a href="reference/sdim.html">sdim()</a></code>.</li>
</ul></li>
<li>
<p>Consider new function: <code>remakeNames()</code></p>
<ul><li>Alternate to <code><a href="reference/makeNames.html">makeNames()</a></code> that removes the version suffix, then reapplies a new suffix.</li>
<li>Optional <code>recursive=TRUE</code> to trim multiple suffix versions, for example <code>c("A_v1", "A_v1_v1", "A_v1_v2")</code> would eventually become <code>c("A", "A", "A")</code>.</li>
<li>Motivation is to prevent entries from being version-versioned, <code>c("A", "A_v1", "A_v1")</code> would become <code>c("A", "A_v1_v1", "A_v1_v2")</code>. A preferred option may be to consider the input as <code>c("A", "A", "A")</code>, then version those values to create: <code>c("A_v1", "A_v2", "A_v3")</code>.</li>
<li>The other motivation is to avoid having to “fix problems” within <code><a href="reference/makeNames.html">makeNames()</a></code> when it could potentially create duplicates: <code>makeNames(c("A", "A", "A_v1"))</code> would output <code>c("A_v1", "A_v2", "A_v1")</code>, see below.</li>
</ul></li>
<li>
<p>Consider new function: <code>unmakeNames()</code></p>
<ul><li>Its purpose is to remove previous version suffix created by <code><a href="reference/makeNames.html">makeNames()</a></code>.</li>
</ul></li>
<li>
<p><code><a href="reference/makeNames.html">makeNames()</a></code></p>
<ul><li><p>Resolve potential bug when the versioned name repeats a pre-existing value, for example <code>makeNames(c("A", "A", "A_v1"))</code> would create two entries <code>"NA_v1"</code>.</p></li>
<li>
<p>Three potential methods:</p>
<ol style="list-style-type: decimal"><li>
<p>“Reset versions”:</p>
<ul><li><p>Basically, any entry that has previously been versioned, causing newly versioned entries to fail, should be un-versioned, then re-versioned so it will succeed.</p></li>
<li><p>Added benefit that versions will be in order they appear in the output.</p></li>
<li>
<p>This process would be iterative:</p>
<ul><li>All duplicated values would trigger <code>unmakeNames()</code> to remove the version suffix. All values with the same un-versioned value (which could use the input vector rather than actually un-versioning) would then be re-versioned together as a set.</li>
<li>This step could inadvertently create new duplicates, causing the process to occur again, and so on. It will eventually stop, given a finite input set.</li>
</ul></li>
<li><p><code>makeNames(c("A", "A", "A_v1"))</code> would change the <code>"A_v1"</code> entry to <code>"A"</code>, after which the output becomes <code>c("A_v1", "A_v2", "A_v3")</code>.</p></li>
<li><p>This option unfortunately changes entries, which can be confusing. For example, the entry which was originally <code>"A_v1"</code> is not the final entry called <code>"A_v1"</code>.</p></li>
</ul></li>
<li>
<p>“Append versions”:</p>
<ul><li>Basically if there are any duplicates after <code><a href="reference/makeNames.html">makeNames()</a></code>, it calls <code><a href="reference/makeNames.html">makeNames()</a></code> again iteratively until all entries are unique.</li>
<li>This option unfortunately appends multiple suffix versions.</li>
<li>It has one benefit that data might be traceable. This suffices <code>"_v1_v1"</code> and <code>"_v1_v2"</code> suggests that both entries were previously <code>"_v1"</code>.</li>
<li>It has slight risk of getting stuck in an iterative loop, with input data that already has multiple layers of versioning.</li>
<li>Example: <code>makeNames(c("A", "A", "A_v1"))</code> produces <code>c("A_v1", "A_v2", "A_v1")</code>, then <code>c("A_v1_v1", "A_v2", "A_v1_v2")</code>.</li>
</ul></li>
</ol></li>
</ul><ol start="3" style="list-style-type: decimal"><li>
<p>“Keep existing versions”:</p>
<ul><li>More complicated logic. Keep existing versions as-is, and increment to the next available un-used version number.</li>
<li>If input data is already versioned, keep it as-is without change, unless there are duplicates among versioned values, in which case handle as usual.</li>
<li>Previously unversioned values which become duplicates should skip that version number. For example <code>makeNames(c("A", "A", "A_v2"))</code> should produce <code>c("A_v1", "A_v3", "A_v2")</code>.</li>
<li>The algorithm: Check for duplicates after versioning. If none, then end. If duplicates, by definition there must be only one from input, and only one created by versioning. Keep the entry that already existed, re-assign the other one. If there were two <code>c("A_v2", "A_v2")</code> input entries, they would have been versioned already to create <code>c("A_v2_v1", "A_v2_v2")</code>. The desired output is that multiple <code>"A"</code> entries should skip the <code>"_v2"</code> version if <code>"A_v2"</code> already exists, and continue with <code>"_v3"</code> and so on. The tricky part is that multiple versions could be assigned. So for 15 duplicates of <code>"A"</code> where <code>"A_v7"</code> and <code>"A_v11"</code> were already assigned, the method would know to create <code>15 + 2</code> suffix values, since there are 15 duplicated entries, but 2 existing entries. Then remove <code>"_v7"</code> and <code>"_v11"</code> because they already exist. It then assigns the remaining values in order.</li>
</ul></li>
</ol></li>
</ul></div>
<div class="section level2">
<h2 id="id_20jun2024">20jun2024<a class="anchor" aria-label="anchor" href="#id_20jun2024"></a></h2>
<ul><li>
<p><code><a href="reference/setPrompt.html">setPrompt()</a></code></p>
<ul><li><p>consider option to include date and/or date-time stamp. Similar to a bash prompt style. Current default: <code>{project-name}-R-4.2.3_processid&gt;</code> Suggested date option 1: <code>{project-name}-{20jun2024}-R-4.2.3_processid&gt;</code> Suggested datetime option 1: <code>{project-name}-{20jun2024}-R-4.2.3_processid&gt;</code></p></li>
<li>
<p>Side notes for available date string options for <code>POSIXct</code>, <code>POSIXt</code>:</p>
<ul><li>
<code>%c</code> uses full time and date: <code>"Sun Jun  9 01:45:53 2024"</code>
</li>
<li>
<code>%H</code> is the hour in 24H scale with leading zero</li>
<li>
<code>%I</code> is the hour in 12H scale with leading zero</li>
<li>
<code>%p</code> indicates <code>"AM"</code> or <code>"PM"</code>
</li>
<li>(Is there no representation for AM/PM?)</li>
<li>
<code>%M</code> is the minute with leading zero</li>
<li>
<code>%S</code> is the second with leading zero</li>
<li>
<code>%T</code> is equivalent to <code>"%H:%M:%S"</code>
</li>
<li>
<code>%t</code> is replaced by a <code>tab</code>
</li>
</ul></li>
</ul></li>
<li>
<p><code><a href="reference/getDate.html">getDate()</a></code></p>
<ul><li>Consider allowing <code>dateFormat</code> to be a jam option: <code>options("jam.dateFormat")</code>. Bonus point if <code><a href="reference/asDate.html">asDate()</a></code> can recognize a variety of common formats.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_04jun2024">04jun2024<a class="anchor" aria-label="anchor" href="#id_04jun2024"></a></h2>
<ul><li>
<p>DONE. <code><a href="reference/heatmap_column_order.html">heatmap_column_order()</a></code>, <code><a href="reference/heatmap_row_order.html">heatmap_row_order()</a></code></p>
<ul><li>
<p>Error seen with <code>HeatmapList</code> (after drawing a list of heatmaps) where there are multiple annotation heatmaps preceding the “main” heatmap. The preceding heatmaps do not have the row or column order, which causes it to fail.</p>
<ul><li>The solution is to use the first entry with class <code>Heatmap</code> in the <code>HeatmapList</code> as <code>hm@ht_list</code>.</li>
<li>Also add new argument to select a specific heatmap.</li>
</ul></li>
</ul></li>
<li>
<p>DONE. <code><a href="reference/mixedSortDF.html">mixedSortDF()</a></code></p>
<ul><li>Fix handling of <code>"mtime"</code>, <code>"POSIXct"</code>, <code>"POSIXt"</code>, <code>"Date"</code> classes which cannot be converted to <code>data.frame</code>.</li>
</ul></li>
<li>
<p><code><a href="reference/sdim.html">sdim()</a></code> and <code><a href="reference/sdim.html">ssdim()</a></code></p>
<ul><li>When input is an <code>array</code> that contains <code>list</code> data, it returns the <code><a href="https://rdrr.io/r/base/lengths.html" class="external-link">lengths()</a></code> of the list elements, but it should return the dimensions of the enclosing <code>array</code>.</li>
</ul></li>
<li><p>Prepare more urgently for CRAN or Bioconductor submission.</p></li>
</ul></div>
<div class="section level2">
<h2 id="id_27may2024">27may2024<a class="anchor" aria-label="anchor" href="#id_27may2024"></a></h2>
<ul><li>
<p><code>heatmap_column_group_labels()</code></p>
<ul><li>Fix bug when there is only one <code>column_split</code> values, which should enable drawing a box around the entire heatmap, with or without group lines and group labels. Error: <code>"Viewport 'expression_heatmap_body_1_7' was not found"</code>
</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_22mar2024">22mar2024<a class="anchor" aria-label="anchor" href="#id_22mar2024"></a></h2>
<ul><li>
<p>DONE. <code><a href="reference/writeOpenxlsx.html">writeOpenxlsx()</a></code>, <code><a href="reference/applyXlsxCategoricalFormat.html">applyXlsxCategoricalFormat()</a></code></p>
<ul><li>It appears to be applying categorical colors to incorrect columns, as if they are out of sync.</li>
</ul></li>
<li><p><code><a href="reference/setPrompt.html">setPrompt()</a></code> does not enable color when run inside RMarkdown.</p></li>
</ul></div>
<div class="section level2">
<h2 id="id_24jan2024">24jan2024<a class="anchor" aria-label="anchor" href="#id_24jan2024"></a></h2>
<ul><li>
<p><code><a href="reference/reload_rmarkdown_cache.html">reload_rmarkdown_cache()</a></code></p>
<ul><li>Accept cache directory even when there is a subdirectory such as <code>"project_cache/html/"</code>. It should also accept <code>"project_cache"</code>, and detect the presence of the subdirectory <code>"html"</code>.</li>
<li>Question: Are there other potential subdirectory names and is the subdirectory based upon the RMarkdown output format? See <a href="https://bookdown.org/yihui/rmarkdown-cookbook/cache-path.html" class="external-link uri">https://bookdown.org/yihui/rmarkdown-cookbook/cache-path.html</a>, yes: <code>"html"</code>, <code>"latex"</code>, <code>"docx"</code>.</li>
</ul></li>
<li>
<p><code><a href="reference/kable_coloring.html">kable_coloring()</a></code></p>
<ul><li>Consider options similar to <code><a href="reference/writeOpenxlsx.html">writeOpenxlsx()</a></code>: highlightColumns, pvalueColumns, fcColumns, lfcColumns, numColumns, intColumns, in order of interest. The highlighting could be easy and useful.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_10jan2024">10jan2024<a class="anchor" aria-label="anchor" href="#id_10jan2024"></a></h2>
<ul><li>
<p><code><a href="reference/heatmap_column_order.html">heatmap_column_order()</a></code></p>
<ul><li>Current: When <code>HeatmapList</code> is supplied with multiple heatmaps, by default it returns only the column order for the first heatmap.</li>
<li>Future: It should give option to return column order for individual heatmaps, or across all heatmaps.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_17nov2023">17nov2023<a class="anchor" aria-label="anchor" href="#id_17nov2023"></a></h2>
<ul><li>
<p><code><a href="reference/writeOpenxlsx.html">writeOpenxlsx()</a></code></p>
<ul><li><p>Consider adding optional multi-row headers</p></li>
<li>
<p>Consider adding ability to save table into an existing workbook starting at certain row,column position.</p>
<ul><li>This feature could also be used to enable multi-row headers, and multi-column row annotations, for example saving a <code>SummarizedExperiment</code> or <code>matrix</code> object that contains rownames, and separate row annotations.</li>
</ul></li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_24oct2023">24oct2023<a class="anchor" aria-label="anchor" href="#id_24oct2023"></a></h2>
<ul><li>
<p>DONE. <code><a href="reference/printDebug.html">printDebug()</a></code></p>
<ul><li>DONE. debug issue where <code>htmlOut=TRUE</code> inserts multiple newlines <code>&lt;br/&gt;</code>
</li>
<li>DONE. add convenience function: <code><a href="reference/printDebug.html">printDebugHtml()</a></code> for use in RMarkdown, which enables <code>htmlOut=TRUE</code> and <code>comment=FALSE</code> by default.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_03oct2023">03oct2023<a class="anchor" aria-label="anchor" href="#id_03oct2023"></a></h2>
<ul><li>
<p>DELAYED: consider migrating <code><a href="reference/printDebug.html">printDebug()</a></code> to use <code><a href="https://cli.r-lib.org/reference/cli_alert.html" class="external-link">cli::cli_alert_info()</a></code></p>
<ul><li><p><strong>Downside:</strong> It does not print HTML output inside RMarkdown, instead falls back to uncolorized output. Oh well, color is the primary motivation. It also does not use fancy bullets in HTML, another cool feature lost.</p></li>
<li><p>Could be useful to employ the pattern of time/date stamp, and color-coding</p></li>
<li>
<p>potential benefit is that output could use R recommended methods</p>
<ul><li>E.g. messaging, warnings, errors, etc.</li>
<li>Added features: inline markup; bullets; icons; word wrap;</li>
<li>Therefore output could be silenced using standard approaches.</li>
<li>It offers some improved formatting: bullets, icons, emojis, etc. (but not in HTML output.)</li>
<li>unclear if colorization is readily configurable, or if better to use <code>cli</code> patterns</li>
<li>To print a message:</li>
</ul><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">save_file</span> <span class="op">&lt;-</span> <span class="st">"output_file.txt"</span>;</span>
<span><span class="fu">cli</span><span class="fu">::</span><span class="fu"><a href="https://cli.r-lib.org/reference/cli_alert.html" class="external-link">cli_alert_info</a></span><span class="op">(</span><span class="st">"Saved to: '{.field {save_file}}'."</span><span class="op">)</span></span>
<span><span class="fu">cli</span><span class="fu">::</span><span class="fu"><a href="https://cli.r-lib.org/reference/cli_alert.html" class="external-link">cli_alert</a></span><span class="op">(</span><span class="st">"Saved to: '{.field {save_file}}'."</span><span class="op">)</span></span>
<span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="st">"warn"</span><span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu">cli</span><span class="fu">::</span><span class="fu"><a href="https://cli.r-lib.org/reference/cli_alert.html" class="external-link">cli_alert_warning</a></span><span class="op">(</span><span class="st">"Saved to: '{.field {save_file}}'."</span><span class="op">)</span><span class="op">}</span></span>
<span><span class="fu">cli</span><span class="fu">::</span><span class="fu"><a href="https://cli.r-lib.org/reference/cli_alert.html" class="external-link">cli_alert_success</a></span><span class="op">(</span><span class="st">"Saved to: '{.field {save_file}}'."</span><span class="op">)</span></span></code></pre></div>
</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_28sep2023">28sep2023<a class="anchor" aria-label="anchor" href="#id_28sep2023"></a></h2>
<ul><li>
<p><code><a href="reference/writeOpenxlsx.html">writeOpenxlsx()</a></code></p>
<ul><li>consider adding <code>pctColumns</code>,<code>pctRule</code>,<code>pctColors</code> for percentage values</li>
<li>Consider updates when <code>startRow</code> is not 1, to write data into an existing workbook sheet? Driving use case is to organize multiple small <code>data.frame</code> into the same worksheet. It might therefore need a header row?</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_27aug2023">27aug2023<a class="anchor" aria-label="anchor" href="#id_27aug2023"></a></h2>
<ul><li>
<p><code><a href="reference/setPrompt.html">setPrompt()</a></code></p>
<ul><li>Debug why the prompt is not defined in color when called inside RMarkdown.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_22aug2023">22aug2023<a class="anchor" aria-label="anchor" href="#id_22aug2023"></a></h2>
<ul><li>
<p><code><a href="reference/sdim.html">sdim()</a></code></p>
<ul><li>Consider option to print object size beside each row. This option would incur a performance hit, but could be useful for understanding which object components consume the most memory. Data in general is getting larger, and it could be helpful when trimming down unnecessary duplication of data in object <code>list</code> context for example.</li>
<li>Consider some way to indicate when an object is <code>S4</code>, which means its names are <code>slotNames()</code> and not just <code><a href="https://rdrr.io/r/base/names.html" class="external-link">names()</a></code>. Unclear how it would work in <code><a href="reference/sdim.html">ssdim()</a></code> where multiple <code>data.frame</code> results are intended to be stackable by columns, and would require the same <code><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames()</a></code>. Find somewhere to indicate whether <code>slotNames()</code> or <code><a href="https://rdrr.io/r/base/names.html" class="external-link">names()</a></code> are shown.</li>
<li>Add more methods to recognize <code>names(x)</code>.</li>
<li>Find simple test cases that can test S3 or S4 objects.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_17aug2023">17aug2023<a class="anchor" aria-label="anchor" href="#id_17aug2023"></a></h2>
<ul><li>
<p><code><a href="reference/printDebug.html">printDebug()</a></code></p>
<ul><li>DONE. argument <code>comment</code> should take optional <code>character</code> string to use as prefix.</li>
<li>consider calling <code><a href="https://cli.r-lib.org/reference/format_error.html" class="external-link">cli::format_message</a></code> for tidyverse-compliant R messages and warnings.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_10aug2023">10aug2023<a class="anchor" aria-label="anchor" href="#id_10aug2023"></a></h2>
<ul><li>
<p>DONE. <code><a href="reference/applyXlsxCategoricalFormat.html">applyXlsxCategoricalFormat()</a></code> and <code><a href="reference/writeOpenxlsx.html">writeOpenxlsx()</a></code></p>
<ul><li>DONE. argument <code>colorSub</code> should accept <code>list</code> input, similar to <code><a href="reference/kable_coloring.html">kable_coloring()</a></code>. The <code>list</code> should be named by <code>colnames(x)</code> and accepts either a named <code>character</code> vector of colors so the names match values in the column, or a <code>function</code> that takes column values and returns a <code>character</code> vector of colors for each value in the column.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_08aug2023">08aug2023<a class="anchor" aria-label="anchor" href="#id_08aug2023"></a></h2>
<ul><li>
<p><code><a href="reference/makeColorDarker.html">makeColorDarker()</a></code></p>
<ul><li>consider new argument <code>dex</code> “darkness expansion factor” similar to its use in <code><a href="reference/color2gradient.html">color2gradient()</a></code>
</li>
<li>consider new argument <code>satex</code> “saturation expansion factor”</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_11jul2023">11jul2023<a class="anchor" aria-label="anchor" href="#id_11jul2023"></a></h2>
<ul><li>
<p>DONE: <code><a href="reference/grepls.html">grepls()</a></code></p>
<ul><li>not properly applying regular expressions to search package functions, for example <code><a href="http://github.com/jmw86069/multienrichjam" class="external-link">library(multienrichjam);jamba::grepls("^enrich")</a></code> returns no results, but <code>jamba::grepls("enrich")</code> does return results.</li>
</ul></li>
<li>
<p>DONE: migrate <code>multienrichjam::gsubs()</code> into jamba.</p>
<ul><li>Minor: Deprecate <code><a href="reference/gsubs.html">gsubs()</a></code> in multienrichjam, such that it calls <code><a href="reference/gsubs.html">jamba::gsubs()</a></code> when jamba is sufficient version.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_05jul2023">05jul2023<a class="anchor" aria-label="anchor" href="#id_05jul2023"></a></h2>
<ul><li>
<p>DONE: <code><a href="reference/plotSmoothScatter.html">plotSmoothScatter()</a></code></p>
<ul><li>when <code>asp</code> is defined, honor this setting by also defining axis ranges appropriately, not cropping points outside the range when an axis range is increased to accommodate the aspect ratio. One workaround is to use <code>nullPlot(asp=asp, doBoxes=FALSE)</code>, then use <code>par("usr")</code> to define actual <code>xlim</code>, <code>ylim</code> values, the <code>plotSmoothScatter(..., add=TRUE)</code> to inherit those options.</li>
</ul></li>
<li>
<p><code><a href="reference/drawLabels.html">drawLabels()</a></code></p>
<ul><li>enhance the labels to allow <code>adj</code> to define text justification, so for example text can be left-aligned, right-aligned, or centered. Currently all text is centered, by defining the midpoint of the label itself, the using <code>adj=c(0.5, 0.5)</code>. In some cases it would be nice to have left-aligned text. For this change, text width would be calculated, then the x coordinate would be moved to the left side of the box, with buffer equal to half the difference in box width and text width.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_12jun2023">12jun2023<a class="anchor" aria-label="anchor" href="#id_12jun2023"></a></h2>
<ul><li>
<p><code><a href="reference/printDebug.html">printDebug()</a></code>, <code><a href="reference/printDebug.html">printDebugI()</a></code></p>
<ul><li>Atomic elements with empty names <code>(NA, "", "^[\t ]+$")</code> (whitespace) should be printed using the element value and not its name. Currently, names are printed when they exist, but no attention is given to whether the names are empty. Unclear whether the expected/correct behavior would be to print all values, or a mixture of non-empty-names/values-instead-of-empty-names. For now, go with the second option, printing names when non-empty, and element values otherwise.</li>
<li>Consider argument <code>names_and_values=TRUE</code> which would optionally display names above values as used with <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>. In this case, the names would be printed inverted (or when empty, the name would not be visible), and values would be printed using the same color but not inverted.</li>
</ul></li>
<li>
<p>RMarkdown use with colorized text output: <code><a href="reference/printDebug.html">printDebug()</a></code>, <code><a href="reference/printDebug.html">printDebugI()</a></code>.</p>
<ul><li>Investigate how <code><a href="https://pkgdown.r-lib.org/reference/build_articles.html" class="external-link">pkgdown::build_article()</a></code> is able to produce RMarkdown/HTML output that includes colored text from <code><a href="reference/printDebug.html">printDebug()</a></code>, but <code><a href="https://rdrr.io/pkg/knitr/man/output_hooks.html" class="external-link">knitr::render_markdown()</a></code> only captures color when using block option <code>results='asis'</code>.</li>
<li>Default yaml options include: <code>pkgdown: as_is: true</code>, so maybe it is preferred to keep <code>results='asis'</code>?</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_23mar2023">23mar2023<a class="anchor" aria-label="anchor" href="#id_23mar2023"></a></h2>
<ul><li>
<p><code><a href="reference/kable_coloring.html">kable_coloring()</a></code></p>
<ul><li>DONE. Enable passing <code>sample_color_list</code> to colorize columns</li>
<li>DONE. Allow coloring <code>numeric</code> columns, perhaps through <code>sample_color_list</code>? Using <code>function</code> is more effective than <code>colorSub</code> for numeric values.</li>
<li>DONE. (By virtue of calling <code><a href="https://rdrr.io/pkg/platjam/man/design2colors.html" class="external-link">platjam::design2colors()</a></code>.) Automate colorizing numeric columns by value, for example <code><a href="https://rdrr.io/pkg/platjam/man/df_to_numcolors.html" class="external-link">platjam::df_to_numcolors()</a></code> except invisible. Maybe an optional argument enabling/disabling this feature, but enabled by default?</li>
<li>It should apply color to <code>row.names</code> when they are displayed. (Taken from 10jan2023 TODO item.)</li>
<li>Use bold font by default for row names.</li>
<li>Consider handling <code>matrix</code> input by using a color gradient to colorize <code>numeric</code> values.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_22mar2023">22mar2023<a class="anchor" aria-label="anchor" href="#id_22mar2023"></a></h2>
<ul><li>
<p><code><a href="reference/imageByColors.html">imageByColors()</a></code></p>
<ul><li>
<code>adjustMargins=TRUE</code> does not reset margins after plotting. It may be desirable, so other features can be added, but causes problems when running a series of plots.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_27feb2023">27feb2023<a class="anchor" aria-label="anchor" href="#id_27feb2023"></a></h2>
<ul><li>
<p>consider new color function: <code>is_color_ramp()</code></p>
<ul><li>simple function that performs the same test in <code><a href="reference/getColorRamp.html">getColorRamp()</a></code> just to validate that an input <code>character</code> string is a possible color ramp.</li>
<li>potential argument to require the <code>character</code> string to be a specific named color ramp, and not a single color which could be converted into a color ramp.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_06feb2023">06feb2023<a class="anchor" aria-label="anchor" href="#id_06feb2023"></a></h2>
<ul><li>
<p><code><a href="reference/mixedSorts.html">mixedSorts()</a></code> optimization</p>
<ul><li>DONE: when <code>honorFactor=FALSE</code> all class <code>"factor"</code> should be considered <code>"character"</code>, minimizing effects of handling <code>factor</code> and <code>character</code> data independently.</li>
<li>Handle other edge cases with mixed class, and nested or simple list.</li>
</ul></li>
<li><p><code><a href="reference/reload_rmarkdown_cache.html">reload_rmarkdown_cache()</a></code> should check subdirectory “./html/” if initial reload fails. For some reason some RMarkdown output imposes an additional subdirectory “html” for html output. For that matter, this function may need to check subdirectories and by default use the first one found (without a dot prefix like “.git”).</p></li>
</ul></div>
<div class="section level2">
<h2 id="id_04feb2023">04feb2023<a class="anchor" aria-label="anchor" href="#id_04feb2023"></a></h2>
<ul><li>
<p>run some performance profiling of core functions:</p>
<ul><li>
<code><a href="reference/mixedSort.html">mixedSort()</a></code> and related functions</li>
<li>
<code><a href="reference/cPaste.html">cPaste()</a></code> and related functions</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_10jan2023">10jan2023<a class="anchor" aria-label="anchor" href="#id_10jan2023"></a></h2>
<ul><li>
<p><code><a href="reference/kable_coloring.html">kable_coloring()</a></code></p>
<ul><li>Categorical colors are assigned with <code>colorSub</code>, but should also be compatible with <code>color_list</code> output from <code><a href="https://rdrr.io/pkg/platjam/man/design2colors.html" class="external-link">platjam::design2colors()</a></code> (soon to be moved into <code>colorjam</code>).</li>
<li>It should apply color to <code>row.names</code> when they are displayed.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_28nov2022">28nov2022<a class="anchor" aria-label="anchor" href="#id_28nov2022"></a></h2>
<ul><li>
<p><code><a href="reference/jargs.html">jargs()</a></code></p>
<ul><li>
<p>it fails when functions follow the troubled paradigm for generics, e.g.:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>some_func <span class="ot">&lt;-</span> <span class="cf">function</span>(object, ...){</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>   .local <span class="ot">&lt;-</span> <span class="cf">function</span>(object, arg1, arg2, arg3);</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>   <span class="fu">.local</span>(object, ...)</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>}</span></code></pre></div>
</li>
<li><p>Design idea: Figure out a way to “sniff” out these arguments.</p></li>
<li><p>Eval the function body, look for function named <code>.local</code></p></li>
<li><p>It will fail for functions that call <code>UseMethod("mean")</code>, which requires the object class in order to search generics using the form <code>function.class1()</code>, where <code>class1</code> is the first <code>"character"</code> value from <code>class(object)</code>. Optionally, <code>jargs_internal()</code> could have argument <code>class</code> or <code>object</code> to guide it to the appropriate method based upon the <code>class</code> or <code>class(object)</code>.</p></li>
<li>
<p>Driving example: <code><a href="https://rdrr.io/pkg/ComplexHeatmap/man/draw-dispatch.html" class="external-link">ComplexHeatmap::draw()</a></code></p>
<ul><li>can be found with <code>names(findMethods("draw"))</code>, for class <code>"Heatmap"</code>, <code>"HeatmapAnnotation"</code>, and several others.</li>
<li>
<code>args(findMethods("draw")$Heatmap)</code> will show <code>function(object, ...)</code>
</li>
<li>however the function body defines <code>.local</code> as a <code>function</code>
</li>
</ul></li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_14nov2022">14nov2022<a class="anchor" aria-label="anchor" href="#id_14nov2022"></a></h2>
<ul><li>
<p><code><a href="reference/jargs.html">jargs()</a></code> is janky for some functions, for example arguments that begin with parentheses. Other non-standard formatting has previously caused problems, but examples like embedded functions appear to work fine.</p>
<ul><li>Example that works: <code><a href="https://rdrr.io/pkg/jamses/man/heatmap_se.html" class="external-link">jamses::heatmap_se()</a></code> argument <code>cluster_rows=function(x, ...){ amap::hcluster(x, ...) }</code>. Actually, this one fails to insert a comma between internal function arguments. Sigh.</li>
<li>Example that fails: <code><a href="https://rdrr.io/pkg/multienrichjam/man/layout_with_qfr.html" class="external-link">multienrichjam::layout_with_qfr()</a></code> argument <code>repulse.rad=(igraph::vcount(g)^repulse)</code>
</li>
<li>Design idea: write a test routine that calls <code><a href="reference/jargs.html">jamba::jargs()</a></code> on all functions in a package, captures text output, then searches for any argument that spans multiple lines. Then print a visual summary to check for potential problems.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_19oct2022">19oct2022<a class="anchor" aria-label="anchor" href="#id_19oct2022"></a></h2>
<ul><li>
<p><code><a href="reference/readOpenxlsx.html">readOpenxlsx()</a></code> throws an error when column headers do not align with subsequent data. Insert filler column headers.</p>
<ul><li>Easiest workaround is change default to <code>check_header=FALSE</code>
</li>
<li>The <code>check_header=TRUE</code> logic should change, the intent is to detect when one row of additional header is above column headers, usually seen with lower ncol, however sometimes real data has fewer ncol because the last column(s) contain empty cells.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_14oct2022">14oct2022<a class="anchor" aria-label="anchor" href="#id_14oct2022"></a></h2>
<ul><li>
<code><a href="reference/renameColumn.html">renameColumn()</a></code> should accept <code>integer</code> values for <code>from</code> to indicate column indexes. The driving use case is a matrix that lacks colnames, <code>renameColumn(x, from=1:4, to=letters[1:4])</code>. Internally convert <code>integer</code> or <code>numeric</code> values in <code>from</code> to <code>colnames(x)</code> or when <code>length(colnames(x)) == 0</code> assign <code>colnames(x) &lt;- seq_len(ncol(x))</code>,, then convert <code>from &lt;- as.character(from)</code>.</li>
</ul></div>
<div class="section level2">
<h2 id="id_04oct2022">04oct2022<a class="anchor" aria-label="anchor" href="#id_04oct2022"></a></h2>
<ul><li>
<p><code><a href="reference/jargs.html">jargs()</a></code></p>
<ul><li>Option for multiple columns, for those functions with many arguments. Requires some estimate of the number of console columns, or user-defined.</li>
</ul></li>
<li>
<p><code>jamsplom()</code></p>
<ul><li>new custom function that I still use often outside the Jam package context, useful enough to be added to jamba for convenience. It’s as useful as <code>plotPolygoDensity()</code>, <code><a href="reference/plotSmoothScatter.html">plotSmoothScatter()</a></code>, <code><a href="reference/plotRidges.html">plotRidges()</a></code>, somewhat combined.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_27sep2022">27sep2022<a class="anchor" aria-label="anchor" href="#id_27sep2022"></a></h2>
<ul><li>
<code><a href="reference/mixedSortDF.html">mixedSortDF()</a></code> does not work with time class such as <code>"POSIXct"</code>, although <code><a href="reference/mixedSort.html">mixedSort()</a></code> does work. Coersion with <code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric()</a></code> should suffice as a workaround.</li>
</ul></div>
<div class="section level2">
<h2 id="id_01sep2022">01sep2022<a class="anchor" aria-label="anchor" href="#id_01sep2022"></a></h2>
<ul><li>
<p><code><a href="reference/readOpenxlsx.html">readOpenxlsx()</a></code></p>
<ul><li>add option not to include colnames, equivalent of <code>colNames=FALSE</code>. This option will skip the step that loads colnames separately.</li>
<li>debug argument <code>rows</code>
</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_26jul2022">26jul2022<a class="anchor" aria-label="anchor" href="#id_26jul2022"></a></h2>
<ul><li>
<p><code><a href="reference/adjustAxisLabelMargins.html">adjustAxisLabelMargins()</a></code></p>
<ul><li>It should operate much like <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par()</a></code>, by returning the <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par()</a></code> values that were changed, so they can be changed back.</li>
<li>Should be an option so it defines <code>on.exit(par(opar))</code> to revert the margin values that it re-defines during its operation.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_20jul2022">20jul2022<a class="anchor" aria-label="anchor" href="#id_20jul2022"></a></h2>
<ul><li><p><code><a href="reference/kable_coloring.html">kable_coloring()</a></code> chokes when <code>colorSub</code> uses color names, they just need to be converted to hex format beforehand.</p></li>
<li>
<p><code><a href="reference/cell_fun_label.html">cell_fun_label()</a></code></p>
<ul><li>arguments <code>prefix</code> and <code>suffix</code> are indexed by the list <code>m</code> and not by <code>show</code> which is confusing. Consider applying <code>prefix</code> and <code>suffix</code> in order to each entry in <code>show</code>.</li>
</ul></li>
<li>
<p><code><a href="reference/cPaste.html">cPasteU()</a></code> and <code><a href="reference/uniques.html">uniques()</a></code> appears slow in some situations</p>
<ul><li>Apparently for small length vectors &lt;1000, <code>lapply(x, unique)</code> is much faster than BioC methods with <code>unique(CharacterList(x))</code>
</li>
<li>
<code>unique(FactorList(x))</code> is extremely slow for large vectors</li>
<li>unclear whether <code><a href="reference/cPaste.html">cPaste()</a></code> should ever handle <code>factor</code> without converting to <code>character</code> - all data should be <code>character</code> upfront, which may speed all downstream steps.</li>
</ul></li>
<li>
<p><code><a href="reference/mixedSorts.html">mixedSorts()</a></code> does not handle mixed <code>list</code> with <code>character</code> and <code>factor</code></p>
<ul><li>Easiest option that works*: when input is all the same <code>class</code> proceed with the optimization step currently used, otherwise revert to <code>lapply(x, mixedSort)</code> which is markedly slower, but more consistent with expected behavior.</li>
</ul></li>
<li>
<p><code><a href="reference/mixedSort.html">mixedSort()</a></code> and <code><a href="reference/mixedSorts.html">mixedSorts()</a></code> are inconsistent handling <code>factor</code></p>
<ul><li>
<code><a href="reference/mixedSort.html">mixedSort()</a></code> should have option to honor <code>factor</code> order, consistent with <code><a href="reference/mixedSorts.html">mixedSorts()</a></code>
</li>
<li>
<code><a href="reference/mixedSorts.html">mixedSorts()</a></code> should handle mix of <code>character</code> and <code>factor</code> and return a <code>list</code> with the same classes as the input <code>list</code>.</li>
<li>suggest new argument <code>honorFactor=FALSE</code> default for <code><a href="reference/mixedSort.html">mixedSort()</a></code> to keep previous behavior without affecting dependencies</li>
<li>suggest new argument <code>honorFactor=TRUE</code> default for <code><a href="reference/mixedSorts.html">mixedSorts()</a></code> to keep previous behavior without affecting dependencies</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_18jul2022">18jul2022<a class="anchor" aria-label="anchor" href="#id_18jul2022"></a></h2>
<ul><li>
<p>COMPLETE: <code><a href="reference/printDebug.html">printDebug()</a></code> updates</p>
<ul><li>Situation: In Rmarkdown, when the R block uses <code>results='asis'</code>, see <a href="https://bookdown.org/yihui/rmarkdown-cookbook/kable.html#generate-multiple-tables-from-a-for-loop" class="external-link">RMarkdown Guide#generate-multiple-tables-from-a-for-loop</a>). The output from <code><a href="reference/printDebug.html">printDebug()</a></code> should be configurable for that format, maybe with some global option, so that all internal functions that call <code><a href="reference/printDebug.html">printDebug()</a></code> will be affected the same way without having to pass an option through each child function in a process.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_07jul2022">07jul2022<a class="anchor" aria-label="anchor" href="#id_07jul2022"></a></h2>
<ul><li>
<code><a href="reference/rmNA.html">rmNA()</a></code> should work properly on data.frame and matrix objects, returning the same object back, with the relevant values replaced with <code>naValue</code> as relevant.</li>
</ul></div>
<div class="section level2">
<h2 id="id_17jun2022">17jun2022<a class="anchor" aria-label="anchor" href="#id_17jun2022"></a></h2>
<ul><li>add <code>log2fold_axis()</code> convenience function</li>
<li>
<code><a href="reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> argument <code>transFactor</code> is not used by default, the argument <code>transformation</code> should by default use <code>transFactor</code>.</li>
</ul></div>
<div class="section level2">
<h2 id="id_25may2022">25may2022<a class="anchor" aria-label="anchor" href="#id_25may2022"></a></h2>
<ul><li>
<p>Check <code>cell_fun_label</code>:</p>
<ul><li>COMPLETE: It is possible to increase speed by skipping blank cells? (Yes.)</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_23may2022">23may2022<a class="anchor" aria-label="anchor" href="#id_23may2022"></a></h2>
<ul><li>
<p>Allow list of colors/color functions as input to <code><a href="reference/writeOpenxlsx.html">writeOpenxlsx()</a></code>.</p>
<ul><li>
<code><a href="https://rdrr.io/pkg/platjam/man/design2colors.html" class="external-link">platjam::design2colors()</a></code> soon to be migrated into <code>colorjam::design2colors()</code>
</li>
<li>
<code>design2colors()</code> outputs a <code>list</code> of named color vectors, and for <code>numeric</code> columns it returns color <code>function</code> defined by <code><a href="https://rdrr.io/pkg/circlize/man/colorRamp2.html" class="external-link">circlize::colorRamp2()</a></code>. Not sure how well a custom color <code>function</code> will work in Excel, other than pre-defining cell color for each individual cell, which seems sub-optimal.</li>
<li>The main benefit would be that a color <code>list</code> can be matched to <code>colnames(x)</code>, and applied only to columns known to benefit from color assignment. Also, colors can be uniquely assigned by each column.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_22may2022">22may2022<a class="anchor" aria-label="anchor" href="#id_22may2022"></a></h2>
<ul><li>COMPLETE: <code><a href="reference/drawLabels.html">drawLabels()</a></code> option to force at least panel width, intended to mimic ggplot facet labels.</li>
</ul></div>
<div class="section level2">
<h2 id="id_05may2022">05may2022<a class="anchor" aria-label="anchor" href="#id_05may2022"></a></h2>
<ul><li>
<p>COMPLETE. Consider new function specifically for MAD outlier point filtering, instead of hiding this feature inside <code><a href="reference/rowGroupMeans.html">rowGroupMeans()</a></code>.</p>
<ul><li>I am so dumb, there is a function <code><a href="reference/rowRmMadOutliers.html">rowRmMadOutliers()</a></code> for this purpose, however this function is not grouped, and is instead only per row.</li>
<li>COMPLETE. New function <code><a href="reference/rowGroupMeans.html">rowGroupRmOutliers()</a></code>.</li>
</ul></li>
<li>
<p>Consider moving functions into this package which are currently being used in multiple Jam packages:</p>
<ul><li>
<code>update_function_params()</code> - jamma multienrichjam</li>
<li>
<code>update_list_elements()</code> - jamma multienrichjam (use <code><a href="https://rdrr.io/r/utils/modifyList.html" class="external-link">utils::modifyList()</a></code>)</li>
<li>
<code>find_colname()</code> - jamma, multienrichjam</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_19apr2022">19apr2022<a class="anchor" aria-label="anchor" href="#id_19apr2022"></a></h2>
<ul><li>
<p>Consider steps required to publish jamba on CRAN. (yike!)</p>
<ul><li>Might need to add tests for every function (yike!)</li>
<li>Might need to remove some non-essential functions: <code>"jamrandom"</code>, <code>"jamitall"</code>?</li>
</ul></li>
<li>
<p><code><a href="reference/printDebug.html">printDebug()</a></code> and <code><a href="reference/printDebug.html">printDebugI()</a></code> changes:</p>
<ul><li>consider detecting “state” when run inside RMarkdown, although currently seems to require the R block options include <code>results='asis'</code> to enable color, which also requires <code>htmlOut=TRUE</code>.</li>
<li>
<code>htmlOut=TRUE</code> does not de-colorize before applying the delimiter; also by default should remove comment prefix.</li>
</ul></li>
<li>
<p>consider moving all color-related functions into colorjam.</p>
<ul><li>
<code><a href="reference/hcl2col.html">hcl2col()</a></code>, <code><a href="reference/col2hcl.html">col2hcl()</a></code>, <code><a href="reference/rgb2col.html">rgb2col()</a></code>, <code><a href="reference/hsv2col.html">hsv2col()</a></code>, <code><a href="reference/col2hsv.html">col2hsv()</a></code>
</li>
<li>check cross-jam-package dependencies, e.g. <code><a href="reference/rgb2col.html">jamba::rgb2col()</a></code> is in <code>splicejam</code>, <code>colorjam</code>, and a few R scripts.</li>
</ul></li>
<li>
<p><code><a href="reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> and related functions</p>
<ul><li>Enable <code>startRow</code> to write data starting on row 2 or row 3 for example.</li>
<li>Add example syntax for saving multi-sheet data to file with one write operation, avoiding read/write for each worksheet.</li>
</ul></li>
<li>
<p>Convert <code>imageToColors()</code> to <code><a href="https://rdrr.io/pkg/ComplexHeatmap/man/Heatmap.html" class="external-link">ComplexHeatmap::Heatmap()</a></code></p>
<ul><li>or create a variation that uses ComplexHeatmap</li>
<li>requires function to label cells in the center of contiguous range of cells with same color and label</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_02dec2021">02dec2021<a class="anchor" aria-label="anchor" href="#id_02dec2021"></a></h2>
<ul><li>COMPLETE: additional functions to convert to and from abbreviated size <code><a href="reference/asSize.html">asSize()</a></code>
</li>
</ul></div>
<div class="section level2">
<h2 id="id_29nov2021">29nov2021<a class="anchor" aria-label="anchor" href="#id_29nov2021"></a></h2>
<ul><li>COMPLETE: <code><a href="reference/mixedSortDF.html">mixedSortDF()</a></code> appears to have issues sorting data.frame columns with type “integer64”. It appears not to sort these columns at all.</li>
<li>COMPLETE: <code><a href="reference/readOpenxlsx.html">readOpenxlsx()</a></code> is throwing errors in edge cases, needs debugging.</li>
<li>COMPLETE: <code><a href="reference/readOpenxlsx.html">readOpenxlsx()</a></code> detect when there is one or more header lines that are not column headers, for example when there is an overall title in the first row or rows of each worksheet. It can be detected either by counting <code><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol()</a></code> for each of the first 5 rows individually, and by comparing column classes for each row loaded individually.</li>
</ul></div>
<div class="section level2">
<h2 id="id_22nov2021">22nov2021<a class="anchor" aria-label="anchor" href="#id_22nov2021"></a></h2>
<ul><li>Consider adding version to <code><a href="reference/check_pkg_installed.html">check_pkg_installed()</a></code> for additional constraints. The idea is to check if the package is installed, and optionally if the package version is at least <code>&gt;= x.y.z</code>, likely using <code><a href="https://rdrr.io/r/utils/compareVersion.html" class="external-link">utils::compareVersion()</a></code>.</li>
<li>COMPLETE: Update <code><a href="reference/getColorRamp.html">getColorRamp()</a></code> to recognize any color ramps supplied by <code>colorjam</code> if that package is installed: <code>jam_linear</code> and <code>jam_divergent</code>.</li>
</ul></div>
<div class="section level2">
<h2 id="id_04nov2021">04nov2021<a class="anchor" aria-label="anchor" href="#id_04nov2021"></a></h2>
<p><code><a href="reference/mixedSortDF.html">mixedSortDF()</a></code> currently allows applying reverse sort by using colname prefix “-”. For numeric columns it is sometimes useful to sort the magnitude instead of the absolute value.</p>
<ul><li>suggest new prefix “*” or “~” which may appear with or without “-”.</li>
<li>when “~-” or “-~” appear as prefix, data is sorted by decreasing absolute value.</li>
<li>when only “~” appears as a prefix, data is sorted by increasing absolute value.</li>
<li>at some point sort columns could use non-standard evaluation, which could allow fancy math or logic to be applied here. Not yet.</li>
</ul><div class="section level3">
<h3 id="id_05oct2021">05oct2021<a class="anchor" aria-label="anchor" href="#id_05oct2021"></a></h3>
<p>Simple utility function to load a common set of JAM packages</p>
<ul><li>“omics” - loads jamba, jamma, colorjam, jamsession, jamses</li>
<li>“regions” - as above plus GenomicRanges</li>
<li>“rnaseq” - as above plus splicejam</li>
<li>“peaks” - “omics”, “regions”, and slicejam</li>
<li>“covhm” - “omics” and platjam</li>
</ul></div>
<div class="section level3">
<h3 id="id_10aug2021">10aug2021<a class="anchor" aria-label="anchor" href="#id_10aug2021"></a></h3>
<ul><li>
<p>COMPLETE: <code><a href="reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> can be painfully slow with somewhat large Excel sheets, roughly 20,000 rows and 11 columns.</p>
<ul><li>The slow step is probably either <code><a href="reference/applyXlsxConditionalFormat.html">applyXlsxConditionalFormat()</a></code>, or <code><a href="reference/applyXlsxCategoricalFormat.html">applyXlsxCategoricalFormat()</a></code>.</li>
<li>Whichever step is slowest, it needs to become much faster.</li>
<li>Note: Slowness was resolved by converting functions to use Workbook instead of saving/loading/updating/saving.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="id_25jul2021">25jul2021<a class="anchor" aria-label="anchor" href="#id_25jul2021"></a></h3>
<ul><li>
<p><code>geom_shadowText()</code> - essentially drop-in replacement for <code>geom_text()</code> except that it uses <code><a href="reference/shadowText.html">shadowText()</a></code> logic in ggplot2 context. There is a similar package “shadowtext” by Dr.Guangchuang Yu, however that package does not offer the features implemented here:</p>
<ul><li>define the transparency of shadow or outline</li>
<li>define the color of each shadow</li>
<li>order rendering of shadows with each label and in vectorized context</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="functions-to-update">Functions to update<a class="anchor" aria-label="anchor" href="#functions-to-update"></a></h3>
<ul><li><p>DONE: <code><a href="reference/shadowText.html">shadowText()</a></code> - consider re-ordering the rendering so that the shadow for each text label is placed before the next label.</p></li>
<li>
<p>DONE: <code>checkLightmode()</code> along with <code><a href="reference/printDebug.html">printDebug()</a></code>, <code>makeStyles()</code>, and <code><a href="reference/setPrompt.html">setPrompt()</a></code> collectively do not update light mode as intended when used inside RStudio. The issue was with <code><a href="reference/setCLranges.html">setCLranges()</a></code>.</p>
<ul><li>Also, once set, light mode is not as easily changed as intended.</li>
</ul></li>
<li><p><code>colorRampPaletteJam()</code> - new function as a drop-in replacement to <code><a href="https://rdrr.io/r/grDevices/colorRamp.html" class="external-link">colorRampPalette()</a></code>; this alternative calls <code>blend_colors()</code> between each pair of colors in order to create better intermediate colors in the gradient. Examples: red-blue which should produce purple intermediate; yellow-blue which should produce green intermediate.</p></li>
<li>
<p><code><a href="https://jmw86069.github.io/colorjam/reference/blend_colors.html" class="external-link">colorjam::blend_colors()</a></code> currently purple-gold and purple-yellow create a green intermediate color, these cases should go through red/brown. It requires either manual correction and/or requires that purple-to-yellow shortest hue angular path goes through red.</p>
<ul><li>Consider using a slightly improved red-yellow-blue color hue wheel, with better delineation of the blue-purple-red transitions. The hope is that this color hue wheel might make purple-red-yellow the preferred (shorter) angular path between purple-to-yellow.</li>
<li>Consider manual correction inside <code>blend_colors()</code> for cases where colors are roughly 180 hue degrees different, instead of leaving it to chance.</li>
</ul></li>
<li><p><code><a href="https://jmw86069.github.io/colorjam/reference/rainbowJam.html" class="external-link">colorjam::rainbowJam()</a></code> should have better mechanism to define <code>preset</code> for custom color hue wheels, for example <code>"custom"</code> or some option that uses the <code>h1</code> and <code>h2</code> hue conversion already defined if it has been defined.</p></li>
</ul></div>
<div class="section level3">
<h3 id="vignettes-for-common-small-use-cases">Vignettes for common small use cases<a class="anchor" aria-label="anchor" href="#vignettes-for-common-small-use-cases"></a></h3>
<ul><li>
<p>color manipulation</p>
<ul><li>
<p>creating and adjusting color gradients</p>
<ul><li><code><a href="reference/getColorRamp.html">getColorRamp()</a></code></li>
<li><code><a href="reference/showColors.html">showColors()</a></code></li>
</ul></li>
<li>
<p>creating categorical colors, using them to make gradients</p>
<ul><li><code><a href="https://jmw86069.github.io/colorjam/reference/rainbowJam.html" class="external-link">colorjam::rainbowJam()</a></code></li>
</ul></li>
</ul></li>
<li>
<p>log-transformation, sqrt-transformation and plotting appropriate axes</p>
<ul><li>
<code><a href="reference/log2signed.html">log2signed()</a></code>, <code><a href="reference/exp2signed.html">exp2signed()</a></code>
</li>
<li>
<code><a href="reference/minorLogTicksAxis.html">minorLogTicksAxis()</a></code>, <code><a href="reference/sqrtAxis.html">sqrtAxis()</a></code>
</li>
<li>log-transformed P-values</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="usability">Usability<a class="anchor" aria-label="anchor" href="#usability"></a></h3>
<ul><li>FIXED: <code><a href="reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> ignores <code>xlab</code> and <code>ylab</code>.</li>
<li>
<code><a href="reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> using <code>bandwidthN</code> is confusing, it overrides <code>bwpi</code>.</li>
<li>
<code><a href="reference/getColorRamp.html">getColorRamp()</a></code> value <code>defaultBaseColor="grey95"</code> is annoying to me, change to <code>"grey98"</code> or <code>"grey99"</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="implement-testthis-unit-testing">implement testthis unit testing<a class="anchor" aria-label="anchor" href="#implement-testthis-unit-testing"></a></h3>
</div>
<div class="section level3">
<h3 id="new-functions">new functions<a class="anchor" aria-label="anchor" href="#new-functions"></a></h3>
<ul><li>
<p><code>splomSmooth()</code></p>
<ul><li>all-versus-all scatter plot matrix using equivalent logic as used in <code><a href="reference/plotSmoothScatter.html">plotSmoothScatter()</a></code>, but using <code><a href="https://rdrr.io/pkg/lattice/man/splom.html" class="external-link">lattice::splom()</a></code>. It is much more efficient than equivalent base and ggplot2 plot methods.</li>
<li>add option to “hide” combinations of panels, when those combinations are not relevant or appropriate to the visualization.</li>
<li>option to specify the specific color gradient in each cell, as opposed to combining the categorical color from each input column.</li>
<li>make options for bandwidth and visual bins more intuitive</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="bugs-28aug2020">Bugs 28aug2020<a class="anchor" aria-label="anchor" href="#bugs-28aug2020"></a></h3>
<ul><li>FIXED: <code><a href="reference/printDebug.html">printDebug()</a></code> throws a warning about fixYellow:</li>
</ul><blockquote>
<p>Warning message: In if (fixYellow) { : the condition has length &gt; 1 and only the first element will be used</p>
</blockquote>
</div>
<div class="section level3">
<h3 id="bugs-29jul2020">Bugs 29jul2020<a class="anchor" aria-label="anchor" href="#bugs-29jul2020"></a></h3>
<ul><li>
<code><a href="reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> highlightColumns appears to prevent conditional formatting on the same columns.</li>
<li>
<code><a href="reference/provigrep.html">provigrep()</a></code> checks for names and assigns only if missing, it does not correct duplicate names if they are already present.</li>
</ul></div>
<div class="section level3">
<h3 id="enhancements-29jul2020">enhancements 29jul2020<a class="anchor" aria-label="anchor" href="#enhancements-29jul2020"></a></h3>
<ul><li>
<code>tcount2()</code> - wrapper for <code>tcount(..., minCount=2)</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="migrate-functions-from-other-packages">migrate functions from other packages<a class="anchor" aria-label="anchor" href="#migrate-functions-from-other-packages"></a></h3>
<ul><li><code>find_colname()</code></li>
<li><code>deconcat_df()</code></li>
</ul></div>
<div class="section level3">
<h3 id="enhance-writeopenxlsx-08may2020">Enhance writeOpenxlsx() 08may2020<a class="anchor" aria-label="anchor" href="#enhance-writeopenxlsx-08may2020"></a></h3>
<ul><li>
<code><a href="reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> option to supply a header which is displayed in the top row of the Excel worksheet, with its own style. For example the header may be a title “Data following normalization and limma analysis” with dark blue background, white text, font size 18.</li>
</ul><div class="section level4">
<h4 id="nice-to-have">Nice to have<a class="anchor" aria-label="anchor" href="#nice-to-have"></a></h4>
<ul><li>
<code><a href="reference/applyXlsxConditionalFormat.html">applyXlsxConditionalFormat()</a></code> should in theory color the text with <code><a href="reference/setTextContrastColor.html">setTextContrastColor()</a></code> to use white text on dark background colors. Not sure if Excel allows it, or if it requires manually setting the color in each cell.</li>
<li>
<code><a href="reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> option to apply conditional formatting to numeric columns using each column numeric range, not fixed range. Other option is to supply a list of rules for <code>numRule</code>. Design idea: When <code>numRule=NULL</code> or <code>numRule=NA</code> then create rule based upon the numeric range (min, mean, max). Also, <code>numRule</code> can be a <code>list</code>, for example <code>numRule=list(c(0,100,1000), NA, c(0,1,2))</code>. This rule would apply <code>c(0,100,1000)</code> to the first column in <code>numColumns</code>, then would apply <code>NA</code> to the second column (thus auto-scaled), then would apply <code>c(0,1,2)</code> to the third column.</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="optimizations-29apr2020">Optimizations 29apr2020<a class="anchor" aria-label="anchor" href="#optimizations-29apr2020"></a></h3>
<ul><li>
<p>FIXED: <code><a href="reference/cPaste.html">cPaste()</a></code> is not fully efficient when the input does not require going through steps <code><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist()</a></code> then <code><a href="https://rdrr.io/r/base/split.html" class="external-link">split()</a></code>. In these cases the data should be left as <code>CharacterList</code> if possible, to use <code><a href="https://rdrr.io/pkg/S4Vectors/man/character-utils.html" class="external-link">S4Vectors::unstrsplit()</a></code> directly. Conditions that require <code><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist()</a></code> then <code><a href="https://rdrr.io/r/base/split.html" class="external-link">split()</a></code>:</p>
<ul><li>
<code>na.rm=TRUE</code> and the presence of <code>NA</code> values</li>
<li>
<code>doSort=TRUE</code> and any list element with multiple values</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="bug-02oct2019">Bug 02oct2019<a class="anchor" aria-label="anchor" href="#bug-02oct2019"></a></h3>
<ul><li>
<code><a href="reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> throws an error <code>"is.numeric(xlim) is not TRUE"</code> when plotting data with class <code>"difftime"</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="general-enhancements">General enhancements<a class="anchor" aria-label="anchor" href="#general-enhancements"></a></h3>
<ul><li>Add message during package install suggesting the “crayon” package be installed if not already installed.</li>
<li>Investigate the interplay between Mac/Linux TERM, locale with LC_ALL, special characters like <ce> (theta), and R help docs.</ce></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes--enhancements-to-existing-functions">Bug fixes / Enhancements to existing functions<a class="anchor" aria-label="anchor" href="#bug-fixes--enhancements-to-existing-functions"></a></h3>
<ol style="list-style-type: decimal"><li>
<code><a href="reference/printDebug.html">printDebug()</a></code> probably needs a specific delimiter between lists. Currently <code>collapse</code> is accepted via <code>...</code> but separates every entry.</li>
</ol></div>
<div class="section level3">
<h3 id="new-plotsmoothscatterg-with-grouped-colors">new plotSmoothScatterG with grouped colors<a class="anchor" aria-label="anchor" href="#new-plotsmoothscatterg-with-grouped-colors"></a></h3>
<ol style="list-style-type: decimal"><li>
<code>plotSmoothScatterG()</code> a new function which would create a smooth scatter plot like <code><a href="reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> except that it will also allow coloring points by group. The previous closest estimate was the ability to overlay contours of different colors, however the transparency of each layer is not effective, the last color layer drawn becomes the dominant color. This function essentially creates a layer for each color, then blends them into one collective layer. Each layer should probably be a <code>weight</code> applied to each layer of colors, in order to avoid blending the paleness become dominant. The point color will be determined by the weighted color blend, the intensity of the color as a gradient starting from background color will be determined by the sum of the weights, relative to the rest of the plot.</li>
</ol><p>Required secondary functions:</p>
<ul><li>Weighted color blending function. Must blend yellow and blue to make green, not grey (my own requirement). See <code>"jonclayden/shades"</code>, or <code><a href="https://colorspace.R-Forge.R-project.org/reference/mixcolor.html" class="external-link">colorspace::mixcolor()</a></code> though it only works with 2 colors.</li>
<li>Weighted gradient color assignment, such that given any color, and a weight from 0 to 1, returns a single color representing the color at that position along the gradient from background to foreground color.</li>
</ul><p>Commentary: Does any one color space blend <code>red + yellow = orange</code> and <code>blue + yellow = green</code>? Maybe <code>polarLUV</code>. Others either blend <code>blue + yellow</code> into <code>grey</code> or <code>purple</code> … makes zero sense (to me).</p>
<ol start="2" style="list-style-type: decimal"><li><p><code><a href="reference/printDebug.html">printDebug()</a></code> option for HTML or Rmarkdown-friendly output. Note this feature seems to work when producing HTML output from Rmarkdown.</p></li>
<li>
<p><code><a href="reference/jargs.html">jargs()</a></code> is choking on certain argument formats:</p>
<ul><li>When an argument is a prefixed function, the <code>::</code> should not have spaces before and after. <code>f &lt;- function(x=jamba::colorjam){10};jargs(f);</code> It doesn’t happen when the function has parentheses: <code>f &lt;- function(x=jamba::colorjam(a)){10};jargs(f);</code>
</li>
<li>There was another case of an empty argument being displayed where an actual argument existed for the function. I can’t remember the exact conditions, but this is a placeholder for now.</li>
</ul></li>
</ol></div>
<div class="section level3">
<h3 id="testthat">testthat<a class="anchor" aria-label="anchor" href="#testthat"></a></h3>
<p>Functions in <code>jamba</code> should have their various options tested using the package <code>testthat</code> to help maintain consistent performance for future package and R builds.</p>
<ul><li>
<code><a href="reference/jargs.html">jargs()</a></code> can be tested with several example custom functions to make sure it produces output as desired.</li>
<li>
<code><a href="reference/mixedSort.html">mixedSort()</a></code>, <code><a href="reference/mixedSortDF.html">mixedSortDF()</a></code>, <code><a href="reference/mixedOrder.html">mixedOrder()</a></code>, <code><a href="reference/mixedSorts.html">mixedSorts()</a></code> needs several tests to confirm consistent outputs for the various custom conditions.</li>
</ul></div>
<div class="section level3">
<h3 id="functions-to-add">Functions to add<a class="anchor" aria-label="anchor" href="#functions-to-add"></a></h3>
</div>
<div class="section level3">
<h3 id="jam-global-re-usable-options">jam global re-usable options<a class="anchor" aria-label="anchor" href="#jam-global-re-usable-options"></a></h3>
<p>The goal is to make it easier to set certain function parameters once as a global option, to make it more efficient for these parameters to be used in several functions. Per Hadley Wickham’s recommendation, options should be restricted to non-analytical parameters, in order to maintain clear reproducible analysis workflows. That is, any analysis parameter should be defined clearly when the function is called, and should never use the value of a global option.</p>
<p>In fact, options that only change visual output may be preferred as global options, since they help support specific output and should not be hard-coded into the R script.</p>
<p>In general, visual themes may be good candidates for these parameters.</p>
<div class="section level4">
<h4 id="nomenclature-for-jam-package-options">Nomenclature for jam package options<a class="anchor" aria-label="anchor" href="#nomenclature-for-jam-package-options"></a></h4>
<p>Jam package options should be named with the prefix “jam.” followed by the name of the function argument. For example the function parameter “adjustRgb” would become “jam.adjustRgb”.</p>
</div>
<div class="section level4">
<h4 id="parameters-proposed-to-become-jam-options">Parameters proposed to become jam options<a class="anchor" aria-label="anchor" href="#parameters-proposed-to-become-jam-options"></a></h4>
<ul><li>
<strong>jam.adjustRgb</strong>, used by colsHead() and printDebug() when displaying colored text on the R console. This value applies a slight adjustment to the crayon package rgb-to-ansi conversion to correct the limitation of 256-color ANSI having only 6 channels of brightness for red,green,blue, not 8 each as it typical for VGA-style 256-color palettes. The effect of 6 channel color ranges is that the rgb conversion results in fractional values which are rounded up, making many colors less saturated (less colorful), which by nature works against the core goal of adding color.</li>
<li>
<strong>jam.lightMode</strong>, used by colsHead() and printDebug() to restrict the range of dark or light colors displayed on an R console, based upon whether the background colors is light (high luminance, lightMode=TRUE), or dark (low luminance, lightMode=FALSE.) Normally, if lightMode is not specifically defined, functions will try to detect whether running inside Rstudio, and if so it assumes Rstudio is using the default white background, and sets lightMode=TRUE.</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="rbindlist">rbindList<a class="anchor" aria-label="anchor" href="#rbindlist"></a></h3>
<ul><li>optional recursive operation, in the event of a nested list of data.frames, it should recurse through the list, calling rbindList() on each list element and progressive build up one resulting data.frame or matrix.</li>
<li>optional ability to handle different colnames; alternative is to review <code><a href="https://rdatatable.gitlab.io/data.table/reference/rbindlist.html" class="external-link">data.table::rbindlist()</a></code> as potential replacement.</li>
</ul></div>
<div class="section level3">
<h3 id="imagebycolors">imageByColors<a class="anchor" aria-label="anchor" href="#imagebycolors"></a></h3>
<ul><li>new argument <code>cellnoteColor</code> to define specific cellnote text color, currently uses <code><a href="reference/setTextContrastColor.html">setTextContrastColor()</a></code> but should be able to define custom colors. (Setup for print colorized text data.frame using similar input.)</li>
<li>optional boolean parameter to transpose the image, i.e. t(x) and if applicable t(cellnote).</li>
<li>optionally draw boxes around grouped labels, a visual indicator of groups of cells sharing one label. Care should be taken not to enable this functionality with a large table containing no grouped labels, or even with any scenario resulting in “too many boxes”.</li>
</ul></div>
<div class="section level3">
<h3 id="color-brightness-and-saturation-handling">color brightness and saturation handling<a class="anchor" aria-label="anchor" href="#color-brightness-and-saturation-handling"></a></h3>
<ul><li>helper functions like darken(), lighten(), saturate(), desaturate(). Note colorspace::desaturate() completely removes all color saturation (chroma), and conflicts with this function naming scheme. Maybe: <code>jam_desaturate()</code>, <code>jam_darken()</code>, <code>jam_brighten()</code>, <code>jam_saturate()</code>.</li>
<li>new function <code>subsetColors()</code> which internally creates a data.frame with hex, RGB, HSV, and HCL values, which can then be used to subset an input set of colors. Bonus points for accepting different color classes at input, and returning the same color class at output.</li>
</ul></div>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

