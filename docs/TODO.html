<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>TODO for jamba • jamba</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css"><script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet"><script src="pkgdown.js"></script><meta property="og:title" content="TODO for jamba"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-title-body">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">jamba</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.82.900</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="articles/jamba-vignette.html">Jamba Overview</a>
    </li>
  </ul></li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="http://github.com/jmw86069/jamba/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>TODO for jamba</h1>
    </div>

<div id="todo-for-jamba" class="section level1">

<div class="section level2">
<h2 id="05may2022">05may2022<a class="anchor" aria-label="anchor" href="#05may2022"></a></h2>
<ul><li>
<p>COMPLETE. Consider new function specifically for MAD outlier point filtering, instead of hiding this feature inside <code><a href="reference/rowGroupMeans.html">rowGroupMeans()</a></code>.</p>
<ul><li>I am so dumb, there is a function <code><a href="reference/rowRmMadOutliers.html">rowRmMadOutliers()</a></code> for this purpose, however this function is not grouped, and is instead only per row.</li>
<li>COMPLETE. New function <code><a href="reference/rowGroupMeans.html">rowGroupRmOutliers()</a></code>.</li>
</ul></li>
<li>
<p>Consider moving functions into this package which are currently being used in multiple Jam packages:</p>
<ul><li>
<code>update_function_params()</code> - jamma multienrichjam</li>
<li>
<code>update_list_elements()</code> - jamma multienrichjam (use <code><a href="https://rdrr.io/r/utils/modifyList.html" class="external-link">utils::modifyList()</a></code>)</li>
<li>
<code>find_colname()</code> - jamma, multienrichjam</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="19apr2022">19apr2022<a class="anchor" aria-label="anchor" href="#19apr2022"></a></h2>
<ul><li>
<p>Consider steps required to publish jamba on CRAN. (yike!)</p>
<ul><li>Might need to add tests for every function (yike!)</li>
<li>Might need to remove some non-essential functions: <code>"jamrandom"</code>, <code>"jamitall"</code>?</li>
</ul></li>
<li>
<p><code><a href="reference/printDebug.html">printDebug()</a></code> and <code><a href="reference/printDebugI.html">printDebugI()</a></code> changes:</p>
<ul><li>consider detecting “state” when run inside RMarkdown, although currently seems to require the R block options include <code>results='asis'</code> to enable color, which also requires <code>htmlOut=TRUE</code>.</li>
<li>
<code>htmlOut=TRUE</code> does not de-colorize before applying the delimiter; also by default should remove comment prefix.</li>
</ul></li>
<li>
<p>consider moving all color-related functions into colorjam.</p>
<ul><li>
<code><a href="reference/hcl2col.html">hcl2col()</a></code>, <code><a href="reference/col2hcl.html">col2hcl()</a></code>, <code><a href="reference/rgb2col.html">rgb2col()</a></code>, <code><a href="reference/hsv2col.html">hsv2col()</a></code>, <code><a href="reference/col2hsv.html">col2hsv()</a></code>
</li>
<li>check cross-jam-package dependencies, e.g. <code><a href="reference/rgb2col.html">jamba::rgb2col()</a></code> is in <code>splicejam</code>, <code>colorjam</code>, and a few R scripts.</li>
</ul></li>
<li>
<p><code><a href="reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> and related functions</p>
<ul><li>Enable <code>startRow</code> to write data starting on row 2 or row 3 for example.</li>
<li>Add example syntax for saving multi-sheet data to file with one write operation, avoiding read/write for each worksheet.</li>
</ul></li>
<li>
<p>Convert <code>imageToColors()</code> to <code><a href="https://rdrr.io/pkg/ComplexHeatmap/man/Heatmap.html" class="external-link">ComplexHeatmap::Heatmap()</a></code></p>
<ul><li>or create a variation that uses ComplexHeatmap</li>
<li>requires function to label cells in the center of contiguous range of cells with same color and label</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="02dec2021">02dec2021<a class="anchor" aria-label="anchor" href="#02dec2021"></a></h2>
<ul><li>COMPLETE: additional functions to convert to and from abbreviated size <code><a href="reference/asSize.html">asSize()</a></code>
</li>
</ul></div>
<div class="section level2">
<h2 id="29nov2021">29nov2021<a class="anchor" aria-label="anchor" href="#29nov2021"></a></h2>
<ul><li>COMPLETE: <code><a href="reference/mixedSortDF.html">mixedSortDF()</a></code> appears to have issues sorting data.frame columns with type “integer64”. It appears not to sort these columns at all.</li>
<li>COMPLETE: <code><a href="reference/readOpenxlsx.html">readOpenxlsx()</a></code> is throwing errors in edge cases, needs debugging.</li>
<li>COMPLETE: <code><a href="reference/readOpenxlsx.html">readOpenxlsx()</a></code> detect when there is one or more header lines that are not column headers, for example when there is an overall title in the first row or rows of each worksheet. It can be detected either by counting <code><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol()</a></code> for each of the first 5 rows individually, and by comparing column classes for each row loaded individually.</li>
</ul></div>
<div class="section level2">
<h2 id="22nov2021">22nov2021<a class="anchor" aria-label="anchor" href="#22nov2021"></a></h2>
<ul><li>Consider adding version to <code><a href="reference/check_pkg_installed.html">check_pkg_installed()</a></code> for additional constraints. The idea is to check if the package is installed, and optionally if the package version is at least <code>&gt;= x.y.z</code>, likely using <code><a href="https://rdrr.io/r/utils/compareVersion.html" class="external-link">utils::compareVersion()</a></code>.</li>
<li>COMPLETE: Update <code><a href="reference/getColorRamp.html">getColorRamp()</a></code> to recognize any color ramps supplied by <code>colorjam</code> if that package is installed: <code>jam_linear</code> and <code>jam_divergent</code>.</li>
</ul></div>
<div class="section level2">
<h2 id="04nov2021">04nov2021<a class="anchor" aria-label="anchor" href="#04nov2021"></a></h2>
<p><code><a href="reference/mixedSortDF.html">mixedSortDF()</a></code> currently allows applying reverse sort by using colname prefix “-”. For numeric columns it is sometimes useful to sort the magnitude instead of the absolute value.</p>
<ul><li>suggest new prefix “*” or “~” which may appear with or without “-”.</li>
<li>when “~-” or “-~” appear as prefix, data is sorted by decreasing absolute value.</li>
<li>when only “~” appears as a prefix, data is sorted by increasing absolute value.</li>
<li>at some point sort columns could use non-standard evaluation, which could allow fancy math or logic to be applied here. Not yet.</li>
</ul><div class="section level3">
<h3 id="05oct2021">05oct2021<a class="anchor" aria-label="anchor" href="#05oct2021"></a></h3>
<p>Simple utility function to load a common set of JAM packages</p>
<ul><li>“omics” - loads jamba, jamma, colorjam, jamsession, jamses</li>
<li>“regions” - as above plus GenomicRanges</li>
<li>“rnaseq” - as above plus splicejam</li>
<li>“peaks” - “omics”, “regions”, and slicejam</li>
<li>“covhm” - “omics” and platjam</li>
</ul></div>
<div class="section level3">
<h3 id="10aug2021">10aug2021<a class="anchor" aria-label="anchor" href="#10aug2021"></a></h3>
<ul><li>
<p>COMPLETE: <code><a href="reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> can be painfully slow with somewhat large Excel sheets, roughly 20,000 rows and 11 columns.</p>
<ul><li>The slow step is probably either <code><a href="reference/applyXlsxConditionalFormat.html">applyXlsxConditionalFormat()</a></code>, or <code><a href="reference/applyXlsxCategoricalFormat.html">applyXlsxCategoricalFormat()</a></code>.</li>
<li>Whichever step is slowest, it needs to become much faster.</li>
<li>Note: Slowness was resolved by converting functions to use Workbook instead of saving/loading/updating/saving.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="25jul2021">25jul2021<a class="anchor" aria-label="anchor" href="#25jul2021"></a></h3>
<ul><li>
<p><code>geom_shadowText()</code> - essentially drop-in replacement for <code>geom_text()</code> except that it uses <code><a href="reference/shadowText.html">shadowText()</a></code> logic in ggplot2 context. There is a similar package “shadowtext” by Dr.Guangchuang Yu, however that package does not offer the features implemented here:</p>
<ul><li>define the transparency of shadow or outline</li>
<li>define the color of each shadow</li>
<li>order rendering of shadows with each label and in vectorized context</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="functions-to-update">Functions to update<a class="anchor" aria-label="anchor" href="#functions-to-update"></a></h3>
<ul><li><p>DONE: <code><a href="reference/shadowText.html">shadowText()</a></code> - consider re-ordering the rendering so that the shadow for each text label is placed before the next label.</p></li>
<li>
<p>DONE: <code>checkLightmode()</code> along with <code><a href="reference/printDebug.html">printDebug()</a></code>, <code>makeStyles()</code>, and <code><a href="reference/setPrompt.html">setPrompt()</a></code> collectively do not update light mode as intended when used inside RStudio. The issue was with <code><a href="reference/setCLranges.html">setCLranges()</a></code>.</p>
<ul><li>Also, once set, light mode is not as easily changed as intended.</li>
</ul></li>
<li><p><code>colorRampPaletteJam()</code> - new function as a drop-in replacement to <code><a href="https://rdrr.io/r/grDevices/colorRamp.html" class="external-link">colorRampPalette()</a></code>; this alternative calls <code>blend_colors()</code> between each pair of colors in order to create better intermediate colors in the gradient. Examples: red-blue which should produce purple intermediate; yellow-blue which should produce green intermediate.</p></li>
<li>
<p><code><a href="https://rdrr.io/pkg/colorjam/man/blend_colors.html" class="external-link">colorjam::blend_colors()</a></code> currently purple-gold and purple-yellow create a green intermediate color, these cases should go through red/brown. It requires either manual correction and/or requires that purple-to-yellow shortest hue angular path goes through red.</p>
<ul><li>Consider using a slightly improved red-yellow-blue color hue wheel, with better delineation of the blue-purple-red transitions. The hope is that this color hue wheel might make purple-red-yellow the preferred (shorter) angular path between purple-to-yellow.</li>
<li>Consider manual correction inside <code>blend_colors()</code> for cases where colors are roughly 180 hue degrees different, instead of leaving it to chance.</li>
</ul></li>
<li><p><code><a href="https://rdrr.io/pkg/colorjam/man/rainbowJam.html" class="external-link">colorjam::rainbowJam()</a></code> should have better mechanism to define <code>preset</code> for custom color hue wheels, for example <code>"custom"</code> or some option that uses the <code>h1</code> and <code>h2</code> hue conversion already defined if it has been defined.</p></li>
</ul></div>
<div class="section level3">
<h3 id="vignettes-for-common-small-use-cases">Vignettes for common small use cases<a class="anchor" aria-label="anchor" href="#vignettes-for-common-small-use-cases"></a></h3>
<ul><li>
<p>color manipulation</p>
<ul><li>
<p>creating and adjusting color gradients</p>
<ul><li><code><a href="reference/getColorRamp.html">getColorRamp()</a></code></li>
<li><code><a href="reference/showColors.html">showColors()</a></code></li>
</ul></li>
<li>
<p>creating categorical colors, using them to make gradients</p>
<ul><li><code><a href="https://rdrr.io/pkg/colorjam/man/rainbowJam.html" class="external-link">colorjam::rainbowJam()</a></code></li>
</ul></li>
</ul></li>
<li>
<p>log-transformation, sqrt-transformation and plotting appropriate axes</p>
<ul><li>
<code><a href="reference/log2signed.html">log2signed()</a></code>, <code><a href="reference/exp2signed.html">exp2signed()</a></code>
</li>
<li>
<code><a href="reference/minorLogTicksAxis.html">minorLogTicksAxis()</a></code>, <code><a href="reference/sqrtAxis.html">sqrtAxis()</a></code>
</li>
<li>log-transformed P-values</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="usability">Usability<a class="anchor" aria-label="anchor" href="#usability"></a></h3>
<ul><li>FIXED: <code><a href="reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> ignores <code>xlab</code> and <code>ylab</code>.</li>
<li>
<code><a href="reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> using <code>bandwidthN</code> is confusing, it overrides <code>bwpi</code>.</li>
<li>
<code><a href="reference/getColorRamp.html">getColorRamp()</a></code> value <code>defaultBaseColor="grey95"</code> is annoying to me, change to <code>"grey98"</code> or <code>"grey99"</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="implement-testthis-unit-testing">implement testthis unit testing<a class="anchor" aria-label="anchor" href="#implement-testthis-unit-testing"></a></h3>
</div>
<div class="section level3">
<h3 id="new-functions">new functions<a class="anchor" aria-label="anchor" href="#new-functions"></a></h3>
<ul><li>
<p><code>splomSmooth()</code></p>
<ul><li>all-versus-all scatter plot matrix using equivalent logic as used in <code><a href="reference/plotSmoothScatter.html">plotSmoothScatter()</a></code>, but using <code><a href="https://rdrr.io/pkg/lattice/man/splom.html" class="external-link">lattice::splom()</a></code>. It is much more efficient than equivalent base and ggplot2 plot methods.</li>
<li>add option to “hide” combinations of panels, when those combinations are not relevant or appropriate to the visualization.</li>
<li>option to specify the specific color gradient in each cell, as opposed to combining the categorical color from each input column.</li>
<li>make options for bandwidth and visual bins more intuitive</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="bugs-28aug2020">Bugs 28aug2020<a class="anchor" aria-label="anchor" href="#bugs-28aug2020"></a></h3>
<ul><li>FIXED: <code><a href="reference/printDebug.html">printDebug()</a></code> throws a warning about fixYellow:</li>
</ul><blockquote>
<p>Warning message: In if (fixYellow) { : the condition has length &gt; 1 and only the first element will be used</p>
</blockquote>
</div>
<div class="section level3">
<h3 id="bugs-29jul2020">Bugs 29jul2020<a class="anchor" aria-label="anchor" href="#bugs-29jul2020"></a></h3>
<ul><li>
<code><a href="reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> highlightColumns appears to prevent conditional formatting on the same columns.</li>
<li>
<code><a href="reference/provigrep.html">provigrep()</a></code> checks for names and assigns only if missing, it does not correct duplicate names if they are already present.</li>
</ul></div>
<div class="section level3">
<h3 id="enhancements-29jul2020">enhancements 29jul2020<a class="anchor" aria-label="anchor" href="#enhancements-29jul2020"></a></h3>
<ul><li>
<code><a href="reference/tcount2.html">tcount2()</a></code> - wrapper for <code>tcount(..., minCount=2)</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="migrate-functions-from-other-packages">migrate functions from other packages<a class="anchor" aria-label="anchor" href="#migrate-functions-from-other-packages"></a></h3>
<ul><li><code>find_colname()</code></li>
<li><code>deconcat_df()</code></li>
</ul></div>
<div class="section level3">
<h3 id="enhance-writeopenxlsx-08may2020">Enhance writeOpenxlsx() 08may2020<a class="anchor" aria-label="anchor" href="#enhance-writeopenxlsx-08may2020"></a></h3>
<ul><li>
<code><a href="reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> option to supply a header which is displayed in the top row of the Excel worksheet, with its own style. For example the header may be a title “Data following normalization and limma analysis” with dark blue background, white text, font size 18.</li>
</ul><div class="section level4">
<h4 id="nice-to-have">Nice to have<a class="anchor" aria-label="anchor" href="#nice-to-have"></a></h4>
<ul><li>
<code><a href="reference/applyXlsxConditionalFormat.html">applyXlsxConditionalFormat()</a></code> should in theory color the text with <code><a href="reference/setTextContrastColor.html">setTextContrastColor()</a></code> to use white text on dark background colors. Not sure if Excel allows it, or if it requires manually setting the color in each cell.</li>
<li>
<code><a href="reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> option to apply conditional formatting to numeric columns using each column numeric range, not fixed range. Other option is to supply a list of rules for <code>numRule</code>. Design idea: When <code>numRule=NULL</code> or <code>numRule=NA</code> then create rule based upon the numeric range (min, mean, max). Also, <code>numRule</code> can be a <code>list</code>, for example <code>numRule=list(c(0,100,1000), NA, c(0,1,2))</code>. This rule would apply <code>c(0,100,1000)</code> to the first column in <code>numColumns</code>, then would apply <code>NA</code> to the second column (thus auto-scaled), then would apply <code>c(0,1,2)</code> to the third column.</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="optimizations-29apr2020">Optimizations 29apr2020<a class="anchor" aria-label="anchor" href="#optimizations-29apr2020"></a></h3>
<ul><li>
<p>FIXED: <code><a href="reference/cPaste.html">cPaste()</a></code> is not fully efficient when the input does not require going through steps <code><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist()</a></code> then <code><a href="https://rdrr.io/r/base/split.html" class="external-link">split()</a></code>. In these cases the data should be left as <code>CharacterList</code> if possible, to use <code><a href="https://rdrr.io/pkg/S4Vectors/man/character-utils.html" class="external-link">S4Vectors::unstrsplit()</a></code> directly. Conditions that require <code><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist()</a></code> then <code><a href="https://rdrr.io/r/base/split.html" class="external-link">split()</a></code>:</p>
<ul><li>
<code>na.rm=TRUE</code> and the presence of <code>NA</code> values</li>
<li>
<code>doSort=TRUE</code> and any list element with multiple values</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="bug-02oct2019">Bug 02oct2019<a class="anchor" aria-label="anchor" href="#bug-02oct2019"></a></h3>
<ul><li>
<code><a href="reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> throws an error <code>"is.numeric(xlim) is not TRUE"</code> when plotting data with class <code>"difftime"</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="general-enhancements">General enhancements<a class="anchor" aria-label="anchor" href="#general-enhancements"></a></h3>
<ul><li>Add message during package install suggesting the “crayon” package be installed if not already installed.</li>
<li>Investigate the interplay between Mac/Linux TERM, locale with LC_ALL, special characters like <ce> (theta), and R help docs.</ce></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes--enhancements-to-existing-functions">Bug fixes / Enhancements to existing functions<a class="anchor" aria-label="anchor" href="#bug-fixes--enhancements-to-existing-functions"></a></h3>
<ol style="list-style-type: decimal"><li>
<code><a href="reference/printDebug.html">printDebug()</a></code> probably needs a specific delimiter between lists. Currently <code>collapse</code> is accepted via <code>...</code> but separates every entry.</li>
</ol></div>
<div class="section level3">
<h3 id="new-plotsmoothscatterg-with-grouped-colors">new plotSmoothScatterG with grouped colors<a class="anchor" aria-label="anchor" href="#new-plotsmoothscatterg-with-grouped-colors"></a></h3>
<ol style="list-style-type: decimal"><li>
<code>plotSmoothScatterG()</code> a new function which would create a smooth scatter plot like <code><a href="reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> except that it will also allow coloring points by group. The previous closest estimate was the ability to overlay contours of different colors, however the transparency of each layer is not effective, the last color layer drawn becomes the dominant color. This function essentially creates a layer for each color, then blends them into one collective layer. Each layer should probably be a <code>weight</code> applied to each layer of colors, in order to avoid blending the paleness become dominant. The point color will be determined by the weighted color blend, the intensity of the color as a gradient starting from background color will be determined by the sum of the weights, relative to the rest of the plot.</li>
</ol><p>Required secondary functions:</p>
<ul><li>Weighted color blending function. Must blend yellow and blue to make green, not grey (my own requirement). See <code>"jonclayden/shades"</code>, or <code><a href="https://colorspace.R-Forge.R-project.org//reference/mixcolor.html" class="external-link">colorspace::mixcolor()</a></code> though it only works with 2 colors.</li>
<li>Weighted gradient color assignment, such that given any color, and a weight from 0 to 1, returns a single color representing the color at that position along the gradient from background to foreground color.</li>
</ul><p>Commentary: Does any one color space blend <code>red + yellow = orange</code> and <code>blue + yellow = green</code>? Maybe <code>polarLUV</code>. Others either blend <code>blue + yellow</code> into <code>grey</code> or <code>purple</code> … makes zero sense (to me).</p>
<ol start="2" style="list-style-type: decimal"><li><p><code><a href="reference/printDebug.html">printDebug()</a></code> option for HTML or Rmarkdown-friendly output. Note this feature seems to work when producing HTML output from Rmarkdown.</p></li>
<li>
<p><code><a href="reference/jargs.html">jargs()</a></code> is choking on certain argument formats:</p>
<ul><li>When an argument is a prefixed function, the <code>::</code> should not have spaces before and after. <code>f &lt;- function(x=jamba::colorjam){10};jargs(f);</code> It doesn’t happen when the function has parentheses: <code>f &lt;- function(x=jamba::colorjam(a)){10};jargs(f);</code>
</li>
<li>There was another case of an empty argument being displayed where an actual argument existed for the function. I can’t remember the exact conditions, but this is a placeholder for now.</li>
</ul></li>
</ol></div>
<div class="section level3">
<h3 id="testthat">testthat<a class="anchor" aria-label="anchor" href="#testthat"></a></h3>
<p>Functions in <code>jamba</code> should have their various options tested using the package <code>testthat</code> to help maintain consistent performance for future package and R builds.</p>
<ul><li>
<code><a href="reference/jargs.html">jargs()</a></code> can be tested with several example custom functions to make sure it produces output as desired.</li>
<li>
<code><a href="reference/mixedSort.html">mixedSort()</a></code>, <code><a href="reference/mixedSortDF.html">mixedSortDF()</a></code>, <code><a href="reference/mixedOrder.html">mixedOrder()</a></code>, <code><a href="reference/mixedSorts.html">mixedSorts()</a></code> needs several tests to confirm consistent outputs for the various custom conditions.</li>
</ul></div>
<div class="section level3">
<h3 id="functions-to-add">Functions to add<a class="anchor" aria-label="anchor" href="#functions-to-add"></a></h3>
</div>
<div class="section level3">
<h3 id="jam-global-re-usable-options">jam global re-usable options<a class="anchor" aria-label="anchor" href="#jam-global-re-usable-options"></a></h3>
<p>The goal is to make it easier to set certain function parameters once as a global option, to make it more efficient for these parameters to be used in several functions. Per Hadley Wickham’s recommendation, options should be restricted to non-analytical parameters, in order to maintain clear reproducible analysis workflows. That is, any analysis parameter should be defined clearly when the function is called, and should never use the value of a global option.</p>
<p>In fact, options that only change visual output may be preferred as global options, since they help support specific output and should not be hard-coded into the R script.</p>
<p>In general, visual themes may be good candidates for these parameters.</p>
<div class="section level4">
<h4 id="nomenclature-for-jam-package-options">Nomenclature for jam package options<a class="anchor" aria-label="anchor" href="#nomenclature-for-jam-package-options"></a></h4>
<p>Jam package options should be named with the prefix “jam.” followed by the name of the function argument. For example the function parameter “adjustRgb” would become “jam.adjustRgb”.</p>
</div>
<div class="section level4">
<h4 id="parameters-proposed-to-become-jam-options">Parameters proposed to become jam options<a class="anchor" aria-label="anchor" href="#parameters-proposed-to-become-jam-options"></a></h4>
<ul><li>
<strong>jam.adjustRgb</strong>, used by colsHead() and printDebug() when displaying colored text on the R console. This value applies a slight adjustment to the crayon package rgb-to-ansi conversion to correct the limitation of 256-color ANSI having only 6 channels of brightness for red,green,blue, not 8 each as it typical for VGA-style 256-color palettes. The effect of 6 channel color ranges is that the rgb conversion results in fractional values which are rounded up, making many colors less saturated (less colorful), which by nature works against the core goal of adding color.</li>
<li>
<strong>jam.lightMode</strong>, used by colsHead() and printDebug() to restrict the range of dark or light colors displayed on an R console, based upon whether the background colors is light (high luminance, lightMode=TRUE), or dark (low luminance, lightMode=FALSE.) Normally, if lightMode is not specifically defined, functions will try to detect whether running inside Rstudio, and if so it assumes Rstudio is using the default white background, and sets lightMode=TRUE.</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="rbindlist">rbindList<a class="anchor" aria-label="anchor" href="#rbindlist"></a></h3>
<ul><li>optional recursive operation, in the event of a nested list of data.frames, it should recurse through the list, calling rbindList() on each list element and progressive build up one resulting data.frame or matrix.</li>
<li>optional ability to handle different colnames; alternative is to review <code><a href="https://Rdatatable.gitlab.io/data.table/reference/rbindlist.html" class="external-link">data.table::rbindlist()</a></code> as potential replacement.</li>
</ul></div>
<div class="section level3">
<h3 id="imagebycolors">imageByColors<a class="anchor" aria-label="anchor" href="#imagebycolors"></a></h3>
<ul><li>new argument <code>cellnoteColor</code> to define specific cellnote text color, currently uses <code><a href="reference/setTextContrastColor.html">setTextContrastColor()</a></code> but should be able to define custom colors. (Setup for print colorized text data.frame using similar input.)</li>
<li>optional boolean parameter to transpose the image, i.e. t(x) and if applicable t(cellnote).</li>
<li>optionally draw boxes around grouped labels, a visual indicator of groups of cells sharing one label. Care should be taken not to enable this functionality with a large table containing no grouped labels, or even with any scenario resulting in “too many boxes”. This option likely needs SpatialPolygons and some related function like <code><a href="https://rdrr.io/pkg/rgeos/man/topo-bin-gUnion.html" class="external-link">rgeos::gUnion()</a></code>. Is <code>rgeos</code> a reasonable package dependency, or is that too heavy for this purpose?</li>
</ul></div>
<div class="section level3">
<h3 id="color-brightness-and-saturation-handling">color brightness and saturation handling<a class="anchor" aria-label="anchor" href="#color-brightness-and-saturation-handling"></a></h3>
<ul><li>helper functions like darken(), lighten(), saturate(), desaturate(). Note colorspace::desaturate() completely removes all color saturation (chroma), and conflicts with this function naming scheme. Maybe: <code>jam_desaturate()</code>, <code>jam_darken()</code>, <code>jam_brighten()</code>, <code>jam_saturate()</code>.</li>
<li>new function <code>subsetColors()</code> which internally creates a data.frame with hex, RGB, HSV, and HCL values, which can then be used to subset an input set of colors. Bonus points for accepting different color classes at input, and returning the same color class at output.</li>
</ul></div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>



      <footer><div class="copyright">
  <p></p><p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.9000.9000.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

