<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • jamba</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jamba</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.82.900</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/jamba-vignette.html">Jamba Overview</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="http://github.com/jmw86069/jamba/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="http://github.com/jmw86069/jamba/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.82.900" id="jamba-version-0082900">jamba version 0.0.82.900<a class="anchor" aria-label="anchor" href="#jamba-version-0082900"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-0-82-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-82-900"></a></h3>
<ul><li>
<p><code><a href="../reference/col2hsl.html">col2hsl()</a></code> and <code><a href="../reference/hsl2col.html">hsl2col()</a></code> help convert colors to and from HSL color space</p>
<ul><li>See examples for <code><a href="../reference/col2hsl.html">col2hsl()</a></code> for visual comparison between HCL and HSL</li>
<li>Note that both functions require the <code>farver</code> package, and may become a formal dependency of <code>jamba</code>.</li>
<li>The most dramatic selling point for HSL is that values are typically very consistent within Hue, without distortion during interconversion and adjustments. In contrast, HCL “caps” colors at the color gamut for each RGB channel individually, which can have rather dramatic effects on the hue - sometimes fundamentally changing the color hue more than 80 degrees! More commonly, color hues are shifted by HCL conversion in order to represent Chroma and Luminance. Sometimes the result is faithful Chroma and Luminance of a completely different hue, however, which is not ideal. (Note that other color packages such as prismatic have internal functions to detect whether a color is in gamut, so it can pre-adjust the color before conversion in the farver package. Again, not ideal.)</li>
<li>HSL does have the property that colors with the same “Lightness” are not the same perceived “Luminance” as with HCL. That said, for me this property may be advantageous, as the “yellow” hue for example is rather desolate when the Luminance and Chroma is toned down to comparable levels of blue and purple. Instead, the most saturated color for each hue is seen with <code>S=100</code> and <code>L=50</code>. With HCL, every hue has its own local Luminance values for the maximum Chroma, and the maximum Chroma varies substantially across all hues.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-82-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-82-900"></a></h3>
<ul><li>
<p><code><a href="../reference/breaksByVector.html">breaksByVector()</a></code> was updated to:</p>
<ul><li>enforce consistent vector names for each output, changing <code>breakPoints</code> and <code>labelPoints</code> to represent the unique values in the order they appear.</li>
<li>added <code>breakLengths</code> to the output <code>list</code> for convenience.</li>
</ul></li>
<li>
<p><code><a href="../reference/imageByColors.html">imageByColors()</a></code> adjustments</p>
<ul><li>moved <code>imageByColors</code> into its own R file <code>jamba-imagebycolors.R</code>.</li>
<li>fixed error with <code>doTest=TRUE</code>, which now returns test data invisibly.</li>
<li>The <code>cexCellnote</code> input is somewhat confusing and may change in future. To supply cex values for each column or row, use <code>list</code> input for <code>cexCellnote</code>, where each list element represents a column or row, respectively.</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.81.900" id="jamba-version-0081900">jamba version 0.0.81.900<a class="anchor" aria-label="anchor" href="#jamba-version-0081900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-81-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-81-900"></a></h3>
<ul><li>
<p><code><a href="../reference/showColors.html">showColors()</a></code> was updated to accept color <code>functions</code> in two forms:</p>
<ol style="list-style-type: decimal"><li>
<code><a href="https://rdrr.io/pkg/circlize/man/colorRamp2.html" class="external-link">circlize::colorRamp2()</a></code> form, which contains attributes <code>"colors"</code> and <code>"breaks"</code> that define the underlying color gradient. These colors are converted to hex, named by <code>"breaks"</code>, then displayed.</li>
<li>All other <code>function</code> are expected to accept an integer number, and return that many colors, which are named by the integer index, with default length n=7.</li>
<li>If either above method fail, the output colors are not displayed.</li>
</ol></li>
<li>
<p><code><a href="../reference/showColors.html">showColors()</a></code> updates:</p>
<ul><li>also updated to handle <code>par("mar")</code> properly, and to return <code>NULL</code> when input is empty, instead of throwing an error.</li>
<li>new argument <code>makeUnique=TRUE</code> to display the first unique color in each color vector.</li>
<li>it was moved to its own R file.</li>
</ul></li>
<li>
<p><code>pasteByRowsOrdered()</code></p>
<ul><li>new argument <code>keepOrder=FALSE</code>, no change to default behavior. When <code>keepOrder=TRUE</code>, any <code>character</code> columns are converted to <code>factor</code> whose levels are defined by the order of unique existing entries, keeping the order provided in <code>x</code>.</li>
<li>new argument <code>byCols</code> passed to <code><a href="../reference/mixedSortDF.html">mixedSortDF()</a></code> to define the order of column sort for factor levels. This argument was previously passed via <code>...</code>, but was added as a specific argument to make this connection more apparent.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-0-0-81-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-81-900"></a></h3>
<ul><li>
<p><code><a href="../reference/call_fn_ellipsis.html">call_fn_ellipsis()</a></code> was added.</p>
<ul><li>This function is a wrapper around an internal function call: within a function, calling another function.</li>
<li>The function allows passing named arguments in <code>...</code> to a function that does not permit <code>...</code> but which may match some argument names in <code>...</code>.</li>
<li>
<code><a href="../reference/call_fn_ellipsis.html">call_fn_ellipsis()</a></code> only passes named arguments that are permitted in the subsequent function.</li>
<li>Form before: <code>some_function_call(x, ...)</code>
</li>
<li>Form after: <code>call_fn_ellipsis(some_function_call, x, ...)</code>
</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.80.900" id="jamba-version-0080900">jamba version 0.0.80.900<a class="anchor" aria-label="anchor" href="#jamba-version-0080900"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-0-80-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-80-900"></a></h3>
<ul><li>
<p><code><a href="../reference/rowGroupMeans.html">rowGroupRmOutliers()</a></code> is a convenience function that calls <code>rowGroupMeans(..., rmOutliers=TRUE, returnType="input")</code>.</p>
<ul><li>new argument <code>crossGroupMad=TRUE</code> calcualted the row MAD value using the median MAD per row, using non-NA and non-zero MAD values. See description of changes below.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-80-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-80-900"></a></h3>
<ul><li><p>Moved <code><a href="../reference/rowGroupMeans.html">rowGroupMeans()</a></code> and <code><a href="../reference/rowRmMadOutliers.html">rowRmMadOutliers()</a></code> into a specific .R file for easier management.</p></li>
<li>
<p><code><a href="../reference/rowGroupMeans.html">rowGroupMeans()</a></code> changes when <code>rmOutliers=TRUE</code>:</p>
<ul><li>
<p>new argument <code>crossGroupMad=TRUE</code> will:</p>
<ul><li>calculate each group MAD,</li>
<li>take the median non-zero, non-NA MAD for each row as <code>rowMadValues</code>
</li>
<li>the median non-zero, non-NA <code>rowMadValues</code> is defined as <code>minDiff</code>
</li>
<li>
<code>rowMadValues</code> and <code>minDiff</code> are passed to <code><a href="../reference/rowRmMadOutliers.html">rowRmMadOutliers()</a></code> for each group, which therefore applies the same threshold to each group on a row, and with the same <code>minDiff</code> difference-from-median required.</li>
<li>These changes ensure that row MAD values are not <code>0</code> unless all groups have MAD=0 on the same row.</li>
<li>Also, the default <code>minDiff</code> will by default require a point to differ at least more than the median difference observed from median in each row, in each group. If all MAD=0 in all groups and all rows, then <code>minDiff=0</code> in which case it likely does not have adverse effect.</li>
</ul></li>
</ul></li>
<li>
<p><code><a href="../reference/rowRmMadOutliers.html">rowRmMadOutliers()</a></code> changes:</p>
<ul><li>new argument <code>rowMadValues</code> can define the MAD values on each row, useful for setting the per-row MAD across multiple sample groups for example.</li>
<li>new argument <code>minReps</code> to require this many non-NA values, only useful when providing <code>rowMadValues</code> values, and for rows that have n=2 replicates.</li>
<li>
<code>includeAttributes=TRUE</code> now includes attribute <code>"outlierDF"</code> which is a a <code>data.frame</code> with summary information for each row in input <code>x</code>.</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.79.900" id="jamba-version-0079900">jamba version 0.0.79.900<a class="anchor" aria-label="anchor" href="#jamba-version-0079900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-79-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-79-900"></a></h3>
<ul><li>
<p><code><a href="../reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> changes</p>
<ul><li>New argument <code>wb</code> to supply an existing <code>Workbook</code> object, instead of loading it from a file.</li>
<li>It now returns the <code>Workbook</code> object with <code>invisible(wb)</code>.</li>
<li>If <code>file=NULL</code> then output is not saved.</li>
<li>To save multiple sheets to the same file, it is substantially faster to build up one <code>Workbook</code> object, then save that <code>Workbook</code> one time at the end.</li>
<li>New argument <code>colWidths</code> will apply column widths to the <code>Workbook</code> internally, to avoid having to save, read, apply, and save.</li>
</ul></li>
<li>
<p><code><a href="../reference/applyXlsxConditionalFormat.html">applyXlsxConditionalFormat()</a></code>, <code><a href="../reference/applyXlsxCategoricalFormat.html">applyXlsxCategoricalFormat()</a></code>, <code><a href="../reference/set_xlsx_colwidths.html">set_xlsx_colwidths()</a></code>, <code><a href="../reference/set_xlsx_rowheights.html">set_xlsx_rowheights()</a></code></p>
<ul><li>
<code>xlsxFile</code> can be a filename or <code>Workbook</code> object</li>
<li>each function returns <code>Workbook</code> invisibly</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.78.900" id="jamba-version-0078900">jamba version 0.0.78.900<a class="anchor" aria-label="anchor" href="#jamba-version-0078900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-78-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-78-900"></a></h3>
<ul><li>
<p><code><a href="../reference/mixedSortDF.html">mixedSortDF()</a></code> was updated:</p>
<ul><li>
<code>df</code> input objects with zero rows are returned directly.</li>
<li>Bug fixed for error thrown for objects with zero rows and no rownames, caused by 0.0.76.900 which inserted <code>NA</code> for empty rownames, but caused an error when the <code>df</code> had zero rows, since <code>NA</code> has length 1 and did not match the number of rows. First, zero-row objects are returned, no need to sort. Second, the section was rewritten to be more robust, now empty rownames are removed prior to calling <code><a href="../reference/mmixedOrder.html">mmixedOrder()</a></code>.</li>
<li>The function now properly allows sort by character <code>byCols</code> for data with no colnames, useful when sorting by <code>"rownames"</code>.</li>
<li>Added examples that test and confirm the desired behavior.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-0-0-78-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-78-900"></a></h3>
<ul><li><p><code><a href="../reference/plotRidges.html">plotRidges()</a></code> is analogous to <code><a href="../reference/plotPolygonDensity.html">plotPolygonDensity()</a></code> except that it uses <code>ggplot2</code> and <code>ggridges</code> to plot density profiles inside the same panel. Particularly good for comparing densities across columns/samples, and when there are a large number of samples.</p></li>
<li>
<p><code><a href="../reference/cell_fun_label.html">cell_fun_label()</a></code> is a wrapper function to add text labels to <code><a href="https://rdrr.io/pkg/ComplexHeatmap/man/Heatmap.html" class="external-link">ComplexHeatmap::Heatmap()</a></code>. It is somewhat configurable:</p>
<ul><li>It can display a combination of one or numeric or character labels.</li>
<li>Label text color is intended to use a color that contrasts with the color of the heatmap cell itself, using <code><a href="../reference/setTextContrastColor.html">setTextContrastColor()</a></code>.</li>
<li>It can optionally draw an outline to each cell.</li>
<li>Numeric values are optionally abbreviated, for example <code>1502110</code> would be displayed <code>1.5M</code>.</li>
<li>Text font size can be directly adjusted.</li>
<li>Labels can be rotated inside each cell, useful when cells are tall-skinny.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="other-minor-updates-0-0-78-900">other minor updates<a class="anchor" aria-label="anchor" href="#other-minor-updates-0-0-78-900"></a></h3>
<p>The packagedown function categories were slightly re-ordered, and may be re-grouped in future to help organize functions.</p>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.77.900" id="jamba-version-0077900">jamba version 0.0.77.900<a class="anchor" aria-label="anchor" href="#jamba-version-0077900"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-0-77-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-77-900"></a></h3>
<ul><li>
<p><code><a href="../reference/reload_rmarkdown_cache.html">reload_rmarkdown_cache()</a></code> will load the cache files stored after processing an Rmarkdown <code>.Rmd</code> file. It is intended to help restore the Rmarkdown data available to particular Rmarkdown chunks, or to restore the entire session so the data can be used for more analysis or visualization.</p>
<ul><li>optionally loads into a specific <code>environment</code>
</li>
<li>optionally loads until a specific Rmarkdown chunk</li>
<li>optionally loads only a given number of Rmarkdown chunks in order</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="updates-to-existing-functions-0-0-77-900">updates to existing functions<a class="anchor" aria-label="anchor" href="#updates-to-existing-functions-0-0-77-900"></a></h3>
<ul><li>
<p><code><a href="../reference/color2gradient.html">color2gradient()</a></code> new argument default <code>gradientWtFactor=NULL</code>:</p>
<ul><li>
<code>gradientWtFactor</code> controls the intensity of the light-to-dark color gradient, where <code>gradientWtFactor &gt;= 1</code> defines a broader range from light-to-dark, and <code>gradientWtFactor &lt; 1</code> defines a more limited light-to-dark. For example, when <code>n=2</code> it there does not need to be as large a difference in brightness for color1 and color2.</li>
<li>New behavior assigns default <code>gradientWtFactor</code> based upon <code>n</code>.</li>
</ul></li>
<li><p><code><a href="../reference/color2gradient.html">color2gradient()</a></code> argument <code>gradientWtFactor</code> can be supplied as a vector, so the value will be applied to each gradient created, in order.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.76.900" id="jamba-version-0076900">jamba version 0.0.76.900<a class="anchor" aria-label="anchor" href="#jamba-version-0076900"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-0-76-900">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-76-900"></a></h3>
<ul><li>
<code><a href="../reference/mixedSortDF.html">mixedSortDF()</a></code> had a bug when supplied with <code>matrix</code> that had no <code><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames()</a></code>, it would fail because the intermediate <code>data.frame</code> was assigned <code>rownamesX=rownames(x)</code> and thus had zero length. It now assigns <code>rownamesX=rmNULL(nullValue=NA, rownames(x))</code> which fills the column with <code>NA</code> values.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.75.900" id="jamba-version-0075900">jamba version 0.0.75.900<a class="anchor" aria-label="anchor" href="#jamba-version-0075900"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-0-75-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-75-900"></a></h3>
<p>Ported two functions from multienrichjam.</p>
<ul><li>
<code><a href="../reference/heatmap_row_order.html">heatmap_row_order()</a></code>, <code><a href="../reference/heatmap_column_order.html">heatmap_column_order()</a></code> are specifically used with Bioconductor package <code>ComplexHeatmap</code> heatmaps. These functions were enhanced to handle several scenarios: presence of absence of <code>row_groups</code>, <code>column_groups</code>; with and without <code><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames()</a></code>, <code><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames()</a></code> in the data matrix; with and without specific <code>row_labels</code>, <code>column_labels</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.74.900" id="jamba-version-0074900">jamba version 0.0.74.900<a class="anchor" aria-label="anchor" href="#jamba-version-0074900"></a></h2>
<div class="section level3">
<h3 id="new-function-0-0-74-900">new function<a class="anchor" aria-label="anchor" href="#new-function-0-0-74-900"></a></h3>
<ul><li>
<code><a href="../reference/diff_functions.html">diff_functions()</a></code> is a simple utility function intended to compare the text in two functions, motivated while migrating functions into R packages, while needing to make changes in the old function source, propagating to the new function source. Currently the function requires access to commandline tool <code>"diff"</code> which likely limits this function to linux-like operating systems, MS Windows System Linux (WSL), or Cygwin on MS Windows.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.73.900" id="jamba-version-0073900">jamba version 0.0.73.900<a class="anchor" aria-label="anchor" href="#jamba-version-0073900"></a></h2>
<div class="section level3">
<h3 id="enhancements-0-0-73-900">enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-0-73-900"></a></h3>
<ul><li>
<code><a href="../reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> was improperly defining <code>xlab</code> and <code>ylab</code> when supplied with a <code>data.frame</code> or <code>matrix</code> with colnames. The steps now closely match <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">graphics::plot.default()</a></code>.</li>
<li>
<code><a href="../reference/noiseFloor.html">noiseFloor()</a></code> was not checking for <code>minimum</code> to be <code>NULL</code>, though this error has not occurred myself, that step is now performed as it would have thrown an error.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.72.900" id="jamba-version-0072900">jamba version 0.0.72.900<a class="anchor" aria-label="anchor" href="#jamba-version-0072900"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-0-72-900">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-72-900"></a></h3>
<ul><li>
<code><a href="../reference/renameColumn.html">renameColumn()</a></code> when the <code>to</code> values were supplied as <code>factor</code> values, they were coerced by R into <code>integer</code> and therefore lost the character string values provided. The workaround is to coerce <code>to</code> with <code><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character()</a></code> which is straightforward for processes outside <code><a href="../reference/renameColumn.html">renameColumn()</a></code>, however the expected behavior is certainly to maintain the character string, so this function has been updated accordingly. The situation tends to happen when the column renaming is stored inside a <code>data.frame</code> and the rename “to” column type <code>factor</code> is not checked beforehand. It is a rare scenario, but warrants a fix. In addition, <code><a href="../reference/renameColumn.html">renameColumn()</a></code> also operates on <code>GRanges</code> and related genomic ranges objects, and that step requires <code>IRanges::values()</code> generic function. The <code>values()</code> functions were updated to include the proper package prefix, in the event those packages had not already been loaded. This function now explicitly requires <code>length(from) == length(to)</code>. The help text was updated with more information.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.71.900" id="jamba-version-0071900">jamba version 0.0.71.900<a class="anchor" aria-label="anchor" href="#jamba-version-0071900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-71-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-71-900"></a></h3>
<ul><li>
<code><a href="../reference/mixedSortDF.html">mixedSortDF()</a></code> argument default <code>useRownames=TRUE</code> was changed to <code>useRownames=FALSE</code> to protect against extremely slow sort behavior with large <code>nrow</code> data, which would previously by default sort all rownames even when not required. The new behavior only sorts the columns specified, and can enable rownames as a tie-breaker with <code>useRownames=TRUE</code> or by including <code>byCols=0</code>.</li>
<li>
<code><a href="../reference/getColorRamp.html">getColorRamp()</a></code> now accepts gradient names supplied by <code><a href="https://rdrr.io/pkg/colorjam/man/jam_linear.html" class="external-link">colorjam::jam_linear</a></code> and <code><a href="https://rdrr.io/pkg/colorjam/man/jam_divergent.html" class="external-link">colorjam::jam_divergent</a></code>, when the <code>"colorjam"</code> R package is available. The linear gradients differ mainly in subtle ways, emphasizing more color saturation in the mid-range values, motivated by their use in coverage heatmaps.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.70.900" id="jamba-version-0070900">jamba version 0.0.70.900<a class="anchor" aria-label="anchor" href="#jamba-version-0070900"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-0-70-900">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-70-900"></a></h3>
<ul><li>Not really a bug, but <code><a href="../reference/mmixedOrder.html">mmixedOrder()</a></code> was apparently enabling verbose output by default by using <code>verbose - 1</code>, and how did I not realize that <code>if (-1) cat ("yes")</code> would print <code>"yes"</code>? Geez. This bug also caused <code><a href="../reference/mixedSort.html">mixedSort()</a></code> and <code><a href="../reference/mixedSortDF.html">mixedSortDF()</a></code> to print extremely verbose output by default.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.69.900" id="jamba-version-0069900">jamba version 0.0.69.900<a class="anchor" aria-label="anchor" href="#jamba-version-0069900"></a></h2>
<p>Reminder to myself to use <code>options(pkgdown.internet=FALSE)</code> when behind VPN. And sometimes when not behind VPN…</p>
<div class="section level3">
<h3 id="new-functions-0-0-69-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-69-900"></a></h3>
<ul><li>
<code>sizeToNum()</code> performs the opposite function as <code><a href="../reference/asSize.html">asSize()</a></code>, it takes an abbreviated size as a character string, and converts to <code>numeric</code> value.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-0-69-900">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-69-900"></a></h3>
<ul><li>
<code><a href="../reference/mmixedOrder.html">mmixedOrder()</a></code> was updated to fix a bug when sorting numbers with class <code>"integer64"</code>, which is defined by <code><a href="https://rdrr.io/pkg/bit64/man/bit64-package.html" class="external-link">bit64::integer64</a></code>. These values were produced by <code><a href="https://rdrr.io/pkg/openxlsx/man/read.xlsx.html" class="external-link">openxlsx::read.xlsx()</a></code> that contained large integer values, and were previously ignored by <code><a href="../reference/mmixedOrder.html">mmixedOrder()</a></code>. The change also fixes a bug in <code><a href="../reference/mixedSortDF.html">mixedSortDF()</a></code>, however this bug did not affect <code><a href="../reference/mixedSort.html">mixedSort()</a></code> and <code><a href="../reference/mixedOrder.html">mixedOrder()</a></code>. The conditional now tests <code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">is.numeric()</a></code> which returns <code>TRUE</code> for <code><a href="https://rdrr.io/pkg/bit64/man/bit64-package.html" class="external-link">bit64::integer64</a></code> types, and hopefully this logic will work for future large numeric types.</li>
<li>
<code><a href="../reference/mixedSort.html">mixedSort()</a></code> fixed an issue where <code>ignore.case=TRUE</code> caused factors to be sorted alphanumerically instead of by factor level. The new and intended behavior is to sort by the unique uppercase factor levels, otherwise maintaining the factor level order.</li>
<li>
<code><a href="../reference/rbindList.html">rbindList()</a></code> was updated to change the way <code>returnDF=TRUE</code> is handled. It now simply calls <code>data.frame(x, check.names=FALSE)</code>, with no further validation. Previously this option called a function <code>unlistDataFrame()</code> that did not get ported into <code>jamba</code>, and probably will not.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-69-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-69-900"></a></h3>
<ul><li><p><code><a href="../reference/mixedSortDF.html">mixedSortDF()</a></code> was enhanced to allow row name sort, using these formats: <code>byCols="rownames"</code> or <code>byCols="row.names"</code> or <code>byCols=c(0)</code>. Reverse row name sort can be accomplished by <code>byCols="-rownames"</code> or <code>byCols="-row.names"</code> or <code>byCols=c(-0.01)</code>. When <code>byCols</code> contains <code>numeric</code> values, the sign is taken first so any negative values will reverse the sort, then values are rounded to integer values. So <code>byCols=-0.1</code> will reverse sort by row names, useful when it is more convenient to provide <code>byCols</code> as a <code>numeric</code> vector than a <code>character</code> vector.</p></li>
<li><p><code><a href="../reference/mixedSort.html">mixedSort()</a></code> was refactored to simplify the logic, and to correct small issues, for example when <code>ignore.case=TRUE</code> and <code>x</code> is a factor, the previous behavior would call <code><a href="https://rdrr.io/r/base/chartr.html" class="external-link">toupper()</a></code> which converts <code>x</code> to <code>character</code>, and which is sorted as such. The new intended behavior is to sort by <code>unique(toupper(levels(x)))</code> to maintain factor level order as defined. The new logic defines a transform function for <code>x</code>, whose output is passed to <code><a href="../reference/mixedOrder.html">mixedOrder()</a></code>. For example, when <code>sortByName=TRUE</code> the transform function passes <code>names(x)</code> to <code><a href="../reference/mixedOrder.html">mixedOrder()</a></code>. Otherwise, there is only one call to <code><a href="../reference/mixedOrder.html">mixedOrder()</a></code> and no data is copied during the process, which should be reasonably memory-efficient for large sort operations. Frankly, it needs one more refactor to push all the logic into <code><a href="../reference/mixedSort.html">mixedSort()</a></code>.</p></li>
<li><p><code><a href="../reference/mixedSortDF.html">mixedSortDF()</a></code>, <code><a href="../reference/mixedSort.html">mixedSort()</a></code>, and <code><a href="../reference/mmixedOrder.html">mmixedOrder()</a></code> had arguments extended to represent all arguments in <code><a href="../reference/mixedOrder.html">mixedOrder()</a></code>, so the sort customizations are properly passed between functions.</p></li>
</ul></div>
<div class="section level3">
<h3 id="file-re-organization-0-0-69-900">File re-organization<a class="anchor" aria-label="anchor" href="#file-re-organization-0-0-69-900"></a></h3>
<p>Some R functions were moved into separate files for easier management. More work should be done over time to reduce the number of functions in each file. Some files have 15 to 31 functions!</p>
<ul><li>
<code><a href="../reference/asSize.html">asSize()</a></code> was moved from <code>jamba.R</code> into <code>jamba-size.R</code>.</li>
<li>
<code><a href="../reference/mixedSort.html">mixedSort()</a></code> functions were moved into <code>jamba-mixedSort.R</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.68.900" id="jamba-version-0068900">jamba version 0.0.68.900<a class="anchor" aria-label="anchor" href="#jamba-version-0068900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-68-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-68-900"></a></h3>
<ul><li>
<code><a href="../reference/lldf.html">lldf()</a></code> new argument <code>use_utils_objectsize=TRUE</code> to prefer <code><a href="https://rdrr.io/r/utils/object.size.html" class="external-link">utils::object.size()</a></code> instead of <code><a href="https://rdrr.io/pkg/pryr/man/object_size.html" class="external-link">pryr::object_size()</a></code> after observing some cases where object sizes were vastly over-stated for unusual Bioconductor object types. It is unclear to me exactly how the memory usage is determined, and which function is correct, so for now the two alternatives will remain in <code><a href="../reference/lldf.html">lldf()</a></code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.67.900" id="jamba-version-0067900">jamba version 0.0.67.900<a class="anchor" aria-label="anchor" href="#jamba-version-0067900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-67-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-67-900"></a></h3>
<ul><li><p><code><a href="../reference/readOpenxlsx.html">readOpenxlsx()</a></code> was updated to fix a small bug when loading multiple sheets in one pass. It should now work as expected to run <code><a href="../reference/readOpenxlsx.html">readOpenxlsx()</a></code> on any xlsx file, and return a <code>list</code> of <code>data.frame</code> objects representing each worksheet in the xlsx file.</p></li>
<li><p><code><a href="../reference/readOpenxlsx.html">readOpenxlsx()</a></code> new arguments <code>check_header</code> and <code>check_header_n</code> are intended to check for header rows, recognized as rows with a different number of columns than subsequent rows of data in each sheet. When <code>check_header=TRUE</code> it will check the first <code>check_header_n</code> rows to determine <code><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol()</a></code> and <code><a href="../reference/sclass.html">sclass()</a></code> on each row loaded individually. When header rows are detected, the first value of the first row is assigned to column <code>dimnames</code> of the <code>data.frame</code> returned, and the full header data is included as an attribute <code>attr(df, "header")</code>. This method is intended to help when loading multiple worksheets, and none, some, or all worksheets may have header rows.</p></li>
<li><p>Note this methodology is being tested currently, to debug edge cases where data is sometimes detected to have fewer columns in some rows than others. The intent is to expect <code>skipEmptyCols=FALSE</code> to return all columns even when there is no data present, for consistent <code><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol()</a></code> from data rows, and fewer columns for header rows. The logic may be updated over time.</p></li>
<li><p><code><a href="../reference/readOpenxlsx.html">readOpenxlsx()</a></code> was updated to apply <code>skipEmptyCols=FALSE</code> by default for each step, to avoid inconsistencies especially when the column headers are not defined for all columns, or data is not present in all columns with column headers.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.66.900" id="jamba-version-0066900">jamba version 0.0.66.900<a class="anchor" aria-label="anchor" href="#jamba-version-0066900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-66-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-66-900"></a></h3>
<ul><li>
<code><a href="../reference/rowGroupMeans.html">rowGroupMeans()</a></code> was updated to remove a silent dependency on <code>matrixStats</code> and now properly checks the dependency, and calls with prefix <code><a href="https://rdrr.io/pkg/matrixStats/man/rowMedians.html" class="external-link">matrixStats::rowMedians()</a></code> and <code><a href="https://rdrr.io/pkg/matrixStats/man/rowSds.html" class="external-link">matrixStats::rowMads()</a></code> as needed.</li>
<li>
<code><a href="../reference/applyXlsxCategoricalFormat.html">applyXlsxCategoricalFormat()</a></code> was updated to streamline the categorical color matching, though not by much for large files. Will revisit and improve speed eventually.</li>
<li>Fixed some help documents not using markdown format when referring to other package functions.</li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-0-0-66-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-66-900"></a></h3>
<ul><li>
<code><a href="../reference/igrepl.html">igrepl()</a></code> is a convenient wrapper for <code>grepl(..., ignore-case=TRUE)</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.65.900" id="jamba-version-0065900">jamba version 0.0.65.900<a class="anchor" aria-label="anchor" href="#jamba-version-0065900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-65-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-65-900"></a></h3>
<ul><li>
<code><a href="../reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> new argument <code>wrapCells=FALSE</code> changes the previous behavior so that cells are not word-wrapped by default. Previously, when column width did not accomodate the text, cells would be tall - and sometimes “super-tall”. The function <code><a href="../reference/set_xlsx_rowheights.html">set_xlsx_rowheights()</a></code> can be used to fix this situation, however that process can be quite slow for large Excel worksheets.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.64.900" id="jamba-version-0064900">jamba version 0.0.64.900<a class="anchor" aria-label="anchor" href="#jamba-version-0064900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-64-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-64-900"></a></h3>
<ul><li>
<code><a href="../reference/provigrep.html">provigrep()</a></code> argument <code>maxValues</code> had not beedn implemented properly when applying a limit to returned values per grep pattern. This implementation has been corrected. Examples have been updated to demonstrate its utility.</li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-0-0-64-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-64-900"></a></h3>
<ul><li>
<code><a href="../reference/heads.html">heads()</a></code> applies <code><a href="https://rdrr.io/r/utils/head.html" class="external-link">head()</a></code> across a list of atomic vectors, using a one-step style that is notably faster than <code>lapply(x, head, n)</code> especially for long lists. Also it can apply a vector of <code>n</code> values if needed. Its main utility is for <code><a href="../reference/provigrep.html">provigrep()</a></code> with argument <code>maxValues</code>.</li>
<li>
<code><a href="../reference/provigrep.html">proigrep()</a></code> was added as a lightweight alias to <code>provigrep(..., value=FALSE)</code> which returns the index positions rather than the values.</li>
<li>
<code><a href="../reference/match_unique.html">match_unique()</a></code> matches unique vector values to the full vector. I found myself performing this step so many times I thought a function might feel better. It may also be equivalent to <code>which(!duplicated(x))</code> - but again, that doesn’t feel easy enough. I guess.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.63.900" id="jamba-version-0063900">jamba version 0.0.63.900<a class="anchor" aria-label="anchor" href="#jamba-version-0063900"></a></h2>
<div class="section level3">
<h3 id="new-function-0-0-63-900">new function<a class="anchor" aria-label="anchor" href="#new-function-0-0-63-900"></a></h3>
<ul><li>
<code><a href="../reference/lldf.html">lldf()</a></code> is a lightweight extension to <code>utils::ls()</code> that returns a <code>data.frame</code> with object name and size, sorted largest to smallest. I found myself using this function several times after becoming more aware of object sizes while using <code><a href="https://rdrr.io/pkg/jamsession/man/save_jamsession.html" class="external-link">jamsession::save_jamsession()</a></code>.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-63-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-63-900"></a></h3>
<ul><li>
<code><a href="../reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> default argument <code>bandwidthN=NULL</code> which changes the default bandwidth to use <code>bwpi</code> for the per-inch calculation of the bandwidth that can be reasonably displayed given the output size. Previous default was <code>bandwidthN=300</code>. Note that the output density calculation is dependent upon the display size, which can affect the results.</li>
<li>
<code><a href="../reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> now honors <code>xlab</code> and <code>ylab</code>, and when those are not provided, it uses base R convention and applies <code>deparse(substitute(x))</code> to determine a suitable default label.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.62.900" id="jamba-version-0062900">jamba version 0.0.62.900<a class="anchor" aria-label="anchor" href="#jamba-version-0062900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-62-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-62-900"></a></h3>
<ul><li>
<code><a href="../reference/shadowText.html">shadowText()</a></code> new argument <code>shadowOrder</code> to control the rendering of shadows and labels for a vector of labels: <code>shadowOrder="each"</code> renders each shadow then each label in order, so that subsequent shadows will overlap previously rendered labels; <code>shadowOrder="all"</code> renders all shadows at once then all labels, so that shadows will never overlap labels. Very minor issue, mostly affecting display of labels that slightly overlap - see examples in <code><a href="../reference/shadowText.html">shadowText()</a></code>.</li>
<li>
<code><a href="../reference/setCLranges.html">setCLranges()</a></code> fixed issue in first time processing, which was wrongly defining Crange and Lrange for future use even inside Rstudio. (Minor issue that would only affect text labels with light colors on a light background.)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.61.900" id="jamba-version-0061900">jamba version 0.0.61.900<a class="anchor" aria-label="anchor" href="#jamba-version-0061900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-61-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-61-900"></a></h3>
<ul><li>
<code><a href="../reference/fix_matrix_ratio.html">fix_matrix_ratio()</a></code> had a bug in secondary logic referring to non-existent object <code>y</code>. This function is used as an optional backend for <code>imageDefault</code> when <code>useRaster=TRUE</code> to provide reasonable default matrix adjustment to reduce or prevent visual distortion when image interpolation is performed on matrices with non-1:1 ratio of rows and columns.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.60.900" id="jamba-version-0060900">jamba version 0.0.60.900<a class="anchor" aria-label="anchor" href="#jamba-version-0060900"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-0-60-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-60-900"></a></h3>
<ul><li>
<code><a href="../reference/readOpenxlsx.html">readOpenxlsx()</a></code> is the reciprocal to <code><a href="../reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> that differs from <code><a href="https://rdrr.io/pkg/openxlsx/man/read.xlsx.html" class="external-link">openxlsx::read.xlsx()</a></code> mainly in that it loads multiple sheets at a time, and does not mangle column names when <code>check.names=FALSE</code>. The <code>openxlsx</code> method behaves as if <code>check.names=TRUE</code> in all cases, as of 01-Dec-2020.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.59.900" id="jamba-version-0059900">jamba version 0.0.59.900<a class="anchor" aria-label="anchor" href="#jamba-version-0059900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-59-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-59-900"></a></h3>
<ul><li>
<code><a href="../reference/getColorRamp.html">getColorRamp()</a></code> argument <code>defaultBaseColor="grey99"</code> from the previous <code>defaultBaseColor="grey95"</code> which just felt too dark.</li>
<li>
<code><a href="../reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> new argument <code>col</code> passed to <code><a href="../reference/smoothScatterJam.html">smoothScatterJam()</a></code> to be compatible with <code><a href="https://rdrr.io/r/graphics/smoothScatter.html" class="external-link">smoothScatter()</a></code>, this defines point color when <code>nrpoints</code> is non-zero. Apparently not defining this argument allowed R to do fuzzy argument name matching, causing conflict with <code>colramp</code>.</li>
<li>
<code><a href="../reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> new argument <code>expand</code> will expand the x-axis and y-axis ranges by this amount. The default <code>expand=c(0.04, 0.04)</code> mimics the default setting for R base plots. The help text was updated.</li>
<li>
<code><a href="../reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> now uses <code><a href="https://rdrr.io/r/grDevices/xy.coords.html" class="external-link">grDevices::xy.coords()</a></code> to define coordinates, avoiding internal logic that essentially did the same thing. This change should be silent. This change does remove the warnings that were produced with input supplied as a single numeric vector.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-0-59-900">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-59-900"></a></h3>
<ul><li>
<code><a href="../reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> argument <code>binpi</code> was setting the bins per inch identically for x and y axes, using the maximum size – when it can and now does handle each axis independently. Now the output pixels should be square, rather than being influenced by the ratio of the plot device.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.58.900" id="jamba-version-0058900">jamba version 0.0.58.900<a class="anchor" aria-label="anchor" href="#jamba-version-0058900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-58-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-58-900"></a></h3>
<ul><li>
<code><a href="../reference/getColorRamp.html">getColorRamp()</a></code> was updated for single-color input and <code>defaultBaseColor</code>. It now properly creates a color gradient from light-to-dark, or dark-to-light based upon the relative brightness of <code>color</code> and <code>defaultBaseColor</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.57.900" id="jamba-version-0057900">jamba version 0.0.57.900<a class="anchor" aria-label="anchor" href="#jamba-version-0057900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-57-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-57-900"></a></h3>
<p>Updates to <code><a href="../reference/setCLranges.html">setCLranges()</a></code> mainly affect colorized console text output, used by <code><a href="../reference/printDebug.html">printDebug()</a></code> which calls <code><a href="../reference/make_styles.html">make_styles()</a></code>. This function is also useful to adjust a color or vector of colors for contrast on a light or dark background.</p>
<ul><li>
<code><a href="../reference/setCLranges.html">setCLranges()</a></code> argument has new default <code>lightMode=NULL</code> and slightly different, more intuitive behavior. When <code>lightMode</code> is defined (<code>TRUE</code> or <code>FALSE</code>) then it over-rides existing values, and uses the corresponding <code>lightMode</code> setting directly. Otherwise, when <code>lightMode=NULL</code> any existing <code>Crange</code> and <code>Lrange</code> values are used. If none are defined, then <code><a href="../reference/checkLightMode.html">checkLightMode()</a></code> is called, then default values are used.</li>
<li>Functions that use <code><a href="../reference/setCLranges.html">setCLranges()</a></code> were updated so the argument default <code>lightMode=NULL</code> is used. When those functions are called with <code>lightMode=TRUE</code> or <code>lightMode=FALSE</code> the text output will be adjusted. For example:</li>
</ul><pre><code><span class="fu"><a href="../reference/printDebug.html">printDebug</a></span><span class="op">(</span><span class="st">"yellow"</span>, lightMode<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>
<span class="fu"><a href="../reference/printDebug.html">printDebug</a></span><span class="op">(</span><span class="st">"yellow"</span>, lightMode<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></code></pre>
<p>Functions affected: * <code><a href="../reference/checkLightMode.html">checkLightMode()</a></code> * <code><a href="../reference/applyCLrange.html">applyCLrange()</a></code> * <code><a href="../reference/setCLranges.html">setCLranges()</a></code> * <code><a href="../reference/printDebug.html">printDebug()</a></code> * <code><a href="../reference/make_styles.html">make_styles()</a></code> * <code><a href="../reference/jargs.html">jargs()</a></code></p>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.56.900" id="jamba-version-0056900">jamba version 0.0.56.900<a class="anchor" aria-label="anchor" href="#jamba-version-0056900"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-0-56-900">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-56-900"></a></h3>
<ul><li>
<code><a href="../reference/printDebug.html">printDebug()</a></code> failed on class <code>"package_version"</code> ultimately because <code><a href="../reference/unnestList.html">unnestList()</a></code> could not unlist this object type. The “package_version” class is a list, e.g. <code>is.list(packageVersion("base"))</code> is <code>TRUE</code>. However, accessing the first item, e.g. <code>x[[1]]</code> always returns the full object unchanged… which is not expected behavior for a list. This class was added to <code>stopClasses</code>.</li>
<li>
<code><a href="../reference/unnestList.html">unnestList()</a></code> was refactored to handle nested lists with and without names in various combinations, and to use <code><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch()</a></code> as a final protection from infinite recursion, when list-list objects do not behave like list objects (as is the case with the <code>"package_version"</code> class.)</li>
<li>
<code>applyCLranges()</code> was updated to remove the warning message for argument <code>fixYellow</code> that read <code>"the condition has length &gt; 1 and only the first element will be used"</code>. The function now handles vector input for <code>fixYellow</code> and extends the vector to the length of <code>x</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-56-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-56-900"></a></h3>
<ul><li>
<code><a href="../reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> now correctly determines the plot aspect ratio after the plot is initiated. The situation occurs when using <code><a href="https://rdrr.io/r/graphics/layout.html" class="external-link">graphics::layout()</a></code> which does not update the <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par()</a></code> settings until the plot is created. Now a blank plot is initiated before determining aspect ratio, which allows proper calculation of the 2D density plot.</li>
</ul></div>
<div class="section level3">
<h3 id="refactoring-of-plotsmoothscatter-0-0-56-900">refactoring of plotSmoothScatter<a class="anchor" aria-label="anchor" href="#refactoring-of-plotsmoothscatter-0-0-56-900"></a></h3>
<ul><li>
<code><a href="../reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> new argument <code>binpi</code> defines the <code>nbin</code> number of displayed bins based upon plot panel size. The default <code>binpi=50</code> defines 50 display bins per inch. This value will adjust accordingly for large and small figures, based upon the physical size of the figure in inches.</li>
<li>
<code><a href="../reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> argument <code>nbin</code> new default is <code>nbin=NULL</code>, which then uses <code>binpi</code> to calculate <code>nbin</code>. To use the previous style, set <code>nbin=256</code> which will ignore <code>binpi</code>.</li>
<li>
<code><a href="../reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> new argument <code>bwpi</code> defines <code>bandwidthN</code> based upon the plot panel size. The default <code>bwpi=NULL</code> does not implement this scaling by default, instead <code>bandwidthN=300</code> is still the default. The benefit of using <code>bwpi</code> is mostly in speed of calculating 2D density for multi-panel plots where detail would already be lost during display.</li>
</ul><div class="section level4">
<h4 id="plotsmoothscatter-commentary-0-0-56-900">plotSmoothScatter commentary<a class="anchor" aria-label="anchor" href="#plotsmoothscatter-commentary-0-0-56-900"></a></h4>
<p><code><a href="../reference/plotSmoothScatter.html">plotSmoothScatter()</a></code> uses two arguments to determine how data is plotted:</p>
<ul><li>
<code>bandwidthN</code> defines the number of bandwidth divisions on the x- and y-axes used to calculate the 2D density. Higher <code>bandwidthN</code> calculates greater detail in the 2D density – these values are all typically higher than <code><a href="https://rdrr.io/r/graphics/smoothScatter.html" class="external-link">graphics::smoothScatter()</a></code>, and this is still the driving reason to use <code>plotSmoothScatter</code> and not <code><a href="https://rdrr.io/r/graphics/smoothScatter.html" class="external-link">smoothScatter()</a></code>.</li>
<li>
<code>nbin</code> defines the number of visible pixels used to display the calculated 2D density. Higher <code>nbin</code> creates visually more detailed representation of the 2D density.</li>
</ul><p>Usually <code>nbin</code> and <code>bandwidthN</code> values are similar to each other, since it conceptually makes sense to calculate 2D density at roughly the resolution used to display the results. These arguments are adjustable and are still valid for most purposes.</p>
<p>So why the change? The short summary is that multi-panel plots have fewer pixels being displayed, and I wanted a convenient method to reduce the number of pixels (<code>nbin</code>) displayed in each panel. (Truth be told, while working from home creating plots on remote servers, I noticed just how long multi-panel plots take to render. Most of that time is spent rendering detail never seen during display.)</p>
<p>After some extended testing, I concluded that bandwidth should remain relatively constant regardless of the display pixels, in order to maintain consistent 2D density despite the image size. (Conceptually, it makes sense that the image display size should not affect underlying calculation of the data to be displayed.) However, the number of displayed pixels should be reduced roughly proportional to the size of the plot panel, which solves the issue I was having of plotting data with far more detail than could be visually rendered, making plots larger, take longer to display, and creating larger saved file sizes.</p>
<p>Also, the resolution of the resulting plot can now be adjusted relative to the output plot size, consistent with computer monitor resolution (dots per inch dpi), and printed paper output dpi.</p>
</div>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.55.900" id="jamba-version-0055900">jamba version 0.0.55.900<a class="anchor" aria-label="anchor" href="#jamba-version-0055900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-55-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-55-900"></a></h3>
<ul><li>
<code><a href="../reference/applyXlsxConditionalFormat.html">applyXlsxConditionalFormat()</a></code> and <code><a href="../reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> were updated to make default colors in <code>numStyle</code>, <code>intStyle</code>, <code>pvalueStyle</code> slightly more colorful, while also being less dark, so Excel default black text has better visible contrast. (Why can Excel not apply conditional format rules to text font color?)</li>
<li>
<code><a href="../reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> format for P-values <code>pvalueFormat</code> formats values above 0.01 as decimal value such as <code>0.022</code> or <code>0.157</code>, P-values below 0.01 are exponential notation such as <code>2.31E-10</code>. (I wish R could avoid formatting things like <code>1.1e+00</code> and <code>1.0e+01</code> without using a custom function.)</li>
<li>
<code><a href="../reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> was updated with a more comprehensive example.</li>
<li>
<code>applyCategoricalFormat()</code> has a simple working example.</li>
<li>
<code><a href="../reference/applyXlsxConditionalFormat.html">applyXlsxConditionalFormat()</a></code> has a simple working example.</li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-0-0-55-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-55-900"></a></h3>
<ul><li>
<code><a href="../reference/set_xlsx_rowheights.html">set_xlsx_rowheights()</a></code> and <code><a href="../reference/set_xlsx_colwidths.html">set_xlsx_colwidths()</a></code> are light wrappers to the very useful functions <code><a href="https://rdrr.io/pkg/openxlsx/man/setRowHeights.html" class="external-link">openxlsx::setRowHeights()</a></code> and <code><a href="https://rdrr.io/pkg/openxlsx/man/setColWidths.html" class="external-link">openxlsx::setColWidths()</a></code>. They simply open the workbook, apply the values to the appropriate sheet, then save the workbook.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.54.900" id="jamba-version-0054900">jamba version 0.0.54.900<a class="anchor" aria-label="anchor" href="#jamba-version-0054900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-54-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-54-900"></a></h3>
<ul><li>
<code><a href="../reference/setPrompt.html">setPrompt()</a></code> by default wraps the color sequence inside proper ansi escape sequences, which helps the console properly apply word wrapping by ignoring color sequences in the estimate of character count per line.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.53.900" id="jamba-version-0053900">jamba version 0.0.53.900<a class="anchor" aria-label="anchor" href="#jamba-version-0053900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-53-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-53-900"></a></h3>
<ul><li>
<code><a href="../reference/printDebug.html">printDebug()</a></code> fixed a visual glitch caused by using <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub()</a></code> to remove trailing <code>sep</code> characters from vector elements before adding the <code>sep</code> itself, without removing ANSI-encoding from the <code>sep</code> string, sometimes removing trailing zero from numeric strings but only in the middle of a multi-element vector. Now the <code>sep</code> is appended only using <code><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0()</a></code> and no trailing <code>sep</code> characters are checked nor removed. This behavior is probably better since it should properly represent the input content.</li>
<li>
<code><a href="../reference/printDebug.html">printDebug()</a></code> was modified to fix a longstanding visual glitch that would not fully reset inverted ANSI colors that span multiple lines. If the output uses color, a trailing <code>crayon::reset("")</code> is added to the end of each line.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.52.900" id="jamba-version-0052900">jamba version 0.0.52.900<a class="anchor" aria-label="anchor" href="#jamba-version-0052900"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-0-52-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-52-900"></a></h3>
<ul><li>
<code><a href="../reference/jam_rapply.html">jam_rapply()</a></code> is a lightweight customization to <code><a href="https://rdrr.io/r/base/rapply.html" class="external-link">base::rapply()</a></code>, specifically designed to keep <code>NULL</code> entries without dropping them silently. It has the added benefit of being able to flatten a nested input list, then expand back into the original nested list structure, without losing the <code>NULL</code> entries.</li>
</ul></div>
<div class="section level3">
<h3 id="notes-on-sorting-lists-with-factors-and-vectors-0-0-52-900">Notes on sorting lists with factors and vectors<a class="anchor" aria-label="anchor" href="#notes-on-sorting-lists-with-factors-and-vectors-0-0-52-900"></a></h3>
<p>A theme of several updates this version has been to handle list input that may contain <code>factor</code> and non-<code>factor</code> vectors. In fact even handling a list of <code>factor</code> vectors is unclear at least to me. For example, <code><a href="https://rdrr.io/r/base/unlist.html" class="external-link">base::unlist()</a></code> operating on a list of factors will define one factor vector whose levels are literally the unique first-occurrence of each factor level. For example <code>sort(factor(c("A","B"), levels=c("A","B")))</code> results in <code>c("A", "B")</code>, while <code>sort(factor(c("A","B"), levels=c("B","A")))</code> results in <code>c("B", "A")</code>. So what should be done when given:</p>
<blockquote>
<p><code>list(factor(c("A","B"), levels=c("A","B")), factor(c("A","B"), levels=c("B","A"))</code></p>
</blockquote>
<p>In reality, most such occurrences would not happen, if factor levels are specified, the best solution is to include the full set of factor levels with each factor vector. But if the input contains a mixture of factor and character, vectors, running <code><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist()</a></code> converts factors to integers… which is really bad. At the very least I had to handle and prevent that scenario.</p>
</div>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-52-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-52-900"></a></h3>
<ul><li>
<code><a href="../reference/pasteByRowOrdered.html">pasteByRowOrdered()</a></code> was modified in two ways: new argument <code>na.last=TRUE</code> is passed to <code><a href="../reference/mixedSortDF.html">mixedSortDF()</a></code> to allow <code>NA</code> values to be sorted at the top, which seems intuitive for most scenarios; also the <code>...</code> additional arguments are passed to <code><a href="../reference/mixedSortDF.html">mixedSortDF()</a></code> which allows column sort order to be customized. Previously <code><a href="../reference/pasteByRowOrdered.html">pasteByRowOrdered()</a></code> called <code><a href="../reference/mixedSortDF.html">mixedSortDF()</a></code> which sorted columns in the order they appear in the <code>data.frame</code>, however sometimes it is better to sort columns differently, while keeping the original column order intact. See examples for illustration of <code>na.last=TRUE</code>. In a two-column table with <code>NA</code> values in the second column, using <code>na.last=TRUE</code> (default) would yield factor levels <code>c("A_B", "A", "B_C", "B")</code>, while using <code>na.last=FALSE</code> would yield <code>c("A", "A_B", "B", "B_C")</code>. This output seems more intuitive, however the default in <code><a href="../reference/mixedSortDF.html">mixedSortDF()</a></code> and <code><a href="../reference/mixedSort.html">mixedSort()</a></code> are <code>na.last=TRUE</code> so that default will be maintained for consistency.</li>
<li>
<code><a href="../reference/mixedSort.html">mixedSort()</a></code> argument <code>NAlast</code> is deprecated in favor of <code>na.last</code> for consistency with <code><a href="https://rdrr.io/r/base/sort.html" class="external-link">base::sort()</a></code>.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-0-52-900">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-52-900"></a></h3>
<ul><li>
<code><a href="../reference/cPaste.html">cPaste()</a></code> was refactored to simplify internal logic, and to handle a rare edge case that was inconsistent with related functions. It occurs when the input list contains some <code>factor</code> vectors, and some non-<code>factor</code> vectors, and when both <code>doSort=TRUE</code> and <code>keepFactors=TRUE</code>. The <code>keepFactors=TRUE</code> argument tries to maintain factor levels during the sort, instead of using <code><a href="../reference/mixedSort.html">mixedSort()</a></code> across all vectors. In this case, previously the non-<code>factor</code> vectors were converted to factor, which by default would order factor levels using <code><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort()</a></code>. Now the output is consistent in that the <code>character</code> vectors are converted to factors whose levels are ordered using <code><a href="../reference/mixedSort.html">mixedSort()</a></code>. The step occurs once across all <code>character</code> vectors, so it is fairly fast even for large input lists. Also, any <code>NULL</code> entries are still maintained and returned as <code>""</code>.</li>
<li>
<code><a href="../reference/mixedSorts.html">mixedSorts()</a></code> was updated to allow input that has no names, which was errantly returning <code>NULL</code>. Now names are handled gracefully, allowing no names, or even duplicated names, without issue.</li>
<li>
<code><a href="../reference/mixedSorts.html">mixedSorts()</a></code> now properly handles nested list input that may contain <code>NULL</code>, so that it returns the same structured list including <code>NULL</code> entries where appropriate.</li>
</ul></div>
<div class="section level3">
<h3 id="refactoring-for-performance-0-0-52-900">Refactoring for performance<a class="anchor" aria-label="anchor" href="#refactoring-for-performance-0-0-52-900"></a></h3>
<ul><li>
<code><a href="../reference/uniques.html">uniques()</a></code> new argument <code>useSimpleBioc=TRUE</code> will optionally enable Bioconductor SimpleList intermediate – mostly available to benchmark because it is so painfully slow it raised a red flag. The Bioconductor <code>S4Vectors</code> package changed how they handle <code>List</code> coersion from a simple <code>list</code> class, instead of using <code>CompressedList</code> it defaulted to use <code>SimpleList</code>. Unfortunately, <code>SimpleList</code> is roughly 6-10 times slower when calling <code><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique()</a></code>, and was causing curious slowdowns in other functions such as <code>cPasteU</code>. Bioconductor does not allow coersion directly to <code>CompressedList</code>, instead requires coersion by specific recognized classes such as <code>"character"</code> with <code>"CharacterList"</code>, and <code>"integer"</code> with <code>"IntegerList"</code>. So because the input list is allowed to contain different classes, the remedy is to make a <code>CompressedList</code> for each recognized class, call <code><a href="../reference/uniques.html">uniques()</a></code> on that <code>CompressedList</code>, and repeat until all classes are handled. Any unrecognized classes are handled using <code>lapply(x, unique)</code>. See examples for some benchmark comparisons. When <code>useBioc=TRUE</code>, the optimized Bioconductor method is used. When <code>useBioc=FALSE</code>, and <code>useSimpleBioc=TRUE</code>, the slower Bioconductor approach is used, which uses <code>SimpleList</code> as an intermediate. When both <code>useBioc=FALSE</code> and <code>useSimpleBioc=FALSE</code>, there are two additional options: <code>keepNames=FALSE</code> uses <code>lapply(x, unique)</code> and loses vector names; <code>keepNames=TRUE</code> will invoke a special base R approach that maintains the original vector names for the remaining unique entries. Of these four approaches the timings relative to the fastest:</li>
</ul><ol style="list-style-type: decimal"><li>useBioc=TRUE: 1x (fastest)</li>
<li>useBioc=FALSE, useSimpleBioc=TRUE: 6x slower</li>
<li>useBioc=FALSE, useSimpleBioc=FALSE, keepNames=FALSE: 1.8x slower</li>
<li>useBioc=FALSE, useSimpleBioc=FALSE, keepNames=TRUE: 12x slower</li>
</ol></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.51.900" id="jamba-version-0051900">jamba version 0.0.51.900<a class="anchor" aria-label="anchor" href="#jamba-version-0051900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-51-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-51-900"></a></h3>
<ul><li>
<code><a href="../reference/printDebug.html">printDebug()</a></code> has a new argument, largely silent, <code>doReset</code> which defines whether to apply an additional color reset to the delimiter argument <code>sep</code>. Previously the delimiter inherited the color from the previous text, but now by default the delimiter style is reset, giving more clear distinction between multiple values.</li>
<li>
<code><a href="../reference/printDebug.html">printDebug()</a></code> now properly applies the Crange and Lrange values when lightMode is TRUE, which means it limits the brightness of text colors on a light background, to ensure enough contrast to read the text. When using <code><a href="../reference/printDebugI.html">printDebugI()</a></code> the background color is not adjusted, and the foreground (text) color is set using <code><a href="../reference/setTextContrastColor.html">setTextContrastColor()</a></code>, meaning either white or black depending upon the background brightness.</li>
<li>
<code><a href="../reference/setCLranges.html">setCLranges()</a></code> and <code><a href="../reference/make_styles.html">make_styles()</a></code> were updated to apply options <code>"jam.Crange"</code>, <code>"jam.Lrange"</code> only when those options were <code>NULL</code>, otherwise leave them as-is.</li>
<li>
<code><a href="../reference/applyCLrange.html">applyCLrange()</a></code> now properly applies the desired <code>Crange</code> and <code>Lrange</code> values, and defines the appropriate options, by default only when those options are <code>NULL</code>.</li>
<li>
<code><a href="../reference/fixYellow.html">fixYellow()</a></code> default settings were changed to expand the range corrected “for green-ness”, also <code>fixup=TRUE</code> by default.</li>
<li>
<code><a href="../reference/hcl2col.html">hcl2col()</a></code> argument was changed to <code>fixup=TRUE</code>, and <code>model="hcl"</code>, consistent with other changes in color handling.</li>
<li>
<code><a href="../reference/hcl2col.html">hcl2col()</a></code> and <code><a href="../reference/col2hcl.html">col2hcl()</a></code> now use <code>model="hcl"</code> by default, which now calls the <code>farver</code> package if installed, otherwise they revert to using colorspace <code>model="polarLUV"</code> and <code>fixup=TRUE</code>. In future colorspace will likely be removed in favor of farver, so for now the transition has begun.</li>
<li>
<code><a href="../reference/setTextContrastColor.html">setTextContrastColor()</a></code> was adjusted to handle alpha transparency more accurately, the examples were updated and include a new example that uses <code><a href="../reference/drawLabels.html">drawLabels()</a></code> on a dark background. New argument <code>alphaLens</code> allows some fine-tuning of the alpha transparency blending of foreground and background colors.</li>
</ul></div>
<div class="section level3">
<h3 id="other-updates-0-0-51-900">Other updates<a class="anchor" aria-label="anchor" href="#other-updates-0-0-51-900"></a></h3>
<p>Added some visuals to README.Rmd.</p>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.50.900" id="jamba-version-0050900">jamba version 0.0.50.900<a class="anchor" aria-label="anchor" href="#jamba-version-0050900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-50-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-50-900"></a></h3>
<ul><li>
<code><a href="../reference/shadowText.html">shadowText()</a></code> was updated to use several <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code> as default argument values. Although <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code> is not always an ideal mechanism, for purely visual effects it is not in conflict with statistical reproducibility, and allows some overall graphical settings to be maintained when <code><a href="../reference/shadowText.html">shadowText()</a></code> is being called through internal <code><a href="https://rdrr.io/r/graphics/plot.html" class="external-link">plot()</a></code> functions. For example setting <code>text &lt;- jamba::shadowText</code> then calling a default base R plot function will use the <code><a href="../reference/shadowText.html">jamba::shadowText()</a></code> in place of <code><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text()</a></code>, but without allowing any customization. The <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code> mechanic allows some custom settings to be honored. The primary driver for these changes is in <code><a href="https://rdrr.io/pkg/multienrichjam/man/jam_igraph.html" class="external-link">multienrichjam::jam_igraph()</a></code> which plots <code>igraph</code> objects with some customization, one option is <code>use_shadowText=TRUE</code> which invokes <code><a href="../reference/shadowText.html">jamba::shadowText()</a></code>. It is desirable to adjust the contrast of the outline effect so it does not completely obscure the underlying network graph display.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.49.900" id="jamba-version-0049900">jamba version 0.0.49.900<a class="anchor" aria-label="anchor" href="#jamba-version-0049900"></a></h2>
<div class="section level3">
<h3 id="new-experimental-function-0-0-49-900">New experimental function<a class="anchor" aria-label="anchor" href="#new-experimental-function-0-0-49-900"></a></h3>
<ul><li>
<code><a href="../reference/fix_matrix_ratio.html">fix_matrix_ratio()</a></code> is used to expand a matrix to have roughly 1:1 dimensions, up to a maximum factor per dimension. The purpose is to enhance <code><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image()</a></code>, <code><a href="https://rdrr.io/r/graphics/rasterImage.html" class="external-link">rasterImage()</a></code>, and <code>grid.raster()</code> functions, specifically when <code>interpolate=TRUE</code> for images with more rows or columns than there are actual pixels to display the image. The <code>interpolate=TRUE</code> methods in base R do not account for assymetry, nor do they account for a low number of rows or columns. See examples for visible examples of the effect.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.48.900" id="jamba-version-0048900">jamba version 0.0.48.900<a class="anchor" aria-label="anchor" href="#jamba-version-0048900"></a></h2>
<div class="section level3">
<h3 id="enhancements-to-readme-0-0-48-900">Enhancements to README<a class="anchor" aria-label="anchor" href="#enhancements-to-readme-0-0-48-900"></a></h3>
<p>The README.Rmd was re-organized, with more callouts of helpful <code>jamba</code> functions. Next step will be to include visual examples.</p>
</div>
<div class="section level3">
<h3 id="minor-bug-fix-0-0-48-900">Minor bug fix<a class="anchor" aria-label="anchor" href="#minor-bug-fix-0-0-48-900"></a></h3>
<ul><li>
<code><a href="../reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> was exporting files with inconsistent word wrapping by column, and inconsistent vertical align (<code>valign</code>) settings. The culprit was <code><a href="https://rdrr.io/pkg/openxlsx/man/saveWorkbook.html" class="external-link">openxlsx::saveWorkbook()</a></code> which appears to apply default styles for cell styles that are not specifically encoded. Simply loading and saving a workbook would modify column styles. The workaround/fix was to ensure <code><a href="../reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> would specifically encode <code>wrapText</code> and <code>valign</code> for each cell, so that it would not be overridden by <code><a href="https://rdrr.io/pkg/openxlsx/man/saveWorkbook.html" class="external-link">openxlsx::saveWorkbook()</a></code> mood.</li>
<li>
<code><a href="../reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> now forces <code>wrapText=TRUE</code> for all columns. In future the function may allow per-column <code>wrapText</code>.</li>
<li>
<code>applyXlsxCategorical()</code> has new argument <code>wrapText=TRUE</code> which is passed to <code><a href="https://rdrr.io/pkg/openxlsx/man/createStyle.html" class="external-link">openxlsx::createStyle()</a></code>, since that function requires wrapText be either <code>TRUE</code> or <code>FALSE</code>, and its default is <code>FALSE</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.47.900" id="jamba-version-0047900">jamba version 0.0.47.900<a class="anchor" aria-label="anchor" href="#jamba-version-0047900"></a></h2>
<div class="section level3">
<h3 id="enhancements-0-0-47-900">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-0-47-900"></a></h3>
<ul><li>
<code><a href="../reference/setTextContrastColor.html">setTextContrastColor()</a></code> no longer calls <code>par("bg")</code> to determine the background color, unless a graphics device is already open. This change will prevent a graphics device from being opened in somewhat random situations. The argument <code>bg</code> is only used when input <code>colors</code> have alpha transparency. When <code>bg</code> is not supplied, it will query <code>par("bg")</code> only when <code>length(dev.list())&gt;0</code>, otherwise it uses <code>"white"</code> by default. Note that calling <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par()</a></code> always opens a new graphics device if one is not already open, even though the <code>"bg"</code> value is stored somewhere and should not require a new device. The R docs do describe this behavior, for what it’s worth.</li>
<li>
<code><a href="../reference/imageByColors.html">imageByColors()</a></code> now accepts argument <code>cellnote</code> as an atomic vector, which is coerced to a matrix with same dimensions as input matrix <code>x</code>. This change makes it easier to use numeric formatting functions, which sometimes take matrix input and provide vector output.</li>
<li>
<code><a href="../reference/applyCLrange.html">applyCLrange()</a></code> new argument <code>fixup</code> which is passed to <code><a href="../reference/hcl2col.html">hcl2col()</a></code> which in turn passes it to <code><a href="https://colorspace.R-Forge.R-project.org//reference/hex.html" class="external-link">colorspace::hex()</a></code> when converting colors outside the color gamut. These functions will soon be replaced with calls to <code>farver</code>.</li>
<li>
<code><a href="../reference/hcl2col.html">hcl2col()</a></code> and <code><a href="../reference/col2hcl.html">col2hcl()</a></code> now have argument option <code>model="hcl"</code> that uses farver, and its color model <code>"hcl"</code>, which is equivalent to using <code>colorspace::hex(...,fixup=TRUE)</code>, except faster, and with better upside for other color manipulations. For now, the color model will not use <code>"hcl"</code> until I can work out better default values in <code><a href="https://rdrr.io/pkg/colorjam/man/rainbowJam.html" class="external-link">colorjam::rainbowJam()</a></code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.46.900" id="jamba-version-0046900">jamba version 0.0.46.900<a class="anchor" aria-label="anchor" href="#jamba-version-0046900"></a></h2>
<div class="section level3">
<h3 id="enhancements-0-0-46-900">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-0-46-900"></a></h3>
<ul><li>
<code><a href="../reference/rbindList.html">rbindList()</a></code> has two optional arguments:</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.45.900" id="jamba-version-0045900">jamba version 0.0.45.900<a class="anchor" aria-label="anchor" href="#jamba-version-0045900"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-0-45-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-45-900"></a></h3>
<ul><li>
<code><a href="../reference/sdima.html">sdima()</a></code> and <code><a href="../reference/ssdima.html">ssdima()</a></code> are equivalent to <code><a href="../reference/sdim.html">sdim()</a></code> and <code><a href="../reference/ssdim.html">ssdim()</a></code> except that they operate on <code>attributes(x)</code>. I somehow found myself constantly typing <code>sdim(attributes(x))</code> and finally had enough of that.</li>
<li>
<code><a href="../reference/printDebugI.html">printDebugI()</a></code> is a shortcut to <code>printDebug(..., invert=TRUE)</code>, intended to be a quick way to use inverted colors, to colorize the background instead of the text. Note that <code><a href="../reference/printDebug.html">printDebug()</a></code> applies a color range restriction, to make sure the text contrasts with either light or dark background. When <code>invert=TRUE</code> the background color is not restricted, instead the foreground text uses <code><a href="../reference/setTextContrastColor.html">setTextContrastColor()</a></code> to determine a suitable contrasting color for the text and its corresponding background color.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-45-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-45-900"></a></h3>
<ul><li>
<code><a href="../reference/imageByColors.html">imageByColors()</a></code> was refactored to handle grouped labels more cleanly. New argument <code>groupByColors=TRUE</code> decides whether to group cellnotes only when the label and underlying color are both identical – which is a change from previous behavior. Previous behavior grouped consecutive identical labels, regardless the underlying color, which is sometimes helpful, for example labeling a color gradient by the base color. Typically the cellnote and color would change together, but not always. The new default is consistent with the expected behavior.</li>
<li>
<code><a href="../reference/imageByColors.html">imageByColors()</a></code> new argument <code>groupBy</code> with one or both values <code>"row"</code> which groups cellnote values by row, and <code>"column"</code> which groups cellnote values by column. Useful to limit cellnote grouping so the values are not grouped inappropriately. This argument is mostly useful when <code>groupByColors=FALSE</code>.</li>
<li>
<code><a href="../reference/imageByColors.html">imageByColors()</a></code> new argument <code>adjustMargins=TRUE</code> will call <code><a href="../reference/adjustAxisLabelMargins.html">adjustAxisLabelMargins()</a></code> to adjust the margins to ensure the labels will fit in the plot device size.</li>
<li>
<code><a href="../reference/adjustAxisLabelMargins.html">adjustAxisLabelMargins()</a></code> was updated to handle <code>par("cex")</code> and <code>par("cex.axis")</code> appropriately.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.44.900" id="jamba-version-0044900">jamba version 0.0.44.900<a class="anchor" aria-label="anchor" href="#jamba-version-0044900"></a></h2>
<div class="section level3">
<h3 id="enhancements-0-0-44-900">enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-0-44-900"></a></h3>
<ul><li>
<code><a href="../reference/sdim.html">sdim()</a></code> and <code><a href="../reference/ssdim.html">ssdim()</a></code> now handle environment input, or list of environments. Previously worked for <code><a href="../reference/sdim.html">sdim()</a></code> but using random order returned by <code>names(x)</code> instead of proper order from <code>ls(envir=x)</code>. An environment is essentially treated as a list, and <code><a href="../reference/ssdim.html">ssdim()</a></code> will now properly traverse into the environment as if it were a list.</li>
<li>
<code><a href="../reference/sdim.html">sdim()</a></code> and <code><a href="../reference/ssdim.html">ssdim()</a></code> now handle <code>"List"</code> object classes and sub-classes from the <code>S4Vectors</code> Bioconductor package, but it only works when the <code>S4Vectors</code> package is previously loaded into the search path, otherwise the R object object system does not load the dependent package automatically. In that case, the <code>slotNames(x)</code> are used, which is somewhat less useful.</li>
<li>
<code><a href="../reference/imageDefault.html">imageDefault()</a></code> now properly honors the <code>par("bty")</code> setting, that is by not calling its own <code><a href="https://rdrr.io/r/graphics/box.html" class="external-link">box()</a></code> to force drawing a box around the heatmap.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.43.900" id="jamba-version-0043900">jamba version 0.0.43.900<a class="anchor" aria-label="anchor" href="#jamba-version-0043900"></a></h2>
<div class="section level3">
<h3 id="bug-fixes--enhancements-0-0-43-900">bug fixes / enhancements<a class="anchor" aria-label="anchor" href="#bug-fixes--enhancements-0-0-43-900"></a></h3>
<ul><li>
<code><a href="../reference/make_styles.html">make_styles()</a></code> fixed issue with background color supplied in vector form, it was errantly calling <code><a href="../reference/fixYellow.html">fixYellow()</a></code> with the logical vector of whether to colorize, instead of the color vector itself. This package needs <code>"testthat"</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.42.900" id="jamba-version-0042900">jamba version 0.0.42.900<a class="anchor" aria-label="anchor" href="#jamba-version-0042900"></a></h2>
<div class="section level3">
<h3 id="bug-fixes--enhancements-0-0-42-900">bug fixes / enhancements<a class="anchor" aria-label="anchor" href="#bug-fixes--enhancements-0-0-42-900"></a></h3>
<ul><li>
<code><a href="../reference/printDebug.html">printDebug()</a></code> now handles nested lists, calling <code><a href="../reference/unnestList.html">jamba::unnestList()</a></code> which flattens nested lists to one layer. This change allows printing a list <code>printDebug(c("one", "two "), c("three", "four"))</code> or <code>l &lt;- list(c("one", "two "), c("three", "four"));printDebug(l);</code>.</li>
<li>
<code><a href="../reference/printDebug.html">printDebug()</a></code> now uses <code><a href="../reference/color2gradient.html">color2gradient()</a></code> to create alternating light-dark shadings, used when a single color is defined for a multi-item vector concatenated by <code>sep=","</code>. The gradient was more reliable (so far) than <code><a href="../reference/makeColorDarker.html">makeColorDarker()</a></code> because ANSI output is limited, as are the colors allowed for contrast with light or dark background.</li>
<li>
<code><a href="../reference/printDebug.html">printDebug()</a></code> new argument <code>htmlOut=TRUE</code> will output character string containing text colorized using HTML using the format <code>&lt;span style="color:red;background=white"&gt;text&lt;/span&gt;</code>. Intended whenever the colorized text would not otherwise be interpreted and colorized in a web browser context. It calls <code><a href="../reference/make_html_styles.html">make_html_styles()</a></code>.</li>
<li>
<code><a href="../reference/make_html_styles.html">make_html_styles()</a></code> is a new function, which takes a vector of text, a vector of foreground colors, a vector of background colors, and returns a character string with HTML which colorizes the text. This function is intended for Rmarkdown or web page HTML output.</li>
<li>
<code><a href="../reference/jargs.html">jargs()</a></code> was updated to handle arguments with vectors containing negative numbers. The negative <code>-</code> sign for example from <code>-3</code> is being returned by <code><a href="https://rdrr.io/r/base/formals.html" class="external-link">formals()</a></code> as <code>call(\\</code>-\<code>, 3)</code>, which stores the numeric value separate from the negative sign. This seems like a change, which therefore broke how the colorization previously worked. For now the function works, but somehow lost the ability to colorize numeric vectors by value. Will leave for future.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.41.900" id="jamba-version-0041900">jamba version 0.0.41.900<a class="anchor" aria-label="anchor" href="#jamba-version-0041900"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-0-41-900">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-41-900"></a></h3>
<ul><li>
<code><a href="../reference/pasteByRow.html">pasteByRow()</a></code> properly handles leading blanks, it previously only correctly handled blank values in the second and subsequent columns. Caused by trying to simplify the R function when moving into the jamba package.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.40.900" id="jamba-version-0040900">jamba version 0.0.40.900<a class="anchor" aria-label="anchor" href="#jamba-version-0040900"></a></h2>
<div class="section level3">
<h3 id="changes-0-0-40-900">changes<a class="anchor" aria-label="anchor" href="#changes-0-0-40-900"></a></h3>
<ul><li>
<code><a href="../reference/plotPolygonDensity.html">plotPolygonDensity()</a></code> new argument <code>highlightPoints</code> allows highlighting points in the distribution, which is currently displayed as histogram bars on top of the histogram and density polygon fill. Also slight change to how the polygon density is sized, it uses the median ratio of the height of the density curve to the histogram bars at the center of each bar.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.39.900" id="jamba-version-0039900">jamba version 0.0.39.900<a class="anchor" aria-label="anchor" href="#jamba-version-0039900"></a></h2>
<div class="section level3">
<h3 id="changes-0-0-39-900">changes<a class="anchor" aria-label="anchor" href="#changes-0-0-39-900"></a></h3>
<ul><li>
<code><a href="../reference/drawLabels.html">drawLabels()</a></code> first argument is <code>txt</code> which is the label to be displayed, a small convenience change.</li>
<li>
<code>breaksByVectors()</code> examples were updated to fix a typo when calling <code><a href="../reference/adjustAxisLabelMargins.html">adjustAxisLabelMargins()</a></code>.</li>
<li>Added substantial content to the vignette, including moving multiple images to <code>docs/articles</code> for pkgdown.</li>
</ul></div>
<div class="section level3">
<h3 id="possible-breaking-changes-0-0-39-900">possible breaking changes<a class="anchor" aria-label="anchor" href="#possible-breaking-changes-0-0-39-900"></a></h3>
<ul><li>
<code><a href="../reference/cPaste.html">cPaste()</a></code> default <code>doSort=TRUE</code> is changed to <code>doSort=FALSE</code>. New functions: <code><a href="../reference/cPasteS.html">cPasteS()</a></code> is intended for sorted values; <code><a href="../reference/cPasteU.html">cPasteU()</a></code> is an alias for <code><a href="../reference/cPasteUnique.html">cPasteUnique()</a></code> and is intended for unique values; <code><a href="../reference/cPasteSU.html">cPasteSU()</a></code> is intended for sorted unique values. They all call <code><a href="../reference/cPaste.html">cPaste()</a></code> but with convenience defaults. It is recommended to use <code><a href="../reference/cPasteS.html">cPasteS()</a></code> to replace sorted <code><a href="../reference/cPaste.html">cPaste()</a></code> in cases where output is expected to be sorted. The change was made now while impact is limited mostly to other Jam packages and could be mitigated.</li>
</ul></div>
<div class="section level3">
<h3 id="new-function-0-0-39-900">new function<a class="anchor" aria-label="anchor" href="#new-function-0-0-39-900"></a></h3>
<ul><li>
<code><a href="../reference/groupedAxis.html">groupedAxis()</a></code> draws grouped axis labels, a small convenience function that extends <code>breaksByVectors()</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-0-39-900">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-39-900"></a></h3>
<ul><li>Fixed regression in <code><a href="../reference/provigrep.html">provigrep()</a></code> when input is not character, the use of <code><a href="https://rdrr.io/r/base/make.unique.html" class="external-link">make.unique()</a></code> requires explicit conversion to character type first.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.38.900" id="jamba-version-0038900">jamba version 0.0.38.900<a class="anchor" aria-label="anchor" href="#jamba-version-0038900"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-0-38-900">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-38-900"></a></h3>
<ul><li>
<code><a href="../reference/provigrep.html">provigrep()</a></code> was enhanced to handle duplicated input entries, which previously returned only the unique entries, but now correctly returns all entries including duplicates, in the proper order. The optional list output also makes each list element unique. New argument <code>value</code> allows returning index positions, which is equivalent to <code><a href="../reference/provigrep.html">proigrep()</a></code>. Lastly, the <code>ignore.case</code> argument is now properly honored, in order to allow case-sensitive matching.</li>
<li>
<code><a href="../reference/checkLightMode.html">checkLightMode()</a></code> will not try to use <code>rstudio::getThemeInfo()</code> if that package is installed, and if the function API exists, in order to determine whether Rstudio is currently using a dark theme.</li>
<li>
<code><a href="../reference/make_styles.html">make_styles()</a></code> has a new optional argument <code>bg_style</code> which allows defining the foreground <code>style</code> and background <code>bg_style</code> in one step. When <code>bg_style</code> is supplied, the Crange and Lrange arguments are ignored. Fixed a bug when rendering in Rstudio, where an ANSI foreground color of white does not get properly reset, causing all subsequent foreground colors to be white despite clear ANSI codes for different colors. The workaround is to render white as slightly off-white (greyscale 254 instead of 255) which restores correct output.</li>
<li>
<code><a href="../reference/printDebug.html">printDebug()</a></code> was enhanced to use the <code>bg_style</code> argument of <code><a href="../reference/make_styles.html">make_styles()</a></code>. New argument <code>invert</code> which will switch foreground and background colors. Fixed some follow-up issues with handling empty strings.</li>
<li>
<code><a href="../reference/cPaste.html">cPaste()</a></code> fixed issue with <code>cPaste(NULL)</code> and <code>cPaste(list(NULL))</code> which previously caused an error, now returns <code>""</code> consistent with output from <code>cPaste(list(NULL, letters[1:2]))</code> where NULL entries produce <code>""</code>.</li>
<li>
<code><a href="../reference/fixYellow.html">fixYellow()</a></code> new argument <code>fixup</code> passed to <code><a href="../reference/hcl2col.html">hcl2col()</a></code> which fixes out of gamut colors to scale within viewable range.</li>
<li>
<code><a href="../reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> was not properly saving rownames with argument <code>keepRownames=TRUE</code>, this issue was resolved.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.37.900" id="jamba-version-0037900">jamba version 0.0.37.900<a class="anchor" aria-label="anchor" href="#jamba-version-0037900"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-0-37-900">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-37-900"></a></h3>
<ul><li>Fixed a typo in <code><a href="../reference/make_styles.html">make_styles()</a></code> where the default Lrange was <code>getOption("jam.Crange")</code> instead of <code>getOption("jam.Lrange")</code>. The affect is limited to debugging output when printed on a dark background.</li>
<li>
<code><a href="../reference/asSize.html">asSize()</a></code> was updated to handle <code>object_size</code> above 2.1e9 (2 Gigabytes), it previously converted to integer which does not handle values that large, but now converts to numeric.</li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-0-0-37-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-37-900"></a></h3>
<ul><li>
<code><a href="../reference/log2signed.html">log2signed()</a></code> performs log2 transformation of the magnitude of the numeric values, while preserving the directionality. It effectively performs <code>log1p(abs(x))*sign(x)</code> except that by default it uses log base 2.</li>
<li>
<code><a href="../reference/exp2signed.html">exp2signed()</a></code> is the reciprocal to <code><a href="../reference/log2signed.html">log2signed()</a></code>, it exponentiates the magnitude of the numeric values, while preserving the directionality.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-0-0-37-900">changes<a class="anchor" aria-label="anchor" href="#changes-0-0-37-900"></a></h3>
<ul><li>Cleaned up unnecessary verbose output from <code><a href="../reference/minorLogTicks.html">minorLogTicks()</a></code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.36.900" id="jamba-version-0036900">jamba version 0.0.36.900<a class="anchor" aria-label="anchor" href="#jamba-version-0036900"></a></h2>
<div class="section level3">
<h3 id="bug-fix-0-0-36-900">bug fix<a class="anchor" aria-label="anchor" href="#bug-fix-0-0-36-900"></a></h3>
<ul><li>Fixed embarrassing type in R package dependencies, “S4Vector” instead of “S4Vectors”.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.35.900" id="jamba-version-0035900">jamba version 0.0.35.900<a class="anchor" aria-label="anchor" href="#jamba-version-0035900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-35-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-35-900"></a></h3>
<ul><li>
<code><a href="../reference/setTextContrastColor.html">setTextContrastColor()</a></code> default hclCutoff was changed from 73 to 60, in order to use dark text more often for the “in between” colors.</li>
<li>
<code><a href="../reference/makeNames.html">makeNames()</a></code> now uses <code><a href="https://rdrr.io/r/base/duplicated.html" class="external-link">duplicated()</a></code> to detect duplicates prior to assigning names, which is substantially faster for long vectors where not all entries are duplicated, when compared to applying <code>table(x)</code> to the entire vector. For large vectors with mostly duplicated values, the speed is the same as before. Note this change also affects <code><a href="../reference/nameVector.html">nameVector()</a></code>.</li>
<li>
<code><a href="../reference/sdim.html">sdim()</a></code> now handles a special case of S4 object where data is stored in one slot with slotName <code>".Data"</code>, for example <code>"limma::MArrayLM-class"</code> uses this format. When the length of <code>names(x)</code> matches the length of <code>slot(x, ".Data")</code> then those names are applied.</li>
<li>
<code><a href="../reference/sclass.html">sclass()</a></code> now properly detects S4 objects, and specifically recognizes <code>data.frame</code> as a list even though it secretly has <code>slotNames</code> like an S4 object, while not being an S4 object. (Is it?) Matrix-like objects return the class of each column for consistency, even though all columns have identical class. This function also handles the same special case S4 scenario when it has only one slotName <code>".Data"</code>, as described above for <code><a href="../reference/sdim.html">sdim()</a></code>.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-and-changes-to-mixedorder-family-of-functions-0-0-35-900">bug fixes and changes to mixedOrder() family of functions<a class="anchor" aria-label="anchor" href="#bug-fixes-and-changes-to-mixedorder-family-of-functions-0-0-35-900"></a></h3>
<ul><li><p><code><a href="../reference/mixedOrder.html">mixedOrder()</a></code> did not sort properly when any entry contained only <code>"-"</code> dashes, this problem has been fixed. Previously “-” was potentially used to indicate negative numbers and therefore not treated as a blank value, inadvertently becoming <code>NA</code> and disrupting the ordering. Now strings <code>"-"</code> and <code>"---"</code> are considered blanks.</p></li>
<li><p><code><a href="../reference/mixedOrder.html">mixedOrder()</a></code> now uses the input string as a final tiebreaker, so blank strings like <code>"--"</code> and <code>"-"</code> will also be sorted <code>c("-", "--")</code> in the output instead of returning in the same order as the input.</p></li>
<li>
<p><code><a href="../reference/mixedOrder.html">mixedOrder()</a></code>, several regular expressions were updated to cover edge cases, and will soon be wrapped into a series of <code>"testthat"</code> unit tests, long overdue. Also, verbose output was slightly updated. Specifically:</p>
<ul><li>blanks are properly ordered at the front when <code>blanksFirst=TRUE</code>, and at the end when <code>blanksFirst=FALSE</code>.</li>
<li>NA values are also properly ordered at the front and end with <code>NAlast=FALSE</code> and <code>NAlast=TRUE</code> respectively. The NA order has priority over blanks, so NA will always be completely first or completely last.</li>
<li>Infinite values, when <code>keepInfinite=TRUE</code> will be ordered at the end, but before blanks, then before NA values, if those values are also positioned at the end. Also, when <code>keepNegative=TRUE</code> then <code>"-Inf"</code> will be position at the beginning, but after NA then after blanks, if those values are also positioned at the beginning.</li>
<li>
<code>keepNegative=TRUE</code> also enables recognition of scientific notation, but that regular expression wrongly allowed decimal exponentials, which is not valid (e.g. “1.23e1.2” is not valid.) now the exponential only includes non-decimal numeric values, e.g. <code>"-1.23e2.2"</code> is effectively considered <code>"-1.23e2"</code> and <code>"2"</code>.</li>
</ul></li>
<li><p><code><a href="../reference/mixedSort.html">mixedSort()</a></code>, <code><a href="../reference/mixedSorts.html">mixedSorts()</a></code> and <code><a href="../reference/mixedSortDF.html">mixedSortDF()</a></code> are all affected by the changes to <code><a href="../reference/mixedOrder.html">mixedOrder()</a></code>.</p></li>
<li><p><code><a href="../reference/mixedSorts.html">mixedSorts()</a></code> was updated to enable correct behavior when <code>sortByName=TRUE</code>, which only works when all vectors in the input list are named.</p></li>
<li><p><code><a href="../reference/mixedSorts.html">mixedSorts()</a></code> will accept nested lists, and would have used the ultra-cool <code><a href="https://rdrr.io/r/utils/relist.html" class="external-link">utils::relist()</a></code> function, except that function does not allow re-ordering the vector names within the nested list. So a new function <code><a href="../reference/relist_named.html">relist_named()</a></code> was added to jamba. It also works with <code>sortByName=TRUE</code> to sort each vector by its names, by only if all vectors are named.</p></li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-0-0-35-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-35-900"></a></h3>
<ul><li>
<code><a href="../reference/relist_named.html">relist_named()</a></code> is a small modification of the <code><a href="https://rdrr.io/r/utils/relist.html" class="external-link">utils::relist()</a></code> generic function (actually mostly just the <code>utils:::relist.default()</code>). This function splits a vector into a list matching the structure of a skeleton list, except that the names of each vector in the output list will match the input vector <code>x</code> and not the names from the vectors in the skeleton list.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.34.900" id="jamba-version-0034900">jamba version 0.0.34.900<a class="anchor" aria-label="anchor" href="#jamba-version-0034900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-34-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-34-900"></a></h3>
<ul><li>
<code><a href="../reference/cPaste.html">cPaste()</a></code> now properly handles a list with factor and non-factor types, previously <code><a href="https://rdrr.io/r/base/unlist.html" class="external-link">base::unlist()</a></code> coerced the mixed list to character which changed factor values to integers when non-factor elements were present. Now <code>keepFactors=TRUE</code> will preserve factor levels when sorting with <code>doSort=TRUE</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.33.900" id="jamba-version-0033900">jamba version 0.0.33.900<a class="anchor" aria-label="anchor" href="#jamba-version-0033900"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-0-33-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-33-900"></a></h3>
<ul><li>
<code><a href="../reference/gsubOrdered.html">gsubOrdered()</a></code> applies <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">base::gsub()</a></code> to character or factor input, and returns a factor output, retaining the order of levels based upon the input.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.32.900" id="jamba-version-0032900">jamba version 0.0.32.900<a class="anchor" aria-label="anchor" href="#jamba-version-0032900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-32-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-32-900"></a></h3>
<ul><li>
<code><a href="../reference/jargs.html">jargs()</a></code> changed the default <code>sortVars=FALSE</code> which prints function arguments in the order they are defined.</li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-0-0-32-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-32-900"></a></h3>
<ul><li>
<code><a href="../reference/mergeAllXY.html">mergeAllXY()</a></code> merges multiple data.frames, keeping all rows and columns.</li>
<li>
<code><a href="../reference/unnestList.html">unnestList()</a></code> flattens a nested list-of-lists into a simple, flat list.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.31.900" id="jamba-version-0031900">jamba version 0.0.31.900<a class="anchor" aria-label="anchor" href="#jamba-version-0031900"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-0-31-900">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-31-900"></a></h3>
<ul><li>
<code><a href="../reference/makeColorDarker.html">makeColorDarker()</a></code> fixed issue with repeated colors and darkFactors, processed using unique combination of color,darkFactor,sFactor to improve efficiency with large vectors, but was not properly handling the unique vectors.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.30.900" id="jamba-version-0030900">jamba version 0.0.30.900<a class="anchor" aria-label="anchor" href="#jamba-version-0030900"></a></h2>
<div class="section level3">
<h3 id="changes-0-0-30-900">changes<a class="anchor" aria-label="anchor" href="#changes-0-0-30-900"></a></h3>
<ul><li>revised help text for <code><a href="../reference/uniques.html">uniques()</a></code>
</li>
<li>
<code><a href="../reference/col2hcl.html">col2hcl()</a></code> uses <code><a href="https://colorspace.R-Forge.R-project.org//reference/sRGB.html" class="external-link">colorspace::sRGB()</a></code> instead of <code><a href="https://colorspace.R-Forge.R-project.org//reference/RGB.html" class="external-link">colorspace::RGB()</a></code> to match the convention that <code><a href="https://colorspace.R-Forge.R-project.org//reference/hex2RGB.html" class="external-link">colorspace::hex2RGB()</a></code> actually uses <em>sRGB</em> and not <em>RGB</em> as the function name (and all common sense in the realm of how to name a function) implies.</li>
<li>
<code><a href="../reference/col2hcl.html">col2hcl()</a></code> and <code><a href="../reference/hcl2col.html">hcl2col()</a></code> allow selecting from <code>polarLUV</code> or <code>polarLAB</code> color models, both of which use HCL values to generate colors.</li>
<li>
<code><a href="../reference/col2hcl.html">col2hcl()</a></code> no longer forces the output vector to have names, however it retains names if provided in the input.</li>
<li>
<code><a href="../reference/hcl2col.html">hcl2col()</a></code> will use <code>polarLUV</code> or <code>polarLAB</code> as input without converting to an intermediate color space, which makes output slightly less lossy than converting to and from sRGB.</li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-0-0-30-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-30-900"></a></h3>
<ul><li>
<code><a href="../reference/ucfirst.html">ucfirst()</a></code> is a simple function to uppercase the first letter in a word or phrase.</li>
<li>
<code><a href="../reference/mixedSorts.html">mixedSorts()</a></code> will sort a list of vectors using <code><a href="../reference/mixedSort.html">mixedSort()</a></code> alphanumeric sort, and fairly efficiently too! It sorts the unlisted data then splits it back to a list.</li>
<li>
<code><a href="../reference/drawLabels.html">drawLabels()</a></code> and <code><a href="../reference/coordPresets.html">coordPresets()</a></code> were moved from the <code>jamma</code> package. The <code><a href="../reference/drawLabels.html">drawLabels()</a></code> can be used to add text labels to a plot, with convenient coordinate presets handled by <code><a href="../reference/coordPresets.html">coordPresets()</a></code> which include things like “topleft”, “center”, or “right”. It automatically adjusts the text position to stay inside the plot border in those cases.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.29.900" id="jamba-version-0029900">jamba version 0.0.29.900<a class="anchor" aria-label="anchor" href="#jamba-version-0029900"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-0-29-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-29-900"></a></h3>
<ul><li>
<code><a href="../reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> is a wrapper for the <code>openxlsx</code> package, intended to encapsulate a large number of default options for certain “known” column data types, like P-values, log2 fold changes, and integer values.</li>
<li>
<code><a href="../reference/applyXlsxCategoricalFormat.html">applyXlsxCategoricalFormat()</a></code> and <code><a href="../reference/applyXlsxConditionalFormat.html">applyXlsxConditionalFormat()</a></code> to apply colors to an existing Excel xlsx file worksheet. These functions are called by <code><a href="../reference/writeOpenxlsx.html">writeOpenxlsx()</a></code> but can also be called manually to customize an existing Excel file.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-0-0-29-900">changes<a class="anchor" aria-label="anchor" href="#changes-0-0-29-900"></a></h3>
<ul><li>Added “openxlsx” to Suggests.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.28.900" id="jamba-version-0028900">jamba version 0.0.28.900<a class="anchor" aria-label="anchor" href="#jamba-version-0028900"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-0-28-900">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-28-900"></a></h3>
<ul><li>
<code><a href="../reference/asSize.html">asSize()</a></code> was updated to handle empty units, useful for numeric values especially when kiloSize=1000. Numbers are also trimmed through <code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code> independently so the number of digits is not propagated through all values.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.27.900" id="jamba-version-0027900">jamba version 0.0.27.900<a class="anchor" aria-label="anchor" href="#jamba-version-0027900"></a></h2>
<div class="section level3">
<h3 id="enhancements-0-0-27-900">enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-0-27-900"></a></h3>
<ul><li>
<code><a href="../reference/setTextContrastColor.html">setTextContrastColor()</a></code> has been updated to handle alpha transparency, semi-transparent colors are blended with the background color, then compared to the threshold.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.26.900" id="jamba-version-0026900">jamba version 0.0.26.900<a class="anchor" aria-label="anchor" href="#jamba-version-0026900"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-0-26-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-26-900"></a></h3>
<ul><li>
<code><a href="../reference/formatInt.html">formatInt()</a></code> is a quick wrapper function to format numeric values as integers, by default rounding decimal values and using big.mark=“,”, which can be overridden as needed.</li>
<li>
<code><a href="../reference/list2df.html">list2df()</a></code> to convert a list of vectors into a tall data.frame.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.25.900" id="jamba-version-0025900">jamba version 0.0.25.900<a class="anchor" aria-label="anchor" href="#jamba-version-0025900"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-0-25-900">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-25-900"></a></h3>
<ul><li>
<code>warpAroundZero() was not properly handling</code>baseline`, the method now uses a more straightforward approach.</li>
</ul></div>
<div class="section level3">
<h3 id="enhancements-0-0-25-900">enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-0-25-900"></a></h3>
<ul><li>The site pkgdown documentation was updated to include each function in one (or sometimes multiple) categories, to help in finding potentially useful functions.</li>
<li>The README.Rmd file has been stripped of the examples, which were a bit out of date compared to the function docs, and were not intended to be their own vignette. As I write this, I realize “removed visual examples” is rarely a positive step.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.24.900" id="jamba-version-0024900">jamba version 0.0.24.900<a class="anchor" aria-label="anchor" href="#jamba-version-0024900"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-0-24-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-24-900"></a></h3>
<ul><li>
<code><a href="../reference/pasteByRowOrdered.html">pasteByRowOrdered()</a></code> is an extension to <code><a href="../reference/pasteByRow.html">pasteByRow()</a></code> which creates an ordered factor, where the individual column order is maintained, either using existing factor level ordering, or via <code><a href="../reference/mixedSort.html">mixedSort()</a></code> per column.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.23.900" id="jamba-version-0023900">jamba version 0.0.23.900<a class="anchor" aria-label="anchor" href="#jamba-version-0023900"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-0-23-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-23-900"></a></h3>
<ul><li>
<code><a href="../reference/unalpha.html">unalpha()</a></code> simply removes the alpha transparency from an R hex color, which is required for some plotly functions for example.</li>
<li>
<code><a href="../reference/isTRUEV.html">isTRUEV()</a></code> and <code><a href="../reference/isFALSEV.html">isFALSEV()</a></code> are vectorized forms of <code><a href="https://rdrr.io/r/base/Logic.html" class="external-link">isTRUE()</a></code> and <code><a href="https://rdrr.io/r/base/Logic.html" class="external-link">isFALSE()</a></code>. As they take vector input, the entire vector must be <code>logical</code> in order for any entry to be considered.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-23-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-23-900"></a></h3>
<ul><li>
<code><a href="../reference/rgb2col.html">rgb2col()</a></code> was enhanced so the <code>alpha</code> argument conveys whether to return alpha transparency in the output string. It seemed to be a convenient place to control alpha since the conversion of color names to hex requires converting to RGB as an intermediate, then back to hex color.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.22.900" id="jamba-version-0022900">jamba version 0.0.22.900<a class="anchor" aria-label="anchor" href="#jamba-version-0022900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-22-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-22-900"></a></h3>
<ul><li>
<code><a href="../reference/minorLogTicks.html">minorLogTicks()</a></code> and <code><a href="../reference/minorLogTicksAxis.html">minorLogTicksAxis()</a></code> had an argument renamed to <code>offset</code> instead of <code>labelValueOffset</code>. Better to change it now before it has wider use. Also, the defaults were changed to <code>logBase=2</code> and <code>displayBase=10</code> based upon the current most frequent usage. Best to set these values explicitly. Ideally, R graphical parameters should define the log base instead of TRUE/FALSE in <code>par("xlog")</code> and <code>par("ylog")</code>.</li>
<li>
<code><a href="../reference/normScale.html">normScale()</a></code> was modified so the <code>low</code> and <code>high</code> range values are properly honored even when supplying a single value for <code>x</code>. Now the behavior checks if <code>low</code> is equal <code>high</code> to determine whether to use the <code>low</code> and <code>high</code> values. This adjustment helps <code>applyCLranges()</code> restrict colors to allowed ranges without over-correcting single colors to the midpoint of the range.</li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-0-0-22-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-22-900"></a></h3>
<ul><li>Added function <code><a href="../reference/sqrtAxis.html">sqrtAxis()</a></code> which computes axis tick mark positions for data that has been square root transformed, using transformation <code>sqrt(abs(x))*sign(x)</code> in order to maintain positive and negative values. This function is called by <code><a href="../reference/plotPolygonDensity.html">plotPolygonDensity()</a></code> when using <code>xScale="sqrt"</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixed-0-0-22-900">bug fixed<a class="anchor" aria-label="anchor" href="#bug-fixed-0-0-22-900"></a></h3>
<ul><li>Cleaned up an issue with <code><a href="../reference/getColorRamp.html">getColorRamp()</a></code> with RColorBrewer colors, where it previously would retrieve colors using a number higher then the actual number supplied by <code><a href="https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html" class="external-link">RColorBrewer::brewer.pal()</a></code>, and which only issues a warning (which I had hidden.) The code now checks for the proper maximum number, and expands to the larger number using <code><a href="https://rdrr.io/r/grDevices/colorRamp.html" class="external-link">colorRampPalette()</a></code> as needed.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.21.900" id="jamba-version-0021900">jamba version 0.0.21.900<a class="anchor" aria-label="anchor" href="#jamba-version-0021900"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-0-21-900">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-21-900"></a></h3>
<ul><li>Updated <code><a href="../reference/cPaste.html">cPaste()</a></code> to handle lists with a single NA value, which failed previously because a single NA is considered class “logical” and not “character” as required by <code><a href="https://rdrr.io/pkg/S4Vectors/man/character-utils.html" class="external-link">S4Vectors::unstrsplit()</a></code>.</li>
<li>Changed how <code>Crange</code> and <code>Lrange</code> values are used in <code><a href="../reference/make_styles.html">make_styles()</a></code>, the new default will not overwrite the global <code>Crange</code> and <code>Lrange</code> settings.</li>
<li>Changed how <code>Crange</code> and <code>Lrange</code> values are enforced by <code>applyCLranges()</code>. There is a new argument <code>CLmethod</code> which controls how C and L values are adjusted.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.20.900" id="jamba-version-0020900">jamba version 0.0.20.900<a class="anchor" aria-label="anchor" href="#jamba-version-0020900"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-0-20-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-20-900"></a></h3>
<ul><li>
<code><a href="../reference/fillBlanks.html">fillBlanks()</a></code> is used to fill a vector that has missing values, and fills missing values with the most recent non-blank value. It is useful when importing Excel data where headings might be present in the first cell of a block of cells, followed by blanks.</li>
<li>
<code><a href="../reference/newestFile.html">newestFile()</a></code> takes a vector of files, and returns the most recently modified, using <code><a href="https://rdrr.io/r/base/file.info.html" class="external-link">file.info()</a></code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.19.900" id="jamba-version-0019900">jamba version 0.0.19.900<a class="anchor" aria-label="anchor" href="#jamba-version-0019900"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-0-19-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-19-900"></a></h3>
<ul><li>
<code><a href="../reference/grepls.html">grepls()</a></code> a useful utility for search the active environment by object name. For example <code>grepls("statshits")</code> will find everything named “statshits”, or <code>grepls("farris")</code> will find everything with “farris” in the name”, even within packages, or other attached environments in the search space.</li>
<li>
<code><a href="../reference/warpRamp.html">warpRamp()</a></code> takes a vector of colors as from a color gradient, and warps the gradient. For divergent colors, the adjustmet is symmetric around the middle color; otherwise the adjustment is relative to the first color. Helpful for adjusting colors scales in heatmaps.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.18.900" id="jamba-version-0018900">jamba version 0.0.18.900<a class="anchor" aria-label="anchor" href="#jamba-version-0018900"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-0-18-900">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-18-900"></a></h3>
<ul><li>
<code><a href="../reference/imageDefault.html">imageDefault()</a></code>, <code><a href="../reference/plotSmoothScatter.html">plotSmoothScatter()</a></code>, <code><a href="../reference/smoothScatterJam.html">smoothScatterJam()</a></code> were updated to allow values lower than 200 for <code>nbin</code> which previously caused problems when <code>fixRasterRatio=TRUE</code> and <code>oldstyle=TRUE</code>.</li>
<li>
<code><a href="../reference/rmNA.html">rmNA()</a></code> by default returns <code>NULL</code> when given <code>NULL</code> input, unless <code>nullValue</code> is defined. This change fixed several warnings, and resolved inconsistencies with <code><a href="../reference/setCLranges.html">setCLranges()</a></code> not handling NULL parameters properly, consequently affecting <code><a href="../reference/make_styles.html">make_styles()</a></code> ability to restrict the color chroma (C) and luminance (L) ranges, seen when <code><a href="../reference/printDebug.html">printDebug()</a></code> did not use scaled colors.</li>
<li>Fixed bug in <code><a href="../reference/hcl2col.html">hcl2col()</a></code> during detection of RGB values above 255, which sometimes happens during the <code><a href="https://colorspace.R-Forge.R-project.org//reference/polarLUV.html" class="external-link">colorspace::polarLUV()</a></code> conversion from HCL to RGB.</li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-0-0-18-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-18-900"></a></h3>
<ul><li>
<code><a href="../reference/rlengths.html">rlengths()</a></code> returns the recursive lengths of list elements, intended when a list may have multiple nested lists. It returns the top level of counts per list element by default, but with <code>doSum=FALSE</code> it returns the full structure with the length of each non-list element.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.17.900" id="jamba-version-0017900">jamba version 0.0.17.900<a class="anchor" aria-label="anchor" href="#jamba-version-0017900"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-0-17-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-17-900"></a></h3>
<ul><li>
<code><a href="../reference/minorLogTicksAxis.html">minorLogTicksAxis()</a></code> and <code><a href="../reference/minorLogTicks.html">minorLogTicks()</a></code> provide log-transformed axis labels, with the added benefit of handling <code>log(1+x)</code> transformations properly; or log2FoldChange data with symmetry around zero.</li>
<li>
<code><a href="../reference/renameColumn.html">renameColumn()</a></code> a basic function but which allows re-running the function without error.</li>
<li>
<code><a href="../reference/normScale.html">normScale()</a></code> scales a numeric vector into a fixed range, by default between 0 and 1. If one value is given, a parameter <code>singletMethod</code> defines whether to use the minimum, maximum, or mean of the range.</li>
<li>
<code><a href="../reference/rowGroupMeans.html">rowGroupMeans()</a></code> and <code><a href="../reference/rowRmMadOutliers.html">rowRmMadOutliers()</a></code> are used to compute per-row mean values, with grouped columns. Optional outlier detection is performed using a MAD factor cutoff, for example 5xMAD threshold means points 5 times the MAD for the group are considered outliers.</li>
<li>
<code><a href="../reference/plotPolygonDensity.html">plotPolygonDensity()</a></code> which is a wrapper around <code><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist()</a></code> and <code>plot(density(x))</code>, but with some added features like scaling the x-axis by log10 or sqrt; and multi-panel output when the input is a multi-column matrix.</li>
<li>
<code><a href="../reference/warpAroundZero.html">warpAroundZero()</a></code> takes a numeric vector, and warps the values with a log curvature, symmetric around zero. The intent is to create non-linear breaks when used in heatmaps with divergent color ramps.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixed-0-0-17-900">bug fixed<a class="anchor" aria-label="anchor" href="#bug-fixed-0-0-17-900"></a></h3>
<ul><li>
<code><a href="../reference/ssdim.html">ssdim()</a></code> was updated again to try to handle more non-list object types, for example the “bga” class returned from made4::bga().</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.16.900" id="jamba-version-0016900">jamba version 0.0.16.900<a class="anchor" aria-label="anchor" href="#jamba-version-0016900"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-0-16-900">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-16-900"></a></h3>
<ul><li>Fixed small issue with R docs that did not properly wrap the <code>%&gt;%</code> inside <code>\code{\%&gt;\%}</code> blocks, which allows the percent sign to be escaped and ignored.</li>
<li>Fixed numerous incorrectly formatted <code>\code{\link{}}</code> sections which did not properly specify the package name. The issue apparently only causes errors during package install on systems using HTML as the preferred help format.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.15.900" id="jamba-version-0015900">jamba version 0.0.15.900<a class="anchor" aria-label="anchor" href="#jamba-version-0015900"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-0-15-900">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-15-900"></a></h3>
<ul><li>
<code><a href="../reference/smoothScatterJam.html">smoothScatterJam()</a></code> and <code><a href="../reference/imageDefault.html">imageDefault()</a></code> were updated to fix edge cases where the image being rendered was expected to have integer axis units, but where the raster ratio had duplicated columns or rows, making the units imprecise.</li>
<li>
<code><a href="../reference/setPrompt.html">setPrompt()</a></code> has default <code>projectName=NULL</code> instead of trying to pull from <code>projectName</code> from the <code>.GlobalEnv</code> environment, which would cause an error if not defined. Instead, if <code>NULL</code> then it checks if <code>projectName</code> exists, if so the value is used.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.14.900" id="jamba-version-0014900">jamba version 0.0.14.900<a class="anchor" aria-label="anchor" href="#jamba-version-0014900"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-0-14-900">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-14-900"></a></h3>
<ul><li>Fixed issue with <code><a href="../reference/sdim.html">sdim()</a></code> so it would properly traverse a non-vector and non-list object which may contain elements with length or dimension.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.13.900" id="jamba-version-0013900">jamba version 0.0.13.900<a class="anchor" aria-label="anchor" href="#jamba-version-0013900"></a></h2>
<div class="section level3">
<h3 id="enhancements-0-0-13-900">enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-0-13-900"></a></h3>
<ul><li>
<code><a href="../reference/setCLranges.html">setCLranges()</a></code> was adjusted to use global options where available, and by default will update global options when not defined. This mechanism allows one to set specific Crange and Lrange values, and have them be re-used by functions affected by those values.</li>
<li>
<code><a href="../reference/ssdim.html">ssdim()</a></code> now handles S4 objects by iterating each slotName and calling <code><a href="../reference/sdim.html">sdim()</a></code>.</li>
<li>
<code><a href="../reference/sdim.html">sdim()</a></code> now properly handles detection of S4 classes.</li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-0-0-13-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-13-900"></a></h3>
<ul><li>
<code><a href="../reference/fixYellowHue.html">fixYellowHue()</a></code> takes a matrix of HCL colors (as from <code><a href="../reference/col2hcl.html">col2hcl()</a></code>) and adjusts colors between hue 80 and 90 so they appear less green. This change is a visual preference that the default yellow appears green when darkened, and simply makes the color appear less green.</li>
<li>
<code>fixYellowColor()</code> takes a vector of colors as a wrapper to <code><a href="../reference/fixYellowHue.html">fixYellowHue()</a></code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.12.900" id="jamba-version-0012900">jamba version 0.0.12.900<a class="anchor" aria-label="anchor" href="#jamba-version-0012900"></a></h2>
<p>The main change in this version was to reduce required R version to 3.0.0.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.11.900" id="jamba-version-0011900">jamba version 0.0.11.900<a class="anchor" aria-label="anchor" href="#jamba-version-0011900"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-0-11-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-11-900"></a></h3>
<ul><li>
<code><a href="../reference/cPaste.html">cPaste()</a></code> is an efficient method of pasting a list of vectors using a delimiter, to create a character vector. It uses <code><a href="../reference/mixedOrder.html">mixedOrder()</a></code> to sort entries, and optionally applies uniqueness to the vectors.</li>
<li>
<code><a href="../reference/uniques.html">uniques()</a></code> takes a list and makes each vector in the list unique, using an efficient mechanism that applies uniqueness to the overall set of values at once.</li>
</ul></div>
<div class="section level3">
<h3 id="suggests-s4vectors-0-0-11-900">Suggests S4Vectors<a class="anchor" aria-label="anchor" href="#suggests-s4vectors-0-0-11-900"></a></h3>
<ul><li>The Bioconductor package <code>S4Vectors</code> implements efficient <code>unstrsplit()</code> used by <code><a href="../reference/cPaste.html">cPaste()</a></code>. However, S4Vectors therefore requires installing Bioconductor base packages, which might be a heavy installation requirement just for improved efficiency at this step. In future this one function may be reproduced here (with permission of author Dr. Pages) to reduce the dependency burden.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.9.900" id="jamba-version-009900">jamba version 0.0.9.900<a class="anchor" aria-label="anchor" href="#jamba-version-009900"></a></h2>
<div class="section level3">
<h3 id="enhancements-0-0-9-900">enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-0-9-900"></a></h3>
<ul><li>
<code><a href="../reference/jargs.html">jargs()</a></code> does a better job of handling functions with nested lists, and closes any open <code>[</code> with corresponding <code>]</code>.</li>
<li>
<code><a href="../reference/jargs.html">jargs()</a></code> properly honors <code>useColor=FALSE</code> to disable colorized text, and adds <code>colNULL</code> to assign a color for <code>NULL</code> values, by default grey.</li>
<li>
<code><a href="../reference/printDebug.html">printDebug()</a></code>, <code><a href="../reference/make_styles.html">make_styles()</a></code> will apply a CL range, chroma (C) and luminance (L) values, which are defined in part by <code>lightMode</code> and corresponding function <code><a href="../reference/checkLightMode.html">checkLightMode()</a></code>, and a helper function <code><a href="../reference/setCLranges.html">setCLranges()</a></code> which sets sensible default values for light and dark backgrounds.</li>
<li>
<code><a href="../reference/printDebug.html">printDebug()</a></code> has two optional parameters <code>Crange</code> and <code>Lrange</code> which define a chroma (C) range and luminance (L) range. For lighter background, a maximum luminance of 80 seems reasonable; for darker background colors, minimum luminance of 75 is effective. The only awkwardness is that yellow darkens to a greenish hue, which is not aesthetically pleasing, so because I even noticed it, I had to “fix” the issue by adjusting yellows to more gold before darkening, enabled with default argument <code>fixYellow=TRUE</code>.</li>
<li>
<code><a href="../reference/make_styles.html">make_styles()</a></code> calls <code><a href="../reference/applyCLrange.html">applyCLrange()</a></code> which fixes the chroma (C) and luminance (L) values, hopefully to sensible default values.</li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-0-0-9-900">New functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-9-900"></a></h3>
<ul><li>
<code><a href="../reference/applyCLrange.html">applyCLrange()</a></code> takes a vector of colors, and fixes the chroma (C) and luminance (L) values to this range. If <code>Cgrey</code> is above zero, then colors with chroma (C) value below this threshold are kept unchanged, in order to prevent a purely grey (unsaturated) color from becoming colorized.</li>
<li>
<code><a href="../reference/setCLranges.html">setCLranges()</a></code> will query <code><a href="../reference/checkLightMode.html">checkLightMode()</a></code> and return <code>Crange</code> and <code>Lrange</code> default values.</li>
<li>
<code><a href="../reference/hcl2col.html">hcl2col()</a></code> which simply converts the output of <code><a href="../reference/col2hcl.html">col2hcl()</a></code> back to a vector of R hex colors. It should not be lossy, meaning it should faithfully convert R colors to an HCL matrix, then back to the same R original hex colors. Alpha transparency is also maintained. Note that <code><a href="../reference/hcl2col.html">hcl2col()</a></code> performs differently than <code><a href="https://rdrr.io/r/grDevices/hcl.html" class="external-link">grDevices::hcl()</a></code> which does not produce the same colors as <code>colorspace::polarLUV(H, C, L)</code> using the same values for <code>H</code>, <code>C</code>, and <code>L</code>. The reasons unclear, however the functions in <code>jamba</code> are internally consistent, using <code>colorspace</code> functions.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.6.900" id="jamba-version-006900">jamba version 0.0.6.900<a class="anchor" aria-label="anchor" href="#jamba-version-006900"></a></h2>
<div class="section level3">
<h3 id="enhancements-0-0-6-900">enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-0-6-900"></a></h3>
<ul><li>jamba now uses some global options(), intended only for function parameters that affect visual output, and will not affect analysis processing. Examples:
<ul><li>
<code>jam.adjustRgb</code> - numeric, sets the parameter “<code>adjustRgb</code>” in printDebug().</li>
<li>
<code>jam.lightMode</code> - boolean, sets the lightMode, see below.</li>
</ul></li>
<li>
<code><a href="../reference/printDebug.html">printDebug()</a></code> has a new boolean parameter “lightMode”, which is TRUE when the background color is light (e.g. white or light-grey.) In this case, it applies a ceiling to the brightness of all text colors to ensure none are too bright to be visible.</li>
<li>
<code><a href="../reference/mixedSortDF.html">mixedSortDF()</a></code> now accepts character values for <code>byCols</code>, with optional prefix “-” to indicate decreasing sort. Alternatively, the parameter decreasing will still be used to reverse the sort, and is converted to a vector when byCols has multiple values. Note that the prefix “-” and decreasing are multiplied to combine them.</li>
<li>
<code><a href="../reference/smoothScatterJam.html">smoothScatterJam()</a></code> tests if postPlotHook is a function, in which case it runs <code>postPlotHook(...)</code> otherwise it simply evaluates <code>postPlotHook;</code>
</li>
<li>
<code><a href="../reference/nullPlot.html">nullPlot()</a></code>, <code><a href="../reference/usrBox.html">usrBox()</a></code>, and <code><a href="../reference/imageDefault.html">imageDefault()</a></code> have a new boolen parameter “<code>add</code>” indicating whether to create a new plot or add to an existing plot device.</li>
<li>
<code><a href="../reference/rbindList.html">rbindList()</a></code> has a new boolean parameter <code>keepNA</code> indicating whether to keep NA values in the results, which ultimately causes NA to be converted to “NA”.</li>
<li>
<code><a href="../reference/makeNames.html">makeNames()</a></code> has a new boolean parameter <code>keepNA</code> indicating whether to keep NA values in the results. When keepNA is TRUE, NA is converted to “NA”, otherwise NA entries are treated as “” prior to creating names.</li>
<li>
<code><a href="../reference/rmNA.html">rmNA()</a></code> changed the default value for parameter <code>rmNAnames</code> to <code>FALSE</code>, which was the more anticipated behavior. An input vector will not be shortened for non-NA values that have an NA name. Changing function parameter defaults will be an extremely rare occurrence in future.</li>
<li>
<code><a href="../reference/make_styles.html">make_styles()</a></code> which is a vectorized wrapper for <code><a href="https://rdrr.io/pkg/crayon/man/make_style.html" class="external-link">crayon::make_style()</a></code>, gains some finer control over color chroma and luminance.</li>
<li>
<code><a href="../reference/jargs.html">jargs()</a></code> gets a larger refactoring, aimed at better display of list parameters, and lists of lists and other nested variations. It now does a better job of displaying the list and vector names appropriately. A new function <code><a href="../reference/handleArgsText.html">handleArgsText()</a></code> was split into a separate function, but is a rare non-exported function since it is currently only useful for <code><a href="../reference/jargs.html">jargs()</a></code>.</li>
<li>TODO.md was created to keep track of future enhancements and fixes.</li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-0-0-6-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-6-900"></a></h3>
<ul><li>
<code>applyLceiling()</code> intended to restrict colors to a maximum luminance in HCL color space, mainly to support the new lightMode option intended for using <code><a href="../reference/printDebug.html">printDebug()</a></code> with a light background.</li>
<li>
<code><a href="../reference/checkLightMode.html">checkLightMode()</a></code> intends to support the new lightMode option by doing its best to check situations to enable lightMode. It first checks options(“lightMode”). It then checks environment variables that suggest Rstudio is running, in which case it defaults to lightMode=TRUE, since the default Rstudio has a light background.</li>
<li>
<code><a href="../reference/sclass.html">sclass()</a></code>, <code><a href="../reference/sdim.html">sdim()</a></code>, and <code><a href="../reference/ssdim.html">ssdim()</a></code> are intended to help handle list objects.
<ul><li>
<code><a href="../reference/sclass.html">sclass()</a></code> returns the class of each list element.</li>
<li>
<code><a href="../reference/sdim.html">sdim()</a></code> returns the dimensions (or lengths) or each list element.</li>
<li>
<code><a href="../reference/ssdim.html">ssdim()</a></code> is a special case that returns the dimensions of a list of list of objects. In all cases, if the input object is an S4 object, it operates on <code>slotNames(x)</code>. Thus, calling <code>ssdim(x)</code> is helpful for S4 objects, since it returns the class and dimensions of each object inside the S4 object.</li>
</ul></li>
</ul></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.9000.9000.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

